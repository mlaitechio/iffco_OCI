function XI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var BP={exports:{}},Bu={},LP={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),YI=Symbol.for("react.portal"),ZI=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),i1=Symbol.for("react.forward_ref"),s1=Symbol.for("react.suspense"),o1=Symbol.for("react.memo"),a1=Symbol.for("react.lazy"),lg=Symbol.iterator;function c1(t){return t===null||typeof t!="object"?null:(t=lg&&t[lg]||t["@@iterator"],typeof t=="function"?t:null)}var jP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qP=Object.assign,HP={};function Rs(t,e,r){this.props=t,this.context=e,this.refs=HP,this.updater=r||jP}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UP(){}UP.prototype=Rs.prototype;function Zh(t,e,r){this.props=t,this.context=e,this.refs=HP,this.updater=r||jP}var ef=Zh.prototype=new UP;ef.constructor=Zh;qP(ef,Rs.prototype);ef.isPureReactComponent=!0;var ug=Array.isArray,FP=Object.prototype.hasOwnProperty,tf={current:null},$P={key:!0,ref:!0,__self:!0,__source:!0};function WP(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)FP.call(e,n)&&!$P.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Uc,type:t,key:s,ref:o,props:i,_owner:tf.current}}function l1(t,e){return{$$typeof:Uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uc}function u1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dg=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u1(""+t.key):e.toString(36)}function Ml(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uc:case YI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+xp(o,0):n,ug(i)?(r="",t!=null&&(r=t.replace(dg,"$&/")+"/"),Ml(i,e,r,"",function(l){return l})):i!=null&&(rf(i)&&(i=l1(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ug(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+xp(s,a);o+=Ml(s,e,r,c,i)}else if(c=c1(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+xp(s,a++),o+=Ml(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cl(t,e,r){if(t==null)return t;var n=[],i=0;return Ml(t,n,"","",function(s){return e.call(r,s,i++)}),n}function d1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},kl={transition:null},p1={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:kl,ReactCurrentOwner:tf};ne.Children={map:cl,forEach:function(t,e,r){cl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!rf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Rs;ne.Fragment=ZI;ne.Profiler=t1;ne.PureComponent=Zh;ne.StrictMode=e1;ne.Suspense=s1;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p1;ne.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)FP.call(e,c)&&!$P.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Uc,type:t.type,key:i,ref:s,props:n,_owner:o}};ne.createContext=function(t){return t={$$typeof:n1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r1,_context:t},t.Consumer=t};ne.createElement=WP;ne.createFactory=function(t){var e=WP.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:i1,render:t}};ne.isValidElement=rf;ne.lazy=function(t){return{$$typeof:a1,_payload:{_status:-1,_result:t},_init:d1}};ne.memo=function(t,e){return{$$typeof:o1,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=kl.transition;kl.transition={};try{t()}finally{kl.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return Pt.current.useCallback(t,e)};ne.useContext=function(t){return Pt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Pt.current.useEffect(t,e)};ne.useId=function(){return Pt.current.useId()};ne.useImperativeHandle=function(t,e,r){return Pt.current.useImperativeHandle(t,e,r)};ne.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Pt.current.useMemo(t,e)};ne.useReducer=function(t,e,r){return Pt.current.useReducer(t,e,r)};ne.useRef=function(t){return Pt.current.useRef(t)};ne.useState=function(t){return Pt.current.useState(t)};ne.useSyncExternalStore=function(t,e,r){return Pt.current.useSyncExternalStore(t,e,r)};ne.useTransition=function(){return Pt.current.useTransition()};ne.version="18.2.0";LP.exports=ne;var q=LP.exports;const Lr=kP(q),m1=XI({__proto__:null,default:Lr},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=q,f1=Symbol.for("react.element"),v1=Symbol.for("react.fragment"),g1=Object.prototype.hasOwnProperty,y1=h1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C1={key:!0,ref:!0,__self:!0,__source:!0};function KP(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)g1.call(e,n)&&!C1.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:f1,type:t,key:s,ref:o,props:i,_owner:y1.current}}Bu.Fragment=v1;Bu.jsx=KP;Bu.jsxs=KP;BP.exports=Bu;var O=BP.exports,Om={},VP={exports:{}},jt={},GP={exports:{}},QP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var Q=M.length;M.push(V);e:for(;0<Q;){var Se=Q-1>>>1,Ie=M[Se];if(0<i(Ie,V))M[Se]=V,M[Q]=Ie,Q=Se;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],Q=M.pop();if(Q!==V){M[0]=Q;e:for(var Se=0,Ie=M.length,Mi=Ie>>>1;Se<Mi;){var Er=2*(Se+1)-1,Js=M[Er],wr=Er+1,ki=M[wr];if(0>i(Js,Q))wr<Ie&&0>i(ki,Js)?(M[Se]=ki,M[wr]=Q,Se=wr):(M[Se]=Js,M[Er]=Q,Se=Er);else if(wr<Ie&&0>i(ki,Q))M[Se]=ki,M[wr]=Q,Se=wr;else break e}}return V}function i(M,V){var Q=M.sortIndex-V.sortIndex;return Q!==0?Q:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,p=3,m=!1,h=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var V=r(l);V!==null;){if(V.callback===null)n(l);else if(V.startTime<=M)n(l),V.sortIndex=V.expirationTime,e(c,V);else break;V=r(l)}}function S(M){if(v=!1,C(M),!h)if(r(c)!==null)h=!0,Gs(P);else{var V=r(l);V!==null&&Qs(S,V.startTime-M)}}function P(M,V){h=!1,v&&(v=!1,f(x),x=-1),m=!0;var Q=p;try{for(C(V),d=r(c);d!==null&&(!(d.expirationTime>V)||M&&!it());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,p=d.priorityLevel;var Ie=Se(d.expirationTime<=V);V=t.unstable_now(),typeof Ie=="function"?d.callback=Ie:d===r(c)&&n(c),C(V)}else n(c);d=r(c)}if(d!==null)var Mi=!0;else{var Er=r(l);Er!==null&&Qs(S,Er.startTime-V),Mi=!1}return Mi}finally{d=null,p=Q,m=!1}}var R=!1,b=null,x=-1,X=5,K=-1;function it(){return!(t.unstable_now()-K<X)}function dr(){if(b!==null){var M=t.unstable_now();K=M;var V=!0;try{V=b(!0,M)}finally{V?Me():(R=!1,b=null)}}else R=!1}var Me;if(typeof g=="function")Me=function(){g(dr)};else if(typeof MessageChannel<"u"){var Vs=new MessageChannel,Pp=Vs.port2;Vs.port1.onmessage=dr,Me=function(){Pp.postMessage(null)}}else Me=function(){y(dr,0)};function Gs(M){b=M,R||(R=!0,Me())}function Qs(M,V){x=y(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,Gs(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var Q=p;p=V;try{return M()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=p;p=M;try{return V()}finally{p=Q}},t.unstable_scheduleCallback=function(M,V,Q){var Se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Se+Q:Se):Q=Se,M){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=Q+Ie,M={id:u++,callback:V,priorityLevel:M,startTime:Q,expirationTime:Ie,sortIndex:-1},Q>Se?(M.sortIndex=Q,e(l,M),r(c)===null&&M===r(l)&&(v?(f(x),x=-1):v=!0,Qs(S,Q-Se))):(M.sortIndex=Ie,e(c,M),h||m||(h=!0,Gs(P))),M},t.unstable_shouldYield=it,t.unstable_wrapCallback=function(M){var V=p;return function(){var Q=p;p=V;try{return M.apply(this,arguments)}finally{p=Q}}}})(QP);GP.exports=QP;var S1=GP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=q,Lt=S1;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XP=new Set,hc={};function Ri(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(hc[t]=e,t=0;t<e.length;t++)XP.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,P1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},mg={};function R1(t){return Mm.call(mg,t)?!0:Mm.call(pg,t)?!1:P1.test(t)?mg[t]=!0:(pg[t]=!0,!1)}function x1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N1(t,e,r,n){if(e===null||typeof e>"u"||x1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var nf=/[\-:]([a-z])/g;function sf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nf,sf);et[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nf,sf);et[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nf,sf);et[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function of(t,e,r,n){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N1(e,r,i,n)&&(r=null),n||i===null?R1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Gr=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),ji=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),YP=Symbol.for("react.provider"),ZP=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),eR=Symbol.for("react.offscreen"),hg=Symbol.iterator;function Xs(t){return t===null||typeof t!="object"?null:(t=hg&&t[hg]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,Np;function Va(t){if(Np===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var Ep=!1;function wp(t,e){if(!t||Ep)return"";Ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ep=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Va(t):""}function E1(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=wp(t.type,!1),t;case 11:return t=wp(t.type.render,!1),t;case 1:return t=wp(t.type,!0),t;default:return""}}function Lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case ji:return"Portal";case km:return"Profiler";case af:return"StrictMode";case Dm:return"Suspense";case Bm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZP:return(t.displayName||"Context")+".Consumer";case YP:return(t._context.displayName||"Context")+".Provider";case cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lf:return e=t.displayName||null,e!==null?e:Lm(t.type)||"Memo";case en:e=t._payload,t=t._init;try{return Lm(t(e))}catch{}}return null}function w1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lm(e);case 8:return e===af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b1(t){var e=tR(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ul(t){t._valueTracker||(t._valueTracker=b1(t))}function rR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tR(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jm(t,e){var r=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nR(t,e){e=e.checked,e!=null&&of(t,"checked",e,!1)}function qm(t,e){nR(t,e);var r=Sn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hm(t,e.type,Sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hm(t,e,r){(e!=="number"||Jl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ga=Array.isArray;function Yi(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(Ga(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sn(r)}}function iR(t,e){var r=Sn(e.value),n=Sn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dl,oR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T1=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){T1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function aR(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function cR(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=aR(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var I1=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(I1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Wm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=null;function uf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Zi=null,es=null;function Cg(t){if(t=Wc(t)){if(typeof Vm!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Uu(e),Vm(t.stateNode,t.type,e))}}function lR(t){Zi?es?es.push(t):es=[t]:Zi=t}function uR(){if(Zi){var t=Zi,e=es;if(es=Zi=null,Cg(t),e)for(t=0;t<e.length;t++)Cg(e[t])}}function dR(t,e){return t(e)}function pR(){}var bp=!1;function mR(t,e,r){if(bp)return t(e,r);bp=!0;try{return dR(t,e,r)}finally{bp=!1,(Zi!==null||es!==null)&&(pR(),uR())}}function vc(t,e){var r=t.stateNode;if(r===null)return null;var n=Uu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var Gm=!1;if(Hr)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Gm=!1}function _1(t,e,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var ec=!1,Xl=null,Yl=!1,Qm=null,A1={onError:function(t){ec=!0,Xl=t}};function z1(t,e,r,n,i,s,o,a,c){ec=!1,Xl=null,_1.apply(A1,arguments)}function O1(t,e,r,n,i,s,o,a,c){if(z1.apply(this,arguments),ec){if(ec){var l=Xl;ec=!1,Xl=null}else throw Error(E(198));Yl||(Yl=!0,Qm=l)}}function xi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sg(t){if(xi(t)!==t)throw Error(E(188))}function M1(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Sg(i),t;if(s===n)return Sg(i),e;s=s.sibling}throw Error(E(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function fR(t){return t=M1(t),t!==null?vR(t):null}function vR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vR(t);if(e!==null)return e;t=t.sibling}return null}var gR=Lt.unstable_scheduleCallback,Pg=Lt.unstable_cancelCallback,k1=Lt.unstable_shouldYield,D1=Lt.unstable_requestPaint,Te=Lt.unstable_now,B1=Lt.unstable_getCurrentPriorityLevel,df=Lt.unstable_ImmediatePriority,yR=Lt.unstable_UserBlockingPriority,Zl=Lt.unstable_NormalPriority,L1=Lt.unstable_LowPriority,CR=Lt.unstable_IdlePriority,Lu=null,Sr=null;function j1(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Lu,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:U1,q1=Math.log,H1=Math.LN2;function U1(t){return t>>>=0,t===0?32:31-(q1(t)/H1|0)|0}var pl=64,ml=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Qa(a):(s&=o,s!==0&&(n=Qa(s)))}else o=r&~i,o!==0?n=Qa(o):s!==0&&(n=Qa(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ir(e),i=1<<r,n|=t[r],e&=~i;return n}function F1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ir(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=F1(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SR(){var t=pl;return pl<<=1,!(pl&4194240)&&(pl=64),t}function Tp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=r}function W1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ir(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function pf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ir(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ue=0;function PR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RR,mf,xR,NR,ER,Xm=!1,hl=[],dn=null,pn=null,mn=null,gc=new Map,yc=new Map,sn=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rg(t,e){switch(t){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(e.pointerId)}}function Zs(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wc(e),e!==null&&mf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V1(t,e,r,n,i){switch(e){case"focusin":return dn=Zs(dn,t,e,r,n,i),!0;case"dragenter":return pn=Zs(pn,t,e,r,n,i),!0;case"mouseover":return mn=Zs(mn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return gc.set(s,Zs(gc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,yc.set(s,Zs(yc.get(s)||null,t,e,r,n,i)),!0}return!1}function wR(t){var e=ni(t.target);if(e!==null){var r=xi(e);if(r!==null){if(e=r.tag,e===13){if(e=hR(r),e!==null){t.blockedOn=e,ER(t.priority,function(){xR(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Km=n,r.target.dispatchEvent(n),Km=null}else return e=Wc(r),e!==null&&mf(e),t.blockedOn=r,!1;e.shift()}return!0}function xg(t,e,r){Dl(t)&&r.delete(e)}function G1(){Xm=!1,dn!==null&&Dl(dn)&&(dn=null),pn!==null&&Dl(pn)&&(pn=null),mn!==null&&Dl(mn)&&(mn=null),gc.forEach(xg),yc.forEach(xg)}function eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Xm||(Xm=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,G1)))}function Cc(t){function e(i){return eo(i,t)}if(0<hl.length){eo(hl[0],t);for(var r=1;r<hl.length;r++){var n=hl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(dn!==null&&eo(dn,t),pn!==null&&eo(pn,t),mn!==null&&eo(mn,t),gc.forEach(e),yc.forEach(e),r=0;r<sn.length;r++)n=sn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<sn.length&&(r=sn[0],r.blockedOn===null);)wR(r),r.blockedOn===null&&sn.shift()}var ts=Gr.ReactCurrentBatchConfig,tu=!0;function Q1(t,e,r,n){var i=ue,s=ts.transition;ts.transition=null;try{ue=1,hf(t,e,r,n)}finally{ue=i,ts.transition=s}}function J1(t,e,r,n){var i=ue,s=ts.transition;ts.transition=null;try{ue=4,hf(t,e,r,n)}finally{ue=i,ts.transition=s}}function hf(t,e,r,n){if(tu){var i=Ym(t,e,r,n);if(i===null)Lp(t,e,n,ru,r),Rg(t,n);else if(V1(i,t,e,r,n))n.stopPropagation();else if(Rg(t,n),e&4&&-1<K1.indexOf(t)){for(;i!==null;){var s=Wc(i);if(s!==null&&RR(s),s=Ym(t,e,r,n),s===null&&Lp(t,e,n,ru,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Lp(t,e,n,null,r)}}var ru=null;function Ym(t,e,r,n){if(ru=null,t=uf(n),t=ni(t),t!==null)if(e=xi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hR(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ru=t,null}function bR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B1()){case df:return 1;case yR:return 4;case Zl:case L1:return 16;case CR:return 536870912;default:return 16}default:return 16}}var an=null,ff=null,Bl=null;function TR(){if(Bl)return Bl;var t,e=ff,r=e.length,n,i="value"in an?an.value:an.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Bl=i.slice(t,1<n?1-n:void 0)}function Ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function Ng(){return!1}function qt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fl:Ng,this.isPropagationStopped=Ng,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),e}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=qt(xs),$c=Ne({},xs,{view:0,detail:0}),X1=qt($c),Ip,_p,to,ju=Ne({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(Ip=t.screenX-to.screenX,_p=t.screenY-to.screenY):_p=Ip=0,to=t),Ip)},movementY:function(t){return"movementY"in t?t.movementY:_p}}),Eg=qt(ju),Y1=Ne({},ju,{dataTransfer:0}),Z1=qt(Y1),e_=Ne({},$c,{relatedTarget:0}),Ap=qt(e_),t_=Ne({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),r_=qt(t_),n_=Ne({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i_=qt(n_),s_=Ne({},xs,{data:0}),wg=qt(s_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c_[t])?!!e[t]:!1}function gf(){return l_}var u_=Ne({},$c,{key:function(t){if(t.key){var e=o_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d_=qt(u_),p_=Ne({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=qt(p_),m_=Ne({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),h_=qt(m_),f_=Ne({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=qt(f_),g_=Ne({},ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=qt(g_),C_=[9,13,27,32],yf=Hr&&"CompositionEvent"in window,tc=null;Hr&&"documentMode"in document&&(tc=document.documentMode);var S_=Hr&&"TextEvent"in window&&!tc,IR=Hr&&(!yf||tc&&8<tc&&11>=tc),Tg=" ",Ig=!1;function _R(t,e){switch(t){case"keyup":return C_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function P_(t,e){switch(t){case"compositionend":return AR(e);case"keypress":return e.which!==32?null:(Ig=!0,Tg);case"textInput":return t=e.data,t===Tg&&Ig?null:t;default:return null}}function R_(t,e){if(Hi)return t==="compositionend"||!yf&&_R(t,e)?(t=TR(),Bl=ff=an=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IR&&e.locale!=="ko"?null:e.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x_[t.type]:e==="textarea"}function zR(t,e,r,n){lR(n),e=nu(e,"onChange"),0<e.length&&(r=new vf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var rc=null,Sc=null;function N_(t){FR(t,0)}function qu(t){var e=$i(t);if(rR(e))return t}function E_(t,e){if(t==="change")return e}var OR=!1;if(Hr){var zp;if(Hr){var Op="oninput"in document;if(!Op){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Op=typeof Ag.oninput=="function"}zp=Op}else zp=!1;OR=zp&&(!document.documentMode||9<document.documentMode)}function zg(){rc&&(rc.detachEvent("onpropertychange",MR),Sc=rc=null)}function MR(t){if(t.propertyName==="value"&&qu(Sc)){var e=[];zR(e,Sc,t,uf(t)),mR(N_,e)}}function w_(t,e,r){t==="focusin"?(zg(),rc=e,Sc=r,rc.attachEvent("onpropertychange",MR)):t==="focusout"&&zg()}function b_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Sc)}function T_(t,e){if(t==="click")return qu(e)}function I_(t,e){if(t==="input"||t==="change")return qu(e)}function __(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:__;function Pc(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Mm.call(e,i)||!or(t[i],e[i]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,e){var r=Og(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Og(r)}}function kR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DR(){for(var t=window,e=Jl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Jl(t.document)}return e}function Cf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A_(t){var e=DR(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kR(r.ownerDocument.documentElement,r)){if(n!==null&&Cf(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Mg(r,s);var o=Mg(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z_=Hr&&"documentMode"in document&&11>=document.documentMode,Ui=null,Zm=null,nc=null,eh=!1;function kg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eh||Ui==null||Ui!==Jl(n)||(n=Ui,"selectionStart"in n&&Cf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nc&&Pc(nc,n)||(nc=n,n=nu(Zm,"onSelect"),0<n.length&&(e=new vf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ui)))}function vl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fi={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},Mp={},BR={};Hr&&(BR=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Hu(t){if(Mp[t])return Mp[t];if(!Fi[t])return t;var e=Fi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in BR)return Mp[t]=e[r];return t}var LR=Hu("animationend"),jR=Hu("animationiteration"),qR=Hu("animationstart"),HR=Hu("transitionend"),UR=new Map,Dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){UR.set(t,e),Ri(e,[t])}for(var kp=0;kp<Dg.length;kp++){var Dp=Dg[kp],O_=Dp.toLowerCase(),M_=Dp[0].toUpperCase()+Dp.slice(1);Nn(O_,"on"+M_)}Nn(LR,"onAnimationEnd");Nn(jR,"onAnimationIteration");Nn(qR,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(HR,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function Bg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,O1(n,e,void 0,t),t.currentTarget=null}function FR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Bg(i,a,l),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Bg(i,a,l),s=c}}}if(Yl)throw t=Qm,Yl=!1,Qm=null,t}function he(t,e){var r=e[sh];r===void 0&&(r=e[sh]=new Set);var n=t+"__bubble";r.has(n)||($R(e,t,2,!1),r.add(n))}function Bp(t,e,r){var n=0;e&&(n|=4),$R(r,t,n,e)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Rc(t){if(!t[gl]){t[gl]=!0,XP.forEach(function(r){r!=="selectionchange"&&(k_.has(r)||Bp(r,!1,t),Bp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gl]||(e[gl]=!0,Bp("selectionchange",!1,e))}}function $R(t,e,r,n){switch(bR(e)){case 1:var i=Q1;break;case 4:i=J1;break;default:i=hf}r=i.bind(null,e,r,t),i=void 0,!Gm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Lp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}mR(function(){var l=s,u=uf(r),d=[];e:{var p=UR.get(t);if(p!==void 0){var m=vf,h=t;switch(t){case"keypress":if(Ll(r)===0)break e;case"keydown":case"keyup":m=d_;break;case"focusin":h="focus",m=Ap;break;case"focusout":h="blur",m=Ap;break;case"beforeblur":case"afterblur":m=Ap;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h_;break;case LR:case jR:case qR:m=r_;break;case HR:m=v_;break;case"scroll":m=X1;break;case"wheel":m=y_;break;case"copy":case"cut":case"paste":m=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bg}var v=(e&4)!==0,y=!v&&t==="scroll",f=v?p!==null?p+"Capture":null:p;v=[];for(var g=l,C;g!==null;){C=g;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,f!==null&&(S=vc(g,f),S!=null&&v.push(xc(g,S,C)))),y)break;g=g.return}0<v.length&&(p=new m(p,h,null,r,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==Km&&(h=r.relatedTarget||r.fromElement)&&(ni(h)||h[Ur]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=l,h=h?ni(h):null,h!==null&&(y=xi(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=l),m!==h)){if(v=Eg,S="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=bg,S="onPointerLeave",f="onPointerEnter",g="pointer"),y=m==null?p:$i(m),C=h==null?p:$i(h),p=new v(S,g+"leave",m,r,u),p.target=y,p.relatedTarget=C,S=null,ni(u)===l&&(v=new v(f,g+"enter",h,r,u),v.target=C,v.relatedTarget=y,S=v),y=S,m&&h)t:{for(v=m,f=h,g=0,C=v;C;C=Di(C))g++;for(C=0,S=f;S;S=Di(S))C++;for(;0<g-C;)v=Di(v),g--;for(;0<C-g;)f=Di(f),C--;for(;g--;){if(v===f||f!==null&&v===f.alternate)break t;v=Di(v),f=Di(f)}v=null}else v=null;m!==null&&Lg(d,p,m,v,!1),h!==null&&y!==null&&Lg(d,y,h,v,!0)}}e:{if(p=l?$i(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=E_;else if(_g(p))if(OR)P=I_;else{P=b_;var R=w_}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=T_);if(P&&(P=P(t,l))){zR(d,P,r,u);break e}R&&R(t,p,l),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Hm(p,"number",p.value)}switch(R=l?$i(l):window,t){case"focusin":(_g(R)||R.contentEditable==="true")&&(Ui=R,Zm=l,nc=null);break;case"focusout":nc=Zm=Ui=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,kg(d,r,u);break;case"selectionchange":if(z_)break;case"keydown":case"keyup":kg(d,r,u)}var b;if(yf)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hi?_R(t,r)&&(x="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(IR&&r.locale!=="ko"&&(Hi||x!=="onCompositionStart"?x==="onCompositionEnd"&&Hi&&(b=TR()):(an=u,ff="value"in an?an.value:an.textContent,Hi=!0)),R=nu(l,x),0<R.length&&(x=new wg(x,t,null,r,u),d.push({event:x,listeners:R}),b?x.data=b:(b=AR(r),b!==null&&(x.data=b)))),(b=S_?P_(t,r):R_(t,r))&&(l=nu(l,"onBeforeInput"),0<l.length&&(u=new wg("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=b))}FR(d,e)})}function xc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function nu(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vc(t,r),s!=null&&n.unshift(xc(t,s,i)),s=vc(t,e),s!=null&&n.push(xc(t,s,i))),t=t.return}return n}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lg(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=vc(r,s),c!=null&&o.unshift(xc(r,c,a))):i||(c=vc(r,s),c!=null&&o.push(xc(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var D_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function jg(t){return(typeof t=="string"?t:""+t).replace(D_,`
`).replace(B_,"")}function yl(t,e,r){if(e=jg(e),jg(t)!==e&&r)throw Error(E(425))}function iu(){}var th=null,rh=null;function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(t){return qg.resolve(null).then(t).catch(q_)}:ih;function q_(t){setTimeout(function(){throw t})}function jp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Cc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Cc(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ns,Nc="__reactProps$"+Ns,Ur="__reactContainer$"+Ns,sh="__reactEvents$"+Ns,H_="__reactListeners$"+Ns,U_="__reactHandles$"+Ns;function ni(t){var e=t[gr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ur]||r[gr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Hg(t);t!==null;){if(r=t[gr])return r;t=Hg(t)}return e}t=r,r=t.parentNode}return null}function Wc(t){return t=t[gr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Uu(t){return t[Nc]||null}var oh=[],Wi=-1;function En(t){return{current:t}}function fe(t){0>Wi||(t.current=oh[Wi],oh[Wi]=null,Wi--)}function pe(t,e){Wi++,oh[Wi]=t.current,t.current=e}var Pn={},ft=En(Pn),bt=En(!1),mi=Pn;function us(t,e){var r=t.type.contextTypes;if(!r)return Pn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(t){return t=t.childContextTypes,t!=null}function su(){fe(bt),fe(ft)}function Ug(t,e,r){if(ft.current!==Pn)throw Error(E(168));pe(ft,e),pe(bt,r)}function WR(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(E(108,w1(t)||"Unknown",i));return Ne({},r,n)}function ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,mi=ft.current,pe(ft,t),pe(bt,bt.current),!0}function Fg(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=WR(t,e,mi),n.__reactInternalMemoizedMergedChildContext=t,fe(bt),fe(ft),pe(ft,t)):fe(bt),pe(bt,r)}var Or=null,Fu=!1,qp=!1;function KR(t){Or===null?Or=[t]:Or.push(t)}function F_(t){Fu=!0,KR(t)}function wn(){if(!qp&&Or!==null){qp=!0;var t=0,e=ue;try{var r=Or;for(ue=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Or=null,Fu=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),gR(df,wn),i}finally{ue=e,qp=!1}}return null}var Ki=[],Vi=0,au=null,cu=0,$t=[],Wt=0,hi=null,kr=1,Dr="";function ei(t,e){Ki[Vi++]=cu,Ki[Vi++]=au,au=t,cu=e}function VR(t,e,r){$t[Wt++]=kr,$t[Wt++]=Dr,$t[Wt++]=hi,hi=t;var n=kr;t=Dr;var i=32-ir(n)-1;n&=~(1<<i),r+=1;var s=32-ir(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,kr=1<<32-ir(e)+i|r<<i|n,Dr=s+t}else kr=1<<s|r<<i|n,Dr=t}function Sf(t){t.return!==null&&(ei(t,1),VR(t,1,0))}function Pf(t){for(;t===au;)au=Ki[--Vi],Ki[Vi]=null,cu=Ki[--Vi],Ki[Vi]=null;for(;t===hi;)hi=$t[--Wt],$t[Wt]=null,Dr=$t[--Wt],$t[Wt]=null,kr=$t[--Wt],$t[Wt]=null}var Bt=null,Dt=null,ye=!1,rr=null;function GR(t,e){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $g(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Dt=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hi!==null?{id:kr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bt=t,Dt=null,!0):!1;default:return!1}}function ah(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ch(t){if(ye){var e=Dt;if(e){var r=e;if(!$g(t,e)){if(ah(t))throw Error(E(418));e=hn(r.nextSibling);var n=Bt;e&&$g(t,e)?GR(n,r):(t.flags=t.flags&-4097|2,ye=!1,Bt=t)}}else{if(ah(t))throw Error(E(418));t.flags=t.flags&-4097|2,ye=!1,Bt=t}}}function Wg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Cl(t){if(t!==Bt)return!1;if(!ye)return Wg(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nh(t.type,t.memoizedProps)),e&&(e=Dt)){if(ah(t))throw QR(),Error(E(418));for(;e;)GR(t,e),e=hn(e.nextSibling)}if(Wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dt=hn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Bt?hn(t.stateNode.nextSibling):null;return!0}function QR(){for(var t=Dt;t;)t=hn(t.nextSibling)}function ds(){Dt=Bt=null,ye=!1}function Rf(t){rr===null?rr=[t]:rr.push(t)}var $_=Gr.ReactCurrentBatchConfig;function er(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var lu=En(null),uu=null,Gi=null,xf=null;function Nf(){xf=Gi=uu=null}function Ef(t){var e=lu.current;fe(lu),t._currentValue=e}function lh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function rs(t,e){uu=t,xf=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(xf!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(uu===null)throw Error(E(308));Gi=t,uu.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var ii=null;function wf(t){ii===null?ii=[t]:ii.push(t)}function JR(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wf(e)):(r.next=i.next,i.next=r),e.interleaved=r,Fr(t,n)}function Fr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var tn=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Fr(t,r)}return i=n.interleaved,i===null?(e.next=e,wf(n)):(e.next=i.next,i.next=e),n.interleaved=e,Fr(t,r)}function jl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pf(t,r)}}function Kg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function du(t,e,r,n){var i=t.updateQueue;tn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,u=l=c=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,v=a;switch(p=e,m=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){d=h.call(m,d,p);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,d,p):h,p==null)break e;d=Ne({},d,p);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=d}}function Vg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(E(191,i));i.call(n)}}}var YR=new JP.Component().refs;function uh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ne({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $u={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=St(),i=gn(t),s=jr(n,i);s.payload=e,r!=null&&(s.callback=r),e=fn(t,s,i),e!==null&&(sr(e,t,i,n),jl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=St(),i=gn(t),s=jr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=fn(t,s,i),e!==null&&(sr(e,t,i,n),jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=St(),n=gn(t),i=jr(r,n);i.tag=2,e!=null&&(i.callback=e),e=fn(t,i,n),e!==null&&(sr(e,t,n,r),jl(e,t,n))}};function Gg(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pc(r,n)||!Pc(i,s):!0}function ZR(t,e,r){var n=!1,i=Pn,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Tt(e)?mi:ft.current,n=e.contextTypes,s=(n=n!=null)?us(t,i):Pn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$u,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$u.enqueueReplaceState(e,e.state,null)}function dh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=YR,bf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Tt(e)?mi:ft.current,i.context=us(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uh(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$u.enqueueReplaceState(i,i.state,null),du(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===YR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Sl(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jg(t){var e=t._init;return e(t._payload)}function ex(t){function e(f,g){if(t){var C=f.deletions;C===null?(f.deletions=[g],f.flags|=16):C.push(g)}}function r(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function n(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function i(f,g){return f=yn(f,g),f.index=0,f.sibling=null,f}function s(f,g,C){return f.index=C,t?(C=f.alternate,C!==null?(C=C.index,C<g?(f.flags|=2,g):C):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,C,S){return g===null||g.tag!==6?(g=Vp(C,f.mode,S),g.return=f,g):(g=i(g,C),g.return=f,g)}function c(f,g,C,S){var P=C.type;return P===qi?u(f,g,C.props.children,S,C.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===en&&Jg(P)===g.type)?(S=i(g,C.props),S.ref=ro(f,g,C),S.return=f,S):(S=Wl(C.type,C.key,C.props,null,f.mode,S),S.ref=ro(f,g,C),S.return=f,S)}function l(f,g,C,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=Gp(C,f.mode,S),g.return=f,g):(g=i(g,C.children||[]),g.return=f,g)}function u(f,g,C,S,P){return g===null||g.tag!==7?(g=li(C,f.mode,S,P),g.return=f,g):(g=i(g,C),g.return=f,g)}function d(f,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vp(""+g,f.mode,C),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ll:return C=Wl(g.type,g.key,g.props,null,f.mode,C),C.ref=ro(f,null,g),C.return=f,C;case ji:return g=Gp(g,f.mode,C),g.return=f,g;case en:var S=g._init;return d(f,S(g._payload),C)}if(Ga(g)||Xs(g))return g=li(g,f.mode,C,null),g.return=f,g;Sl(f,g)}return null}function p(f,g,C,S){var P=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return P!==null?null:a(f,g,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ll:return C.key===P?c(f,g,C,S):null;case ji:return C.key===P?l(f,g,C,S):null;case en:return P=C._init,p(f,g,P(C._payload),S)}if(Ga(C)||Xs(C))return P!==null?null:u(f,g,C,S,null);Sl(f,C)}return null}function m(f,g,C,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(C)||null,a(g,f,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ll:return f=f.get(S.key===null?C:S.key)||null,c(g,f,S,P);case ji:return f=f.get(S.key===null?C:S.key)||null,l(g,f,S,P);case en:var R=S._init;return m(f,g,C,R(S._payload),P)}if(Ga(S)||Xs(S))return f=f.get(C)||null,u(g,f,S,P,null);Sl(g,S)}return null}function h(f,g,C,S){for(var P=null,R=null,b=g,x=g=0,X=null;b!==null&&x<C.length;x++){b.index>x?(X=b,b=null):X=b.sibling;var K=p(f,b,C[x],S);if(K===null){b===null&&(b=X);break}t&&b&&K.alternate===null&&e(f,b),g=s(K,g,x),R===null?P=K:R.sibling=K,R=K,b=X}if(x===C.length)return r(f,b),ye&&ei(f,x),P;if(b===null){for(;x<C.length;x++)b=d(f,C[x],S),b!==null&&(g=s(b,g,x),R===null?P=b:R.sibling=b,R=b);return ye&&ei(f,x),P}for(b=n(f,b);x<C.length;x++)X=m(b,f,x,C[x],S),X!==null&&(t&&X.alternate!==null&&b.delete(X.key===null?x:X.key),g=s(X,g,x),R===null?P=X:R.sibling=X,R=X);return t&&b.forEach(function(it){return e(f,it)}),ye&&ei(f,x),P}function v(f,g,C,S){var P=Xs(C);if(typeof P!="function")throw Error(E(150));if(C=P.call(C),C==null)throw Error(E(151));for(var R=P=null,b=g,x=g=0,X=null,K=C.next();b!==null&&!K.done;x++,K=C.next()){b.index>x?(X=b,b=null):X=b.sibling;var it=p(f,b,K.value,S);if(it===null){b===null&&(b=X);break}t&&b&&it.alternate===null&&e(f,b),g=s(it,g,x),R===null?P=it:R.sibling=it,R=it,b=X}if(K.done)return r(f,b),ye&&ei(f,x),P;if(b===null){for(;!K.done;x++,K=C.next())K=d(f,K.value,S),K!==null&&(g=s(K,g,x),R===null?P=K:R.sibling=K,R=K);return ye&&ei(f,x),P}for(b=n(f,b);!K.done;x++,K=C.next())K=m(b,f,x,K.value,S),K!==null&&(t&&K.alternate!==null&&b.delete(K.key===null?x:K.key),g=s(K,g,x),R===null?P=K:R.sibling=K,R=K);return t&&b.forEach(function(dr){return e(f,dr)}),ye&&ei(f,x),P}function y(f,g,C,S){if(typeof C=="object"&&C!==null&&C.type===qi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ll:e:{for(var P=C.key,R=g;R!==null;){if(R.key===P){if(P=C.type,P===qi){if(R.tag===7){r(f,R.sibling),g=i(R,C.props.children),g.return=f,f=g;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===en&&Jg(P)===R.type){r(f,R.sibling),g=i(R,C.props),g.ref=ro(f,R,C),g.return=f,f=g;break e}r(f,R);break}else e(f,R);R=R.sibling}C.type===qi?(g=li(C.props.children,f.mode,S,C.key),g.return=f,f=g):(S=Wl(C.type,C.key,C.props,null,f.mode,S),S.ref=ro(f,g,C),S.return=f,f=S)}return o(f);case ji:e:{for(R=C.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){r(f,g.sibling),g=i(g,C.children||[]),g.return=f,f=g;break e}else{r(f,g);break}else e(f,g);g=g.sibling}g=Gp(C,f.mode,S),g.return=f,f=g}return o(f);case en:return R=C._init,y(f,g,R(C._payload),S)}if(Ga(C))return h(f,g,C,S);if(Xs(C))return v(f,g,C,S);Sl(f,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(r(f,g.sibling),g=i(g,C),g.return=f,f=g):(r(f,g),g=Vp(C,f.mode,S),g.return=f,f=g),o(f)):r(f,g)}return y}var ps=ex(!0),tx=ex(!1),Kc={},Pr=En(Kc),Ec=En(Kc),wc=En(Kc);function si(t){if(t===Kc)throw Error(E(174));return t}function Tf(t,e){switch(pe(wc,e),pe(Ec,t),pe(Pr,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}fe(Pr),pe(Pr,e)}function ms(){fe(Pr),fe(Ec),fe(wc)}function rx(t){si(wc.current);var e=si(Pr.current),r=Fm(e,t.type);e!==r&&(pe(Ec,t),pe(Pr,r))}function If(t){Ec.current===t&&(fe(Pr),fe(Ec))}var Pe=En(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function _f(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var ql=Gr.ReactCurrentDispatcher,Up=Gr.ReactCurrentBatchConfig,fi=0,xe=null,ke=null,je=null,mu=!1,ic=!1,bc=0,W_=0;function st(){throw Error(E(321))}function Af(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!or(t[r],e[r]))return!1;return!0}function zf(t,e,r,n,i,s){if(fi=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ql.current=t===null||t.memoizedState===null?Q_:J_,t=r(n,i),ic){s=0;do{if(ic=!1,bc=0,25<=s)throw Error(E(301));s+=1,je=ke=null,e.updateQueue=null,ql.current=X_,t=r(n,i)}while(ic)}if(ql.current=hu,e=ke!==null&&ke.next!==null,fi=0,je=ke=xe=null,mu=!1,e)throw Error(E(300));return t}function Of(){var t=bc!==0;return bc=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xe.memoizedState=je=t:je=je.next=t,je}function Qt(){if(ke===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=je===null?xe.memoizedState:je.next;if(e!==null)je=e,ke=t;else{if(t===null)throw Error(E(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},je===null?xe.memoizedState=je=t:je=je.next=t}return je}function Tc(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=Qt(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ke,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((fi&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=n):c=c.next=d,xe.lanes|=u,vi|=u}l=l.next}while(l!==null&&l!==s);c===null?o=n:c.next=a,or(n,e.memoizedState)||(wt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,vi|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $p(t){var e=Qt(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);or(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function nx(){}function ix(t,e){var r=xe,n=Qt(),i=e(),s=!or(n.memoizedState,i);if(s&&(n.memoizedState=i,wt=!0),n=n.queue,Mf(ax.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,Ic(9,ox.bind(null,r,n,i,e),void 0,null),qe===null)throw Error(E(349));fi&30||sx(r,e,i)}return i}function sx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ox(t,e,r,n){e.value=r,e.getSnapshot=n,cx(e)&&lx(t)}function ax(t,e,r){return r(function(){cx(e)&&lx(t)})}function cx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!or(t,r)}catch{return!0}}function lx(t){var e=Fr(t,1);e!==null&&sr(e,t,1,-1)}function Xg(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:t},e.queue=t,t=t.dispatch=G_.bind(null,xe,t),[e.memoizedState,t]}function Ic(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ux(){return Qt().memoizedState}function Hl(t,e,r,n){var i=hr();xe.flags|=t,i.memoizedState=Ic(1|e,r,void 0,n===void 0?null:n)}function Wu(t,e,r,n){var i=Qt();n=n===void 0?null:n;var s=void 0;if(ke!==null){var o=ke.memoizedState;if(s=o.destroy,n!==null&&Af(n,o.deps)){i.memoizedState=Ic(e,r,s,n);return}}xe.flags|=t,i.memoizedState=Ic(1|e,r,s,n)}function Yg(t,e){return Hl(8390656,8,t,e)}function Mf(t,e){return Wu(2048,8,t,e)}function dx(t,e){return Wu(4,2,t,e)}function px(t,e){return Wu(4,4,t,e)}function mx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hx(t,e,r){return r=r!=null?r.concat([t]):null,Wu(4,4,mx.bind(null,e,t),r)}function kf(){}function fx(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Af(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vx(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Af(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function gx(t,e,r){return fi&21?(or(r,e)||(r=SR(),xe.lanes|=r,vi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=r)}function K_(t,e){var r=ue;ue=r!==0&&4>r?r:4,t(!0);var n=Up.transition;Up.transition={};try{t(!1),e()}finally{ue=r,Up.transition=n}}function yx(){return Qt().memoizedState}function V_(t,e,r){var n=gn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cx(t))Sx(e,r);else if(r=JR(t,e,r,n),r!==null){var i=St();sr(r,t,n,i),Px(r,e,n)}}function G_(t,e,r){var n=gn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cx(t))Sx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,or(a,o)){var c=e.interleaved;c===null?(i.next=i,wf(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=JR(t,e,i,n),r!==null&&(i=St(),sr(r,t,n,i),Px(r,e,n))}}function Cx(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Sx(t,e){ic=mu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Px(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pf(t,r)}}var hu={readContext:Gt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Q_={readContext:Gt,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Yg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hl(4194308,4,mx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hl(4,2,t,e)},useMemo:function(t,e){var r=hr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=hr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=V_.bind(null,xe,t),[n.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:Xg,useDebugValue:kf,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=Xg(!1),e=t[0];return t=K_.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xe,i=hr();if(ye){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),qe===null)throw Error(E(349));fi&30||sx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Yg(ax.bind(null,n,s,t),[t]),n.flags|=2048,Ic(9,ox.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=hr(),e=qe.identifierPrefix;if(ye){var r=Dr,n=kr;r=(n&~(1<<32-ir(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=W_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J_={readContext:Gt,useCallback:fx,useContext:Gt,useEffect:Mf,useImperativeHandle:hx,useInsertionEffect:dx,useLayoutEffect:px,useMemo:vx,useReducer:Fp,useRef:ux,useState:function(){return Fp(Tc)},useDebugValue:kf,useDeferredValue:function(t){var e=Qt();return gx(e,ke.memoizedState,t)},useTransition:function(){var t=Fp(Tc)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:ix,useId:yx,unstable_isNewReconciler:!1},X_={readContext:Gt,useCallback:fx,useContext:Gt,useEffect:Mf,useImperativeHandle:hx,useInsertionEffect:dx,useLayoutEffect:px,useMemo:vx,useReducer:$p,useRef:ux,useState:function(){return $p(Tc)},useDebugValue:kf,useDeferredValue:function(t){var e=Qt();return ke===null?e.memoizedState=t:gx(e,ke.memoizedState,t)},useTransition:function(){var t=$p(Tc)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:ix,useId:yx,unstable_isNewReconciler:!1};function hs(t,e){try{var r="",n=e;do r+=E1(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ph(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Y_=typeof WeakMap=="function"?WeakMap:Map;function Rx(t,e,r){r=jr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){vu||(vu=!0,Rh=n),ph(t,e)},r}function xx(t,e,r){r=jr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ph(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ph(t,e),typeof n!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Zg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Y_;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=pA.bind(null,t,e,r),e.then(t,t))}function ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ty(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jr(-1,1),e.tag=2,fn(r,e,1))),r.lanes|=1),t)}var Z_=Gr.ReactCurrentOwner,wt=!1;function yt(t,e,r,n){e.child=t===null?tx(e,null,r,n):ps(e,t.child,r,n)}function ry(t,e,r,n,i){r=r.render;var s=e.ref;return rs(e,i),n=zf(t,e,r,n,s,i),r=Of(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(ye&&r&&Sf(e),e.flags|=1,yt(t,e,n,i),e.child)}function ny(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ff(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Nx(t,e,s,n,i)):(t=Wl(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pc,r(o,n)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=yn(s,n),t.ref=e.ref,t.return=e,e.child=t}function Nx(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Pc(s,n)&&t.ref===e.ref)if(wt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,$r(t,e,i)}return mh(t,e,r,n,i)}function Ex(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Ji,Mt),Mt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Ji,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,pe(Ji,Mt),Mt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,pe(Ji,Mt),Mt|=n;return yt(t,e,i,r),e.child}function wx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mh(t,e,r,n,i){var s=Tt(r)?mi:ft.current;return s=us(e,s),rs(e,i),r=zf(t,e,r,n,s,i),n=Of(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(ye&&n&&Sf(e),e.flags|=1,yt(t,e,r,i),e.child)}function iy(t,e,r,n,i){if(Tt(r)){var s=!0;ou(e)}else s=!1;if(rs(e,i),e.stateNode===null)Ul(t,e),ZR(e,r,n),dh(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Gt(l):(l=Tt(r)?mi:ft.current,l=us(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&Qg(e,o,n,l),tn=!1;var p=e.memoizedState;o.state=p,du(e,n,o,i),c=e.memoizedState,a!==n||p!==c||bt.current||tn?(typeof u=="function"&&(uh(e,r,u,n),c=e.memoizedState),(a=tn||Gg(e,r,a,n,p,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,XR(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:er(e.type,a),o.props=l,d=e.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=Tt(r)?mi:ft.current,c=us(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==c)&&Qg(e,o,n,c),tn=!1,p=e.memoizedState,o.state=p,du(e,n,o,i);var h=e.memoizedState;a!==d||p!==h||bt.current||tn?(typeof m=="function"&&(uh(e,r,m,n),h=e.memoizedState),(l=tn||Gg(e,r,l,n,p,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return hh(t,e,r,n,s,i)}function hh(t,e,r,n,i,s){wx(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Fg(e,r,!1),$r(t,e,s);n=e.stateNode,Z_.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ps(e,t.child,null,s),e.child=ps(e,null,a,s)):yt(t,e,a,s),e.memoizedState=n.state,i&&Fg(e,r,!0),e.child}function bx(t){var e=t.stateNode;e.pendingContext?Ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ug(t,e.context,!1),Tf(t,e.containerInfo)}function sy(t,e,r,n,i){return ds(),Rf(i),e.flags|=256,yt(t,e,r,n),e.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tx(t,e,r){var n=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Pe,i&1),t===null)return ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gu(o,n,0,null),t=li(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vh(r),e.memoizedState=fh,t):Df(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eA(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=yn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=yn(a,s):(s=li(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?vh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=fh,n}return s=t.child,t=s.sibling,n=yn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Df(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,r,n){return n!==null&&Rf(n),ps(e,t.child,null,r),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eA(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Wp(Error(E(422))),Pl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Gu({mode:"visible",children:n.children},i,0,null),s=li(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ps(e,t.child,null,o),e.child.memoizedState=vh(o),e.memoizedState=fh,s);if(!(e.mode&1))return Pl(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(E(419)),n=Wp(s,n,void 0),Pl(t,e,o,n)}if(a=(o&t.childLanes)!==0,wt||a){if(n=qe,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fr(t,i),sr(n,t,i,-1))}return Uf(),n=Wp(Error(E(421))),Pl(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=hn(i.nextSibling),Bt=e,ye=!0,rr=null,t!==null&&($t[Wt++]=kr,$t[Wt++]=Dr,$t[Wt++]=hi,kr=t.id,Dr=t.overflow,hi=e),e=Df(e,n.children),e.flags|=4096,e)}function oy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lh(t.return,e,r)}function Kp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ix(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(yt(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,e);else if(t.tag===19)oy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pe(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&pu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Kp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Kp(e,!0,r,null,s);break;case"together":Kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ul(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=yn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tA(t,e,r){switch(e.tag){case 3:bx(e),ds();break;case 5:rx(e);break;case 1:Tt(e.type)&&ou(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;pe(lu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pe(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?Tx(t,e,r):(pe(Pe,Pe.current&1),t=$r(t,e,r),t!==null?t.sibling:null);pe(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ix(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,Ex(t,e,r)}return $r(t,e,r)}var _x,gh,Ax,zx;_x=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gh=function(){};Ax=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,si(Pr.current);var s=null;switch(r){case"input":i=jm(t,i),n=jm(t,n),s=[];break;case"select":i=Ne({},i,{value:void 0}),n=Ne({},n,{value:void 0}),s=[];break;case"textarea":i=Um(t,i),n=Um(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=iu)}$m(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(hc.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(hc.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&he("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};zx=function(t,e,r,n){r!==n&&(e.flags|=4)};function no(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rA(t,e,r){var n=e.pendingProps;switch(Pf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Tt(e.type)&&su(),ot(e),null;case 3:return n=e.stateNode,ms(),fe(bt),fe(ft),_f(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(Eh(rr),rr=null))),gh(t,e),ot(e),null;case 5:If(e);var i=si(wc.current);if(r=e.type,t!==null&&e.stateNode!=null)Ax(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return ot(e),null}if(t=si(Pr.current),Cl(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[gr]=e,n[Nc]=s,t=(e.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(i=0;i<Ja.length;i++)he(Ja[i],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":fg(n,s),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},he("invalid",n);break;case"textarea":gg(n,s),he("invalid",n)}$m(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&yl(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yl(n.textContent,a,t),i=["children",""+a]):hc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":ul(n),vg(n,s,!0);break;case"textarea":ul(n),yg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=iu)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sR(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[gr]=e,t[Nc]=n,_x(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wm(r,n),r){case"dialog":he("cancel",t),he("close",t),i=n;break;case"iframe":case"object":case"embed":he("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ja.length;i++)he(Ja[i],t);i=n;break;case"source":he("error",t),i=n;break;case"img":case"image":case"link":he("error",t),he("load",t),i=n;break;case"details":he("toggle",t),i=n;break;case"input":fg(t,n),i=jm(t,n),he("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ne({},n,{value:void 0}),he("invalid",t);break;case"textarea":gg(t,n),i=Um(t,n),he("invalid",t);break;default:i=n}$m(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?cR(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oR(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fc(t,c):typeof c=="number"&&fc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&he("scroll",t):c!=null&&of(t,s,c,o))}switch(r){case"input":ul(t),vg(t,n,!1);break;case"textarea":ul(t),yg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Yi(t,!!n.multiple,s,!1):n.defaultValue!=null&&Yi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=iu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)zx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=si(wc.current),si(Pr.current),Cl(e)){if(n=e.stateNode,r=e.memoizedProps,n[gr]=e,(s=n.nodeValue!==r)&&(t=Bt,t!==null))switch(t.tag){case 3:yl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gr]=e,e.stateNode=n}return ot(e),null;case 13:if(fe(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&Dt!==null&&e.mode&1&&!(e.flags&128))QR(),ds(),e.flags|=98560,s=!1;else if(s=Cl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[gr]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),s=!1}else rr!==null&&(Eh(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Be===0&&(Be=3):Uf())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return ms(),gh(t,e),t===null&&Rc(e.stateNode.containerInfo),ot(e),null;case 10:return Ef(e.type._context),ot(e),null;case 17:return Tt(e.type)&&su(),ot(e),null;case 19:if(fe(Pe),s=e.memoizedState,s===null)return ot(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)no(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=128,no(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pe(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Te()>fs&&(e.flags|=128,n=!0,no(s,!1),e.lanes=4194304)}else{if(!n)if(t=pu(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),no(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ye)return ot(e),null}else 2*Te()-s.renderingStartTime>fs&&r!==1073741824&&(e.flags|=128,n=!0,no(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Te(),e.sibling=null,r=Pe.current,pe(Pe,n?r&1|2:r&1),e):(ot(e),null);case 22:case 23:return Hf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function nA(t,e){switch(Pf(e),e.tag){case 1:return Tt(e.type)&&su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),fe(bt),fe(ft),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return If(e),null;case 13:if(fe(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(Pe),null;case 4:return ms(),null;case 10:return Ef(e.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Rl=!1,ht=!1,iA=typeof WeakSet=="function"?WeakSet:Set,k=null;function Qi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){we(t,e,n)}else r.current=null}function yh(t,e,r){try{r()}catch(n){we(t,e,n)}}var ay=!1;function sA(t,e){if(th=tu,t=DR(),Cf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===r&&++l===i&&(a=o),p===s&&++u===n&&(c=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rh={focusedElem:t,selectionRange:r},tu=!1,k=e;k!==null;)if(e=k,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,k=t;else for(;k!==null;){e=k;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,y=h.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:er(e.type,v),y);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){we(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,k=t;break}k=e.return}return h=ay,ay=!1,h}function sc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yh(e,r,s)}i=i.next}while(i!==n)}}function Ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ch(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ox(t){var e=t.alternate;e!==null&&(t.alternate=null,Ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Nc],delete e[sh],delete e[H_],delete e[U_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mx(t){return t.tag===5||t.tag===3||t.tag===4}function cy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=iu));else if(n!==4&&(t=t.child,t!==null))for(Sh(t,e,r),t=t.sibling;t!==null;)Sh(t,e,r),t=t.sibling}function Ph(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ph(t,e,r),t=t.sibling;t!==null;)Ph(t,e,r),t=t.sibling}var Je=null,tr=!1;function Yr(t,e,r){for(r=r.child;r!==null;)kx(t,e,r),r=r.sibling}function kx(t,e,r){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Lu,r)}catch{}switch(r.tag){case 5:ht||Qi(r,e);case 6:var n=Je,i=tr;Je=null,Yr(t,e,r),Je=n,tr=i,Je!==null&&(tr?(t=Je,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(tr?(t=Je,r=r.stateNode,t.nodeType===8?jp(t.parentNode,r):t.nodeType===1&&jp(t,r),Cc(t)):jp(Je,r.stateNode));break;case 4:n=Je,i=tr,Je=r.stateNode.containerInfo,tr=!0,Yr(t,e,r),Je=n,tr=i;break;case 0:case 11:case 14:case 15:if(!ht&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yh(r,e,o),i=i.next}while(i!==n)}Yr(t,e,r);break;case 1:if(!ht&&(Qi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){we(r,e,a)}Yr(t,e,r);break;case 21:Yr(t,e,r);break;case 22:r.mode&1?(ht=(n=ht)||r.memoizedState!==null,Yr(t,e,r),ht=n):Yr(t,e,r);break;default:Yr(t,e,r)}}function ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iA),e.forEach(function(n){var i=hA.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,tr=!1;break e;case 3:Je=a.stateNode.containerInfo,tr=!0;break e;case 4:Je=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(Je===null)throw Error(E(160));kx(s,o,i),Je=null,tr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){we(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dx(e,t),e=e.sibling}function Dx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),pr(t),n&4){try{sc(3,t,t.return),Ku(3,t)}catch(v){we(t,t.return,v)}try{sc(5,t,t.return)}catch(v){we(t,t.return,v)}}break;case 1:Zt(e,t),pr(t),n&512&&r!==null&&Qi(r,r.return);break;case 5:if(Zt(e,t),pr(t),n&512&&r!==null&&Qi(r,r.return),t.flags&32){var i=t.stateNode;try{fc(i,"")}catch(v){we(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nR(i,s),Wm(a,o);var l=Wm(a,s);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?cR(i,d):u==="dangerouslySetInnerHTML"?oR(i,d):u==="children"?fc(i,d):of(i,u,d,l)}switch(a){case"input":qm(i,s);break;case"textarea":iR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Yi(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Yi(i,!!s.multiple,s.defaultValue,!0):Yi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nc]=s}catch(v){we(t,t.return,v)}}break;case 6:if(Zt(e,t),pr(t),n&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){we(t,t.return,v)}}break;case 3:if(Zt(e,t),pr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cc(e.containerInfo)}catch(v){we(t,t.return,v)}break;case 4:Zt(e,t),pr(t);break;case 13:Zt(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jf=Te())),n&4&&ly(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ht=(l=ht)||u,Zt(e,t),ht=l):Zt(e,t),pr(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(k=t,u=t.child;u!==null;){for(d=k=u;k!==null;){switch(p=k,m=p.child,p.tag){case 0:case 11:case 14:case 15:sc(4,p,p.return);break;case 1:Qi(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(v){we(n,r,v)}}break;case 5:Qi(p,p.return);break;case 22:if(p.memoizedState!==null){dy(d);continue}}m!==null?(m.return=p,k=m):dy(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=aR("display",o))}catch(v){we(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){we(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(e,t),pr(t),n&4&&ly(t);break;case 21:break;default:Zt(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Mx(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fc(i,""),n.flags&=-33);var s=cy(t);Ph(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=cy(t);Sh(t,a,o);break;default:throw Error(E(161))}}catch(c){we(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oA(t,e,r){k=t,Bx(t)}function Bx(t,e,r){for(var n=(t.mode&1)!==0;k!==null;){var i=k,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Rl;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||ht;a=Rl;var l=ht;if(Rl=o,(ht=c)&&!l)for(k=i;k!==null;)o=k,c=o.child,o.tag===22&&o.memoizedState!==null?py(i):c!==null?(c.return=o,k=c):py(i);for(;s!==null;)k=s,Bx(s),s=s.sibling;k=i,Rl=a,ht=l}uy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,k=s):uy(t)}}function uy(t){for(;k!==null;){var e=k;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||Ku(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ht)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:er(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vg(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Vg(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ht||e.flags&512&&Ch(e)}catch(p){we(e,e.return,p)}}if(e===t){k=null;break}if(r=e.sibling,r!==null){r.return=e.return,k=r;break}k=e.return}}function dy(t){for(;k!==null;){var e=k;if(e===t){k=null;break}var r=e.sibling;if(r!==null){r.return=e.return,k=r;break}k=e.return}}function py(t){for(;k!==null;){var e=k;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ku(4,e)}catch(c){we(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){we(e,i,c)}}var s=e.return;try{Ch(e)}catch(c){we(e,s,c)}break;case 5:var o=e.return;try{Ch(e)}catch(c){we(e,o,c)}}}catch(c){we(e,e.return,c)}if(e===t){k=null;break}var a=e.sibling;if(a!==null){a.return=e.return,k=a;break}k=e.return}}var aA=Math.ceil,fu=Gr.ReactCurrentDispatcher,Bf=Gr.ReactCurrentOwner,Vt=Gr.ReactCurrentBatchConfig,se=0,qe=null,Ae=null,Ye=0,Mt=0,Ji=En(0),Be=0,_c=null,vi=0,Vu=0,Lf=0,oc=null,Nt=null,jf=0,fs=1/0,Ar=null,vu=!1,Rh=null,vn=null,xl=!1,cn=null,gu=0,ac=0,xh=null,Fl=-1,$l=0;function St(){return se&6?Te():Fl!==-1?Fl:Fl=Te()}function gn(t){return t.mode&1?se&2&&Ye!==0?Ye&-Ye:$_.transition!==null?($l===0&&($l=SR()),$l):(t=ue,t!==0||(t=window.event,t=t===void 0?16:bR(t.type)),t):1}function sr(t,e,r,n){if(50<ac)throw ac=0,xh=null,Error(E(185));Fc(t,r,n),(!(se&2)||t!==qe)&&(t===qe&&(!(se&2)&&(Vu|=r),Be===4&&on(t,Ye)),It(t,n),r===1&&se===0&&!(e.mode&1)&&(fs=Te()+500,Fu&&wn()))}function It(t,e){var r=t.callbackNode;$1(t,e);var n=eu(t,t===qe?Ye:0);if(n===0)r!==null&&Pg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Pg(r),e===1)t.tag===0?F_(my.bind(null,t)):KR(my.bind(null,t)),j_(function(){!(se&6)&&wn()}),r=null;else{switch(PR(n)){case 1:r=df;break;case 4:r=yR;break;case 16:r=Zl;break;case 536870912:r=CR;break;default:r=Zl}r=Wx(r,Lx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Lx(t,e){if(Fl=-1,$l=0,se&6)throw Error(E(327));var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var n=eu(t,t===qe?Ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=yu(t,n);else{e=n;var i=se;se|=2;var s=qx();(qe!==t||Ye!==e)&&(Ar=null,fs=Te()+500,ci(t,e));do try{uA();break}catch(a){jx(t,a)}while(!0);Nf(),fu.current=s,se=i,Ae!==null?e=0:(qe=null,Ye=0,e=Be)}if(e!==0){if(e===2&&(i=Jm(t),i!==0&&(n=i,e=Nh(t,i))),e===1)throw r=_c,ci(t,0),on(t,n),It(t,Te()),r;if(e===6)on(t,n);else{if(i=t.current.alternate,!(n&30)&&!cA(i)&&(e=yu(t,n),e===2&&(s=Jm(t),s!==0&&(n=s,e=Nh(t,s))),e===1))throw r=_c,ci(t,0),on(t,n),It(t,Te()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:ti(t,Nt,Ar);break;case 3:if(on(t,n),(n&130023424)===n&&(e=jf+500-Te(),10<e)){if(eu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ih(ti.bind(null,t,Nt,Ar),e);break}ti(t,Nt,Ar);break;case 4:if(on(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ir(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aA(n/1960))-n,10<n){t.timeoutHandle=ih(ti.bind(null,t,Nt,Ar),n);break}ti(t,Nt,Ar);break;case 5:ti(t,Nt,Ar);break;default:throw Error(E(329))}}}return It(t,Te()),t.callbackNode===r?Lx.bind(null,t):null}function Nh(t,e){var r=oc;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=yu(t,e),t!==2&&(e=Nt,Nt=r,e!==null&&Eh(e)),t}function Eh(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function cA(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function on(t,e){for(e&=~Lf,e&=~Vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ir(e),n=1<<r;t[r]=-1,e&=~n}}function my(t){if(se&6)throw Error(E(327));ns();var e=eu(t,0);if(!(e&1))return It(t,Te()),null;var r=yu(t,e);if(t.tag!==0&&r===2){var n=Jm(t);n!==0&&(e=n,r=Nh(t,n))}if(r===1)throw r=_c,ci(t,0),on(t,e),It(t,Te()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Nt,Ar),It(t,Te()),null}function qf(t,e){var r=se;se|=1;try{return t(e)}finally{se=r,se===0&&(fs=Te()+500,Fu&&wn())}}function gi(t){cn!==null&&cn.tag===0&&!(se&6)&&ns();var e=se;se|=1;var r=Vt.transition,n=ue;try{if(Vt.transition=null,ue=1,t)return t()}finally{ue=n,Vt.transition=r,se=e,!(se&6)&&wn()}}function Hf(){Mt=Ji.current,fe(Ji)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L_(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(Pf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&su();break;case 3:ms(),fe(bt),fe(ft),_f();break;case 5:If(n);break;case 4:ms();break;case 13:fe(Pe);break;case 19:fe(Pe);break;case 10:Ef(n.type._context);break;case 22:case 23:Hf()}r=r.return}if(qe=t,Ae=t=yn(t.current,null),Ye=Mt=e,Be=0,_c=null,Lf=Vu=vi=0,Nt=oc=null,ii!==null){for(e=0;e<ii.length;e++)if(r=ii[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ii=null}return t}function jx(t,e){do{var r=Ae;try{if(Nf(),ql.current=hu,mu){for(var n=xe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mu=!1}if(fi=0,je=ke=xe=null,ic=!1,bc=0,Bf.current=null,r===null||r.return===null){Be=1,_c=e,Ae=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=Ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ey(o);if(m!==null){m.flags&=-257,ty(m,o,a,s,e),m.mode&1&&Zg(s,l,e),e=m,c=l;var h=e.updateQueue;if(h===null){var v=new Set;v.add(c),e.updateQueue=v}else h.add(c);break e}else{if(!(e&1)){Zg(s,l,e),Uf();break e}c=Error(E(426))}}else if(ye&&a.mode&1){var y=ey(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ty(y,o,a,s,e),Rf(hs(c,a));break e}}s=c=hs(c,a),Be!==4&&(Be=2),oc===null?oc=[s]:oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=Rx(s,c,e);Kg(s,f);break e;case 1:a=c;var g=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(vn===null||!vn.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=xx(s,a,e);Kg(s,S);break e}}s=s.return}while(s!==null)}Ux(r)}catch(P){e=P,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function qx(){var t=fu.current;return fu.current=hu,t===null?hu:t}function Uf(){(Be===0||Be===3||Be===2)&&(Be=4),qe===null||!(vi&268435455)&&!(Vu&268435455)||on(qe,Ye)}function yu(t,e){var r=se;se|=2;var n=qx();(qe!==t||Ye!==e)&&(Ar=null,ci(t,e));do try{lA();break}catch(i){jx(t,i)}while(!0);if(Nf(),se=r,fu.current=n,Ae!==null)throw Error(E(261));return qe=null,Ye=0,Be}function lA(){for(;Ae!==null;)Hx(Ae)}function uA(){for(;Ae!==null&&!k1();)Hx(Ae)}function Hx(t){var e=$x(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?Ux(t):Ae=e,Bf.current=null}function Ux(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nA(r,e),r!==null){r.flags&=32767,Ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Ae=null;return}}else if(r=rA(r,e,Mt),r!==null){Ae=r;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);Be===0&&(Be=5)}function ti(t,e,r){var n=ue,i=Vt.transition;try{Vt.transition=null,ue=1,dA(t,e,r,n)}finally{Vt.transition=i,ue=n}return null}function dA(t,e,r,n){do ns();while(cn!==null);if(se&6)throw Error(E(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(W1(t,s),t===qe&&(Ae=qe=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xl||(xl=!0,Wx(Zl,function(){return ns(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var o=ue;ue=1;var a=se;se|=4,Bf.current=null,sA(t,r),Dx(r,t),A_(rh),tu=!!th,rh=th=null,t.current=r,oA(r),D1(),se=a,ue=o,Vt.transition=s}else t.current=r;if(xl&&(xl=!1,cn=t,gu=i),s=t.pendingLanes,s===0&&(vn=null),j1(r.stateNode),It(t,Te()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,t=Rh,Rh=null,t;return gu&1&&t.tag!==0&&ns(),s=t.pendingLanes,s&1?t===xh?ac++:(ac=0,xh=t):ac=0,wn(),null}function ns(){if(cn!==null){var t=PR(gu),e=Vt.transition,r=ue;try{if(Vt.transition=null,ue=16>t?16:t,cn===null)var n=!1;else{if(t=cn,cn=null,gu=0,se&6)throw Error(E(331));var i=se;for(se|=4,k=t.current;k!==null;){var s=k,o=s.child;if(k.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(k=l;k!==null;){var u=k;switch(u.tag){case 0:case 11:case 15:sc(8,u,s)}var d=u.child;if(d!==null)d.return=u,k=d;else for(;k!==null;){u=k;var p=u.sibling,m=u.return;if(Ox(u),u===l){k=null;break}if(p!==null){p.return=m,k=p;break}k=m}}}var h=s.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}k=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,k=o;else e:for(;k!==null;){if(s=k,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sc(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,k=f;break e}k=s.return}}var g=t.current;for(k=g;k!==null;){o=k;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,k=C;else e:for(o=g;k!==null;){if(a=k,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ku(9,a)}}catch(P){we(a,a.return,P)}if(a===o){k=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,k=S;break e}k=a.return}}if(se=i,wn(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Lu,t)}catch{}n=!0}return n}finally{ue=r,Vt.transition=e}}return!1}function hy(t,e,r){e=hs(r,e),e=Rx(t,e,1),t=fn(t,e,1),e=St(),t!==null&&(Fc(t,1,e),It(t,e))}function we(t,e,r){if(t.tag===3)hy(t,t,r);else for(;e!==null;){if(e.tag===3){hy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vn===null||!vn.has(n))){t=hs(r,t),t=xx(e,t,1),e=fn(e,t,1),t=St(),e!==null&&(Fc(e,1,t),It(e,t));break}}e=e.return}}function pA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&r,qe===t&&(Ye&r)===r&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>Te()-jf?ci(t,0):Lf|=r),It(t,e)}function Fx(t,e){e===0&&(t.mode&1?(e=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):e=1);var r=St();t=Fr(t,e),t!==null&&(Fc(t,e,r),It(t,r))}function mA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Fx(t,r)}function hA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Fx(t,r)}var $x;$x=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)wt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wt=!1,tA(t,e,r);wt=!!(t.flags&131072)}else wt=!1,ye&&e.flags&1048576&&VR(e,cu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ul(t,e),t=e.pendingProps;var i=us(e,ft.current);rs(e,r),i=zf(null,e,n,t,i,r);var s=Of();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(n)?(s=!0,ou(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bf(e),i.updater=$u,e.stateNode=i,i._reactInternals=e,dh(e,n,t,r),e=hh(null,e,n,!0,s,r)):(e.tag=0,ye&&s&&Sf(e),yt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ul(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vA(n),t=er(n,t),i){case 0:e=mh(null,e,n,t,r);break e;case 1:e=iy(null,e,n,t,r);break e;case 11:e=ry(null,e,n,t,r);break e;case 14:e=ny(null,e,n,er(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:er(n,i),mh(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:er(n,i),iy(t,e,n,i,r);case 3:e:{if(bx(e),t===null)throw Error(E(387));n=e.pendingProps,s=e.memoizedState,i=s.element,XR(t,e),du(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hs(Error(E(423)),e),e=sy(t,e,n,r,i);break e}else if(n!==i){i=hs(Error(E(424)),e),e=sy(t,e,n,r,i);break e}else for(Dt=hn(e.stateNode.containerInfo.firstChild),Bt=e,ye=!0,rr=null,r=tx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ds(),n===i){e=$r(t,e,r);break e}yt(t,e,n,r)}e=e.child}return e;case 5:return rx(e),t===null&&ch(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nh(n,i)?o=null:s!==null&&nh(n,s)&&(e.flags|=32),wx(t,e),yt(t,e,o,r),e.child;case 6:return t===null&&ch(e),null;case 13:return Tx(t,e,r);case 4:return Tf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ps(e,null,n,r):yt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:er(n,i),ry(t,e,n,i,r);case 7:return yt(t,e,e.pendingProps,r),e.child;case 8:return yt(t,e,e.pendingProps.children,r),e.child;case 12:return yt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(lu,n._currentValue),n._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===i.children&&!bt.current){e=$r(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=jr(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),lh(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),lh(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,rs(e,r),i=Gt(i),n=n(i),e.flags|=1,yt(t,e,n,r),e.child;case 14:return n=e.type,i=er(n,e.pendingProps),i=er(n.type,i),ny(t,e,n,i,r);case 15:return Nx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:er(n,i),Ul(t,e),e.tag=1,Tt(n)?(t=!0,ou(e)):t=!1,rs(e,r),ZR(e,n,i),dh(e,n,i,r),hh(null,e,n,!0,t,r);case 19:return Ix(t,e,r);case 22:return Ex(t,e,r)}throw Error(E(156,e.tag))};function Wx(t,e){return gR(t,e)}function fA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,r,n){return new fA(t,e,r,n)}function Ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vA(t){if(typeof t=="function")return Ff(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cf)return 11;if(t===lf)return 14}return 2}function yn(t,e){var r=t.alternate;return r===null?(r=Kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wl(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ff(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return li(r.children,i,s,e);case af:o=8,i|=8;break;case km:return t=Kt(12,r,e,i|2),t.elementType=km,t.lanes=s,t;case Dm:return t=Kt(13,r,e,i),t.elementType=Dm,t.lanes=s,t;case Bm:return t=Kt(19,r,e,i),t.elementType=Bm,t.lanes=s,t;case eR:return Gu(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YP:o=10;break e;case ZP:o=9;break e;case cf:o=11;break e;case lf:o=14;break e;case en:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Kt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function li(t,e,r,n){return t=Kt(7,t,n,e),t.lanes=r,t}function Gu(t,e,r,n){return t=Kt(22,t,n,e),t.elementType=eR,t.lanes=r,t.stateNode={isHidden:!1},t}function Vp(t,e,r){return t=Kt(6,t,null,e),t.lanes=r,t}function Gp(t,e,r){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gA(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $f(t,e,r,n,i,s,o,a,c){return t=new gA(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(s),t}function yA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Kx(t){if(!t)return Pn;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Tt(r))return WR(t,r,e)}return e}function Vx(t,e,r,n,i,s,o,a,c){return t=$f(r,n,!0,t,i,s,o,a,c),t.context=Kx(null),r=t.current,n=St(),i=gn(r),s=jr(n,i),s.callback=e??null,fn(r,s,i),t.current.lanes=i,Fc(t,i,n),It(t,n),t}function Qu(t,e,r,n){var i=e.current,s=St(),o=gn(i);return r=Kx(r),e.context===null?e.context=r:e.pendingContext=r,e=jr(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=fn(i,e,o),t!==null&&(sr(t,i,o,s),jl(t,i,o)),o}function Cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Wf(t,e){fy(t,e),(t=t.alternate)&&fy(t,e)}function CA(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kf(t){this._internalRoot=t}Ju.prototype.render=Kf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Qu(t,e,null,null)};Ju.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gi(function(){Qu(null,t,null,null)}),e[Ur]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=NR();t={blockedOn:null,target:t,priority:e};for(var r=0;r<sn.length&&e!==0&&e<sn[r].priority;r++);sn.splice(r,0,t),r===0&&wR(t)}};function Vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vy(){}function SA(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Cu(o);s.call(l)}}var o=Vx(e,n,t,0,null,!1,!1,"",vy);return t._reactRootContainer=o,t[Ur]=o.current,Rc(t.nodeType===8?t.parentNode:t),gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Cu(c);a.call(l)}}var c=$f(t,0,!1,null,null,!1,!1,"",vy);return t._reactRootContainer=c,t[Ur]=c.current,Rc(t.nodeType===8?t.parentNode:t),gi(function(){Qu(e,c,r,n)}),c}function Yu(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Cu(o);a.call(c)}}Qu(e,o,t,i)}else o=SA(r,e,t,i,n);return Cu(o)}RR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qa(e.pendingLanes);r!==0&&(pf(e,r|1),It(e,Te()),!(se&6)&&(fs=Te()+500,wn()))}break;case 13:gi(function(){var n=Fr(t,1);if(n!==null){var i=St();sr(n,t,1,i)}}),Wf(t,1)}};mf=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var r=St();sr(e,t,134217728,r)}Wf(t,134217728)}};xR=function(t){if(t.tag===13){var e=gn(t),r=Fr(t,e);if(r!==null){var n=St();sr(r,t,e,n)}Wf(t,e)}};NR=function(){return ue};ER=function(t,e){var r=ue;try{return ue=t,e()}finally{ue=r}};Vm=function(t,e,r){switch(e){case"input":if(qm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Uu(n);if(!i)throw Error(E(90));rR(n),qm(n,i)}}}break;case"textarea":iR(t,r);break;case"select":e=r.value,e!=null&&Yi(t,!!r.multiple,e,!1)}};dR=qf;pR=gi;var PA={usingClientEntryPoint:!1,Events:[Wc,$i,Uu,lR,uR,qf]},io={findFiberByHostInstance:ni,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RA={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fR(t),t===null?null:t.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||CA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Lu=Nl.inject(RA),Sr=Nl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PA;jt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(e))throw Error(E(200));return yA(t,e,null,r)};jt.createRoot=function(t,e){if(!Vf(t))throw Error(E(299));var r=!1,n="",i=Gx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$f(t,1,!1,null,null,r,!1,n,i),t[Ur]=e.current,Rc(t.nodeType===8?t.parentNode:t),new Kf(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=fR(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return gi(t)};jt.hydrate=function(t,e,r){if(!Xu(e))throw Error(E(200));return Yu(null,t,e,!0,r)};jt.hydrateRoot=function(t,e,r){if(!Vf(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Gx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Vx(e,null,t,1,r??null,i,!1,s,o),t[Ur]=e.current,Rc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ju(e)};jt.render=function(t,e,r){if(!Xu(e))throw Error(E(200));return Yu(null,t,e,!1,r)};jt.unmountComponentAtNode=function(t){if(!Xu(t))throw Error(E(40));return t._reactRootContainer?(gi(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};jt.unstable_batchedUpdates=qf;jt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Xu(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Yu(t,e,r,!1,n)};jt.version="18.2.0-next-9e3b772b8-20220608";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(t){console.error(t)}}Qx(),VP.exports=jt;var xA=VP.exports,gy=xA;Om.createRoot=gy.createRoot,Om.hydrateRoot=gy.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Su.apply(this,arguments)}var ln;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ln||(ln={}));const yy="popstate";function NA(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return wh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Xx(i)}return wA(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substr(2,8)}function Cy(t,e){return{usr:t.state,key:t.key,idx:e}}function wh(t,e,r,n){return r===void 0&&(r=null),Su({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zu(e):e,{state:r,key:e&&e.key||n||EA()})}function Xx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function wA(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=ln.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(Su({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ln.Pop;let y=u(),f=y==null?null:y-l;l=y,c&&c({action:a,location:v.location,delta:f})}function p(y,f){a=ln.Push;let g=wh(v.location,y,f);r&&r(g,y),l=u()+1;let C=Cy(g,l),S=v.createHref(g);try{o.pushState(C,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}s&&c&&c({action:a,location:v.location,delta:1})}function m(y,f){a=ln.Replace;let g=wh(v.location,y,f);r&&r(g,y),l=u();let C=Cy(g,l),S=v.createHref(g);o.replaceState(C,"",S),s&&c&&c({action:a,location:v.location,delta:0})}function h(y){let f=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof y=="string"?y:Xx(y);return g=g.replace(/ $/,"%20"),_t(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yy,d),c=y,()=>{i.removeEventListener(yy,d),c=null}},createHref(y){return e(i,y)},createURL:h,encodeLocation(y){let f=h(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:m,go(y){return o.go(y)}};return v}var Sy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sy||(Sy={}));function bA(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Zu(e):e,i=eN(n.pathname||"/",r);if(i==null)return null;let s=Yx(t);TA(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let c=qA(i);o=BA(s[a],c)}return o}function Yx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=is([n,c.relativePath]),u=r.concat(c);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Yx(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:kA(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Zx(s.path))i(s,o,c)}),e}function Zx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Zx(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function TA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:DA(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IA=/^:[\w-]+$/,_A=3,AA=2,zA=1,OA=10,MA=-2,Py=t=>t==="*";function kA(t,e){let r=t.split("/"),n=r.length;return r.some(Py)&&(n+=MA),e&&(n+=AA),r.filter(i=>!Py(i)).reduce((i,s)=>i+(IA.test(s)?_A:s===""?zA:OA),n)}function DA(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function BA(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],c=o===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",u=LA({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},l);if(!u)return null;Object.assign(n,u.params);let d=a.route;s.push({params:n,pathname:is([i,u.pathname]),pathnameBase:HA(is([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=is([i,u.pathnameBase]))}return s}function LA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jA(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const h=a[d];return m&&!h?l[p]=void 0:l[p]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function jA(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Jx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const is=t=>t.join("/").replace(/\/\/+/g,"/"),HA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function UA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tN=["post","put","patch","delete"];new Set(tN);const FA=["get",...tN];new Set(FA);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pu.apply(this,arguments)}const $A=q.createContext(null),WA=q.createContext(null),rN=q.createContext(null),ed=q.createContext(null),td=q.createContext({outlet:null,matches:[],isDataRoute:!1}),nN=q.createContext(null);function Gf(){return q.useContext(ed)!=null}function KA(){return Gf()||_t(!1),q.useContext(ed).location}function VA(t,e){return GA(t,e)}function GA(t,e,r,n){Gf()||_t(!1);let{navigator:i}=q.useContext(rN),{matches:s}=q.useContext(td),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=KA(),u;if(e){var d;let y=typeof e=="string"?Zu(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||_t(!1),u=y}else u=l;let p=u.pathname||"/",m=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=bA(t,{pathname:m}),v=ZA(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:is([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:is([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&v?q.createElement(ed.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ln.Pop}},v):v}function QA(){let t=nz(),e=UA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),r?q.createElement("pre",{style:i},r):null,null)}const JA=q.createElement(QA,null);class XA extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?q.createElement(td.Provider,{value:this.props.routeContext},q.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YA(t){let{routeContext:e,match:r,children:n}=t,i=q.useContext($A);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),q.createElement(td.Provider,{value:e},n)}function ZA(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||_t(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:p,errors:m}=r,h=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let m,h=!1,v=null,y=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||JA,c&&(l<0&&p===0?(iz("route-fallback",!1),h=!0,y=null):l===p&&(h=!0,y=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,p+1)),g=()=>{let C;return m?C=v:h?C=y:d.route.Component?C=q.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,q.createElement(YA,{match:d,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?q.createElement(XA,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var bh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bh||{});function ez(t){let e=q.useContext(WA);return e||_t(!1),e}function tz(t){let e=q.useContext(td);return e||_t(!1),e}function rz(t){let e=tz(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function nz(){var t;let e=q.useContext(nN),r=ez(bh.UseRouteError),n=rz(bh.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}const Ry={};function iz(t,e,r){!e&&!Ry[t]&&(Ry[t]=!0)}function iN(t){_t(!1)}function sz(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ln.Pop,navigator:s,static:o=!1,future:a}=t;Gf()&&_t(!1);let c=e.replace(/^\/*/,"/"),l=q.useMemo(()=>({basename:c,navigator:s,static:o,future:Pu({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof n=="string"&&(n=Zu(n));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:h="default"}=n,v=q.useMemo(()=>{let y=eN(u,c);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:h},navigationType:i}},[c,u,d,p,m,h,i]);return v==null?null:q.createElement(rN.Provider,{value:l},q.createElement(ed.Provider,{children:r,value:v}))}function oz(t){let{children:e,location:r}=t;return VA(Th(e),r)}new Promise(()=>{});function Th(t,e){e===void 0&&(e=[]);let r=[];return q.Children.forEach(t,(n,i)=>{if(!q.isValidElement(n))return;let s=[...e,i];if(n.type===q.Fragment){r.push.apply(r,Th(n.props.children,s));return}n.type!==iN&&_t(!1),!n.props.index||!n.props.children||_t(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Th(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const az="6";try{window.__reactRouterVersion=az}catch{}const cz="startTransition",xy=m1[cz];function lz(t){let{basename:e,children:r,future:n,window:i}=t,s=q.useRef();s.current==null&&(s.current=NA({window:i,v5Compat:!0}));let o=s.current,[a,c]=q.useState({action:o.action,location:o.location}),{v7_startTransition:l}=n||{},u=q.useCallback(d=>{l&&xy?xy(()=>c(d)):c(d)},[c,l]);return q.useLayoutEffect(()=>o.listen(u),[o,u]),q.createElement(sz,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var Ny;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ny||(Ny={}));var Ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ey||(Ey={}));let El;const uz=new Uint8Array(16);function sN(){if(!El&&(El=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!El))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return El(uz)}const dz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rd(t){return typeof t=="string"&&dz.test(t)}const Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function nd(t,e=0){return Ge[t[e+0]]+Ge[t[e+1]]+Ge[t[e+2]]+Ge[t[e+3]]+"-"+Ge[t[e+4]]+Ge[t[e+5]]+"-"+Ge[t[e+6]]+Ge[t[e+7]]+"-"+Ge[t[e+8]]+Ge[t[e+9]]+"-"+Ge[t[e+10]]+Ge[t[e+11]]+Ge[t[e+12]]+Ge[t[e+13]]+Ge[t[e+14]]+Ge[t[e+15]]}function pz(t,e=0){const r=nd(t,e);if(!rd(r))throw TypeError("Stringified UUID is invalid");return r}let wy,Qp,Jp=0,Xp=0;function mz(t,e,r){let n=e&&r||0;const i=e||new Array(16);t=t||{};let s=t.node||wy,o=t.clockseq!==void 0?t.clockseq:Qp;if(s==null||o==null){const p=t.random||(t.rng||sN)();s==null&&(s=wy=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=Qp=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Xp+1;const l=a-Jp+(c-Xp)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||a>Jp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jp=a,Xp=c,Qp=o,a+=122192928e5;const u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;const d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let p=0;p<6;++p)i[n+p]=s[p];return e||nd(i)}function oN(t){if(!rd(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function hz(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const fz="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vz="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function aN(t,e,r){function n(i,s,o,a){var c;if(typeof i=="string"&&(i=hz(i)),typeof s=="string"&&(s=oN(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=l[u];return o}return nd(l)}try{n.name=t}catch{}return n.DNS=fz,n.URL=vz,n}function gz(t){if(typeof t=="string"){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return yz(Cz(Sz(t),t.length*8))}function yz(t){const e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){const s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function cN(t){return(t+64>>>9<<4)+14+1}function Cz(t,e){t[e>>5]|=128<<e%32,t[cN(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,s=271733878;for(let o=0;o<t.length;o+=16){const a=r,c=n,l=i,u=s;r=at(r,n,i,s,t[o],7,-680876936),s=at(s,r,n,i,t[o+1],12,-389564586),i=at(i,s,r,n,t[o+2],17,606105819),n=at(n,i,s,r,t[o+3],22,-1044525330),r=at(r,n,i,s,t[o+4],7,-176418897),s=at(s,r,n,i,t[o+5],12,1200080426),i=at(i,s,r,n,t[o+6],17,-1473231341),n=at(n,i,s,r,t[o+7],22,-45705983),r=at(r,n,i,s,t[o+8],7,1770035416),s=at(s,r,n,i,t[o+9],12,-1958414417),i=at(i,s,r,n,t[o+10],17,-42063),n=at(n,i,s,r,t[o+11],22,-1990404162),r=at(r,n,i,s,t[o+12],7,1804603682),s=at(s,r,n,i,t[o+13],12,-40341101),i=at(i,s,r,n,t[o+14],17,-1502002290),n=at(n,i,s,r,t[o+15],22,1236535329),r=ct(r,n,i,s,t[o+1],5,-165796510),s=ct(s,r,n,i,t[o+6],9,-1069501632),i=ct(i,s,r,n,t[o+11],14,643717713),n=ct(n,i,s,r,t[o],20,-373897302),r=ct(r,n,i,s,t[o+5],5,-701558691),s=ct(s,r,n,i,t[o+10],9,38016083),i=ct(i,s,r,n,t[o+15],14,-660478335),n=ct(n,i,s,r,t[o+4],20,-405537848),r=ct(r,n,i,s,t[o+9],5,568446438),s=ct(s,r,n,i,t[o+14],9,-1019803690),i=ct(i,s,r,n,t[o+3],14,-187363961),n=ct(n,i,s,r,t[o+8],20,1163531501),r=ct(r,n,i,s,t[o+13],5,-1444681467),s=ct(s,r,n,i,t[o+2],9,-51403784),i=ct(i,s,r,n,t[o+7],14,1735328473),n=ct(n,i,s,r,t[o+12],20,-1926607734),r=lt(r,n,i,s,t[o+5],4,-378558),s=lt(s,r,n,i,t[o+8],11,-2022574463),i=lt(i,s,r,n,t[o+11],16,1839030562),n=lt(n,i,s,r,t[o+14],23,-35309556),r=lt(r,n,i,s,t[o+1],4,-1530992060),s=lt(s,r,n,i,t[o+4],11,1272893353),i=lt(i,s,r,n,t[o+7],16,-155497632),n=lt(n,i,s,r,t[o+10],23,-1094730640),r=lt(r,n,i,s,t[o+13],4,681279174),s=lt(s,r,n,i,t[o],11,-358537222),i=lt(i,s,r,n,t[o+3],16,-722521979),n=lt(n,i,s,r,t[o+6],23,76029189),r=lt(r,n,i,s,t[o+9],4,-640364487),s=lt(s,r,n,i,t[o+12],11,-421815835),i=lt(i,s,r,n,t[o+15],16,530742520),n=lt(n,i,s,r,t[o+2],23,-995338651),r=ut(r,n,i,s,t[o],6,-198630844),s=ut(s,r,n,i,t[o+7],10,1126891415),i=ut(i,s,r,n,t[o+14],15,-1416354905),n=ut(n,i,s,r,t[o+5],21,-57434055),r=ut(r,n,i,s,t[o+12],6,1700485571),s=ut(s,r,n,i,t[o+3],10,-1894986606),i=ut(i,s,r,n,t[o+10],15,-1051523),n=ut(n,i,s,r,t[o+1],21,-2054922799),r=ut(r,n,i,s,t[o+8],6,1873313359),s=ut(s,r,n,i,t[o+15],10,-30611744),i=ut(i,s,r,n,t[o+6],15,-1560198380),n=ut(n,i,s,r,t[o+13],21,1309151649),r=ut(r,n,i,s,t[o+4],6,-145523070),s=ut(s,r,n,i,t[o+11],10,-1120210379),i=ut(i,s,r,n,t[o+2],15,718787259),n=ut(n,i,s,r,t[o+9],21,-343485551),r=un(r,a),n=un(n,c),i=un(i,l),s=un(s,u)}return[r,n,i,s]}function Sz(t){if(t.length===0)return[];const e=t.length*8,r=new Uint32Array(cN(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function un(t,e){const r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function Pz(t,e){return t<<e|t>>>32-e}function id(t,e,r,n,i,s){return un(Pz(un(un(e,t),un(n,s)),i),r)}function at(t,e,r,n,i,s,o){return id(e&r|~e&n,t,e,i,s,o)}function ct(t,e,r,n,i,s,o){return id(e&n|r&~n,t,e,i,s,o)}function lt(t,e,r,n,i,s,o){return id(e^r^n,t,e,i,s,o)}function ut(t,e,r,n,i,s,o){return id(r^(e|~n),t,e,i,s,o)}const Rz=aN("v3",48,gz),xz=Rz,Nz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),by={randomUUID:Nz};function Ru(t,e,r){if(by.randomUUID&&!e&&!t)return by.randomUUID();t=t||{};const n=t.random||(t.rng||sN)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return nd(n)}function Ez(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Yp(t,e){return t<<e|t>>>32-e}function wz(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let o=0;o<i;++o){const a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=t[o*64+c*4]<<24|t[o*64+c*4+1]<<16|t[o*64+c*4+2]<<8|t[o*64+c*4+3];s[o]=a}s[i-1][14]=(t.length-1)*8/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<i;++o){const a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=s[o][m];for(let m=16;m<80;++m)a[m]=Yp(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let c=r[0],l=r[1],u=r[2],d=r[3],p=r[4];for(let m=0;m<80;++m){const h=Math.floor(m/20),v=Yp(c,5)+Ez(h,l,u,d)+p+e[h]+a[m]>>>0;p=d,d=u,u=Yp(l,30)>>>0,l=c,c=v}r[0]=r[0]+c>>>0,r[1]=r[1]+l>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const bz=aN("v5",80,wz),Tz=bz,Iz="00000000-0000-0000-0000-000000000000";function _z(t){if(!rd(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}const Az=Object.freeze(Object.defineProperty({__proto__:null,NIL:Iz,parse:oN,stringify:pz,v1:mz,v3:xz,v4:Ru,v5:Tz,validate:rd,version:_z},Symbol.toStringTag,{value:"Module"})),zz="/assets/MLAI Digital logo-CpEYKan4.png";function so(t){return t.toLowerCase()}function lN(t){if(t&&typeof t=="object"){const e=t;if(typeof e.rawHeaders=="function"&&typeof e.clone=="function"&&typeof e.get=="function"&&typeof e.set=="function"&&typeof e.contains=="function"&&typeof e.remove=="function"&&typeof e.headersArray=="function"&&typeof e.headerValues=="function"&&typeof e.headerNames=="function"&&typeof e.toJson=="function")return!0}return!1}class bn{constructor(e){if(this._headersMap={},e)for(const r in e)this.set(r,e[r])}set(e,r){this._headersMap[so(e)]={name:e,value:r.toString().trim()}}get(e){const r=this._headersMap[so(e)];return r?r.value:void 0}contains(e){return!!this._headersMap[so(e)]}remove(e){const r=this.contains(e);return delete this._headersMap[so(e)],r}rawHeaders(){return this.toJson({preserveCase:!0})}headersArray(){const e=[];for(const r in this._headersMap)e.push(this._headersMap[r]);return e}headerNames(){const e=[],r=this.headersArray();for(let n=0;n<r.length;++n)e.push(r[n].name);return e}headerValues(){const e=[],r=this.headersArray();for(let n=0;n<r.length;++n)e.push(r[n].value);return e}toJson(e={}){const r={};if(e.preserveCase)for(const n in this._headersMap){const i=this._headersMap[n];r[i.name]=i.value}else for(const n in this._headersMap){const i=this._headersMap[n];r[so(i.name)]=i.value}return r}toString(){return JSON.stringify(this.toJson({preserveCase:!0}))}clone(){const e={};for(const r in this._headersMap){const n=this._headersMap[r];e[n.name]=n.value}return new bn(e)}}function uN(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function dN(t){const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}const Vc={coreHttpVersion:"3.0.4",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",NO_PROXY:"NO_PROXY",ALL_PROXY:"ALL_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429,ServiceUnavailable:503}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}},ze="$",Rn="_";var wl,Oz=new Uint8Array(16);function Mz(){if(!wl&&(wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wl(Oz)}const kz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Dz(t){return typeof t=="string"&&kz.test(t)}var Qe=[];for(var Zp=0;Zp<256;++Zp)Qe.push((Zp+256).toString(16).substr(1));function Bz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase();if(!Dz(r))throw TypeError("Stringified UUID is invalid");return r}function Lz(t,e,r){t=t||{};var n=t.random||(t.rng||Mz)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Bz(n)}const jz=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function qz(t){return jz.test(t)}function yi(){return Lz()}function Hz(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};const i={[e]:t};return i[ze]={[r]:n},i}const Uz=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fz(t){return Uz.test(t)}function oo(t,e,r){return!t||!e?t:t.split(e).join(r||"")}function $z(t){return typeof t!="object"&&typeof t!="function"||t===null}function Wz(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}class xr{constructor(e={},r){this.modelMappers=e,this.isXML=r}validateConstraints(e,r,n){const i=(s,o)=>{throw new Error(`"${n}" with value "${r}" should satisfy the constraint "${s}": ${o}.`)};if(e.constraints&&r!=null){const s=r,{ExclusiveMaximum:o,ExclusiveMinimum:a,InclusiveMaximum:c,InclusiveMinimum:l,MaxItems:u,MaxLength:d,MinItems:p,MinLength:m,MultipleOf:h,Pattern:v,UniqueItems:y}=e.constraints;o!=null&&s>=o&&i("ExclusiveMaximum",o),a!=null&&s<=a&&i("ExclusiveMinimum",a),c!=null&&s>c&&i("InclusiveMaximum",c),l!=null&&s<l&&i("InclusiveMinimum",l);const f=r;if(u!=null&&f.length>u&&i("MaxItems",u),d!=null&&f.length>d&&i("MaxLength",d),p!=null&&f.length<p&&i("MinItems",p),m!=null&&f.length<m&&i("MinLength",m),h!=null&&s%h!==0&&i("MultipleOf",h),v){const g=typeof v=="string"?new RegExp(v):v;(typeof r!="string"||r.match(g)===null)&&i("Pattern",v)}y&&f.some((g,C,S)=>S.indexOf(g)!==C)&&i("UniqueItems",y)}}serialize(e,r,n,i={}){var s,o,a;const c={rootName:(s=i.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=i.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=i.xmlCharKey)!==null&&a!==void 0?a:Rn};let l={};const u=e.type.name;n||(n=e.serializedName),u.match(/^Sequence$/i)!==null&&(l=[]),e.isConstant&&(r=e.defaultValue);const{required:d,nullable:p}=e;if(d&&p&&r===void 0)throw new Error(`${n} cannot be undefined.`);if(d&&!p&&r==null)throw new Error(`${n} cannot be null or undefined.`);if(!d&&p===!1&&r===null)throw new Error(`${n} cannot be null.`);return r==null||u.match(/^any$/i)!==null?l=r:u.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)!==null?l=Xz(u,n,r):u.match(/^Enum$/i)!==null?l=Yz(n,e.type.allowedValues,r):u.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)!==null?l=tO(u,r,n):u.match(/^ByteArray$/i)!==null?l=Zz(n,r):u.match(/^Base64Url$/i)!==null?l=eO(n,r):u.match(/^Sequence$/i)!==null?l=rO(this,e,r,n,!!this.isXML,c):u.match(/^Dictionary$/i)!==null?l=nO(this,e,r,n,!!this.isXML,c):u.match(/^Composite$/i)!==null&&(l=sO(this,e,r,n,!!this.isXML,c)),l}deserialize(e,r,n,i={}){var s,o,a;const c={rootName:(s=i.rootName)!==null&&s!==void 0?s:"",includeRoot:(o=i.includeRoot)!==null&&o!==void 0?o:!1,xmlCharKey:(a=i.xmlCharKey)!==null&&a!==void 0?a:Rn};if(r==null)return this.isXML&&e.type.name==="Sequence"&&!e.xmlIsWrapped&&(r=[]),e.defaultValue!==void 0&&(r=e.defaultValue),r;let l;const u=e.type.name;if(n||(n=e.serializedName),u.match(/^Composite$/i)!==null)l=aO(this,e,r,n,c);else{if(this.isXML){const d=c.xmlCharKey,p=r;p[ze]!=null&&p[d]!=null&&(r=p[d])}u.match(/^Number$/i)!==null?(l=parseFloat(r),isNaN(l)&&(l=r)):u.match(/^Boolean$/i)!==null?r==="true"?l=!0:r==="false"?l=!1:l=r:u.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)!==null?l=r:u.match(/^(Date|DateTime|DateTimeRfc1123)$/i)!==null?l=new Date(r):u.match(/^UnixTime$/i)!==null?l=Jz(r):u.match(/^ByteArray$/i)!==null?l=dN(r):u.match(/^Base64Url$/i)!==null?l=Gz(r):u.match(/^Sequence$/i)!==null?l=lO(this,e,r,n,c):u.match(/^Dictionary$/i)!==null&&(l=cO(this,e,r,n,c))}return e.isConstant&&(l=e.defaultValue),l}}function Kz(t,e){let r=t.length;for(;r-1>=0&&t[r-1]===e;)--r;return t.substr(0,r)}function Vz(t){if(!t)return;if(!(t instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");const e=uN(t);return Kz(e,"=").replace(/\+/g,"-").replace(/\//g,"_")}function Gz(t){if(t){if(t&&typeof t.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return t=t.replace(/-/g,"+").replace(/_/g,"/"),dN(t)}}function Ih(t){const e=[];let r="";if(t){const n=t.split(".");for(const i of n)i.charAt(i.length-1)==="\\"?r+=i.substr(0,i.length-1)+".":(r+=i,e.push(r),r="")}return e}function Qz(t){if(t)return typeof t.valueOf()=="string"&&(t=new Date(t)),Math.floor(t.getTime()/1e3)}function Jz(t){if(t)return new Date(t*1e3)}function Xz(t,e,r){if(r!=null){if(t.match(/^Number$/i)!==null){if(typeof r!="number")throw new Error(`${e} with value ${r} must be of type number.`)}else if(t.match(/^String$/i)!==null){if(typeof r.valueOf()!="string")throw new Error(`${e} with value "${r}" must be of type string.`)}else if(t.match(/^Uuid$/i)!==null){if(!(typeof r.valueOf()=="string"&&qz(r)))throw new Error(`${e} with value "${r}" must be of type string and a valid uuid.`)}else if(t.match(/^Boolean$/i)!==null){if(typeof r!="boolean")throw new Error(`${e} with value ${r} must be of type boolean.`)}else if(t.match(/^Stream$/i)!==null){const n=typeof r;if(n!=="string"&&n!=="function"&&!(r instanceof ArrayBuffer)&&!ArrayBuffer.isView(r)&&!((typeof Blob=="function"||typeof Blob=="object")&&r instanceof Blob))throw new Error(`${e} must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.`)}}return r}function Yz(t,e,r){if(!e)throw new Error(`Please provide a set of allowedValues to validate ${t} as an Enum Type.`);if(!e.some(i=>typeof i.valueOf()=="string"?i.toLowerCase()===r.toLowerCase():i===r))throw new Error(`${r} is not a valid value for ${t}. The valid values are: ${JSON.stringify(e)}.`);return r}function Zz(t,e){let r="";if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);r=uN(e)}return r}function eO(t,e){let r="";if(e!=null){if(!(e instanceof Uint8Array))throw new Error(`${t} must be of type Uint8Array.`);r=Vz(e)||""}return r}function tO(t,e,r){if(e!=null){if(t.match(/^Date$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString().substring(0,10):new Date(e).toISOString().substring(0,10)}else if(t.match(/^DateTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);e=e instanceof Date?e.toISOString():new Date(e).toISOString()}else if(t.match(/^DateTimeRfc1123$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123 format.`);e=e instanceof Date?e.toUTCString():new Date(e).toUTCString()}else if(t.match(/^UnixTime$/i)!==null){if(!(e instanceof Date||typeof e.valueOf()=="string"&&!isNaN(Date.parse(e))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);e=Qz(e)}else if(t.match(/^TimeSpan$/i)!==null&&!Fz(e))throw new Error(`${r} must be a string in ISO 8601 format. Instead was "${e}".`)}return e}function rO(t,e,r,n,i,s){if(!Array.isArray(r))throw new Error(`${n} must be of type Array.`);const o=e.type.element;if(!o||typeof o!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}.`);const a=[];for(let c=0;c<r.length;c++){const l=t.serialize(o,r[c],n,s);if(i&&o.xmlNamespace){const u=o.xmlNamespacePrefix?`xmlns:${o.xmlNamespacePrefix}`:"xmlns";o.type.name==="Composite"?(a[c]=Object.assign({},l),a[c][ze]={[u]:o.xmlNamespace}):(a[c]={},a[c][s.xmlCharKey]=l,a[c][ze]={[u]:o.xmlNamespace})}else a[c]=l}return a}function nO(t,e,r,n,i,s){if(typeof r!="object")throw new Error(`${n} must be of type object.`);const o=e.type.value;if(!o||typeof o!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}.`);const a={};for(const c of Object.keys(r)){const l=t.serialize(o,r[c],n,s);a[c]=hN(o,l,i,s)}if(i&&e.xmlNamespace){const c=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns",l=a;return l[ze]={[c]:e.xmlNamespace},l}return a}function iO(t,e,r){const n=e.type.additionalProperties;if(!n&&e.type.className){const i=pN(t,e,r);return i==null?void 0:i.type.additionalProperties}return n}function pN(t,e,r){const n=e.type.className;if(!n)throw new Error(`Class name for model "${r}" is not provided in the mapper "${JSON.stringify(e,void 0,2)}".`);return t.modelMappers[n]}function mN(t,e,r){let n=e.type.modelProperties;if(!n){const i=pN(t,e,r);if(!i)throw new Error(`mapper() cannot be null or undefined for model "${e.type.className}".`);if(n=i==null?void 0:i.type.modelProperties,!n)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(i)}" of type "${e.type.className}" for object "${r}".`)}return n}function sO(t,e,r,n,i,s){if(xu(t,e)&&(e=fN(t,e,r,"clientName")),r!=null){const o={},a=mN(t,e,n);for(const l of Object.keys(a)){const u=a[l];if(u.readOnly)continue;let d,p=o;if(t.isXML)u.xmlIsWrapped?d=u.xmlName:d=u.xmlElementName||u.xmlName;else{const m=Ih(u.serializedName);d=m.pop();for(const h of m)p[h]==null&&(r[l]!=null||u.defaultValue!==void 0)&&(p[h]={}),p=p[h]}if(p!=null){if(i&&e.xmlNamespace){const f=e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns";p[ze]=Object.assign(Object.assign({},p[ze]),{[f]:e.xmlNamespace})}const m=u.serializedName!==""?n+"."+u.serializedName:n;let h=r[l];const v=xu(t,e);v&&v.clientName===l&&h==null&&(h=e.serializedName);const y=t.serialize(u,h,m,s);if(y!==void 0&&d!=null){const f=hN(u,y,i,s);i&&u.xmlIsAttribute?(p[ze]=p[ze]||{},p[ze][d]=y):i&&u.xmlIsWrapped?p[d]={[u.xmlElementName]:f}:p[d]=f}}}const c=iO(t,e,n);if(c){const l=Object.keys(a);for(const u in r)l.every(p=>p!==u)&&(o[u]=t.serialize(c,r[u],n+'["'+u+'"]',s))}return o}return r}function hN(t,e,r,n){if(!r||!t.xmlNamespace)return e;const s={[t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns"]:t.xmlNamespace};if(["Composite"].includes(t.type.name)){if(e[ze])return e;{const a=Object.assign({},e);return a[ze]=s,a}}const o={};return o[n.xmlCharKey]=e,o[ze]=s,o}function oO(t,e){return[ze,e.xmlCharKey].includes(t)}function aO(t,e,r,n,i){var s,o;const a=(s=i.xmlCharKey)!==null&&s!==void 0?s:Rn;xu(t,e)&&(e=fN(t,e,r,"serializedName"));const c=mN(t,e,n);let l={};const u=[];for(const p of Object.keys(c)){const m=c[p],h=Ih(c[p].serializedName);u.push(h[0]);const{serializedName:v,xmlName:y,xmlElementName:f}=m;let g=n;v!==""&&v!==void 0&&(g=n+"."+v);const C=m.headerCollectionPrefix;if(C){const S={};for(const P of Object.keys(r))P.startsWith(C)&&(S[P.substring(C.length)]=t.deserialize(m.type.value,r[P],g,i)),u.push(P);l[p]=S}else if(t.isXML)if(m.xmlIsAttribute&&r[ze])l[p]=t.deserialize(m,r[ze][y],g,i);else if(m.xmlIsMsText)r[a]!==void 0?l[p]=r[a]:typeof r=="string"&&(l[p]=r);else{const S=f||y||v;if(m.xmlIsWrapped){const P=r[y],R=(o=P==null?void 0:P[f])!==null&&o!==void 0?o:[];l[p]=t.deserialize(m,R,g,i),u.push(y)}else{const P=r[S];l[p]=t.deserialize(m,P,g,i),u.push(S)}}else{let S,P=r;for(const x of h){if(!P)break;P=P[x]}S=P;const R=e.type.polymorphicDiscriminator;R&&p===R.clientName&&S==null&&(S=e.serializedName);let b;if(Array.isArray(r[p])&&c[p].serializedName===""){S=r[p];const x=t.deserialize(m,S,g,i);for(const[X,K]of Object.entries(l))Object.prototype.hasOwnProperty.call(x,X)||(x[X]=K);l=x}else(S!==void 0||m.defaultValue!==void 0)&&(b=t.deserialize(m,S,g,i),l[p]=b)}}const d=e.type.additionalProperties;if(d){const p=m=>{for(const h in c)if(Ih(c[h].serializedName)[0]===m)return!1;return!0};for(const m in r)p(m)&&(l[m]=t.deserialize(d,r[m],n+'["'+m+'"]',i))}else if(r)for(const p of Object.keys(r))l[p]===void 0&&!u.includes(p)&&!oO(p,i)&&(l[p]=r[p]);return l}function cO(t,e,r,n,i){const s=e.type.value;if(!s||typeof s!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}`);if(r){const o={};for(const a of Object.keys(r))o[a]=t.deserialize(s,r[a],n,i);return o}return r}function lO(t,e,r,n,i){const s=e.type.element;if(!s||typeof s!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}`);if(r){Array.isArray(r)||(r=[r]);const o=[];for(let a=0;a<r.length;a++)o[a]=t.deserialize(s,r[a],`${n}[${a}]`,i);return o}return r}function fN(t,e,r,n){const i=xu(t,e);if(i){const s=i[n];if(s!=null){const o=r[s];if(o!=null){const a=e.type.uberParent||e.type.className,c=o===a?o:a+"."+o,l=t.modelMappers.discriminators[c];l&&(e=l)}}}return e}function xu(t,e){return e.type.polymorphicDiscriminator||Ty(t,e.type.uberParent)||Ty(t,e.type.className)}function Ty(t,e){return e&&t.modelMappers[e]&&t.modelMappers[e].type.polymorphicDiscriminator}function uO(t){const e={};for(const r of t)e[r]=r;return e}const ss=uO(["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"]);function dO(t){if(t&&typeof t=="object"){const e=t;if(typeof e.url=="string"&&typeof e.method=="string"&&typeof e.headers=="object"&&lN(e.headers)&&typeof e.validateRequestProperties=="function"&&typeof e.prepare=="function"&&typeof e.clone=="function")return!0}return!1}class Ac{constructor(e,r,n,i,s,o,a,c,l,u,d,p,m,h,v){this.streamResponseBody=o,this.streamResponseStatusCodes=v,this.url=e||"",this.method=r||"GET",this.headers=lN(s)?s:new bn(s),this.body=n,this.query=i,this.formData=void 0,this.withCredentials=a||!1,this.abortSignal=c,this.timeout=l||0,this.onUploadProgress=u,this.onDownloadProgress=d,this.proxySettings=p,this.keepAlive=m,this.decompressResponse=h,this.requestId=this.headers.get("x-ms-client-request-id")||yi()}validateRequestProperties(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")}prepare(e){if(!e)throw new Error("options object is required");if(e.method===void 0||e.method===null||typeof e.method.valueOf()!="string")throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if((e.pathTemplate===void 0||e.pathTemplate===null||typeof e.pathTemplate.valueOf()!="string")&&(e.url===void 0||e.url===null||typeof e.url.valueOf()!="string"))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if(typeof e.url!="string")throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method){const r=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(r.indexOf(e.method.toUpperCase())===-1)throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(r))}if(this.method=e.method.toUpperCase(),e.pathTemplate){const{pathTemplate:r,pathParameters:n}=e;if(typeof r!="string")throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");const i=e.baseUrl;let s=i+(i.endsWith("/")?"":"/")+(r.startsWith("/")?r.slice(1):r);const o=s.match(/({[\w-]*\s*[\w-]*})/gi);if(o&&o.length){if(!n)throw new Error(`pathTemplate: ${r} has been provided. Hence, options.pathParameters must also be provided.`);o.forEach(function(a){const c=a.slice(1,-1),l=n[c];if(l==null||!(typeof l=="string"||typeof l=="object")){const u=JSON.stringify(n,void 0,2);throw new Error(`pathTemplate: ${r} contains the path parameter ${c} however, it is not present in parameters: ${u}.The value of the path parameter can either be a "string" of the form { ${c}: "some sample value" } or it can be an "object" of the form { "${c}": { value: "some sample value", skipUrlEncoding: true } }.`)}if(typeof l.valueOf()=="string"&&(s=s.replace(a,encodeURIComponent(l))),typeof l.valueOf()=="object"){if(!l.value)throw new Error(`options.pathParameters[${c}] is of type "object" but it does not contain a "value" property.`);l.skipUrlEncoding?s=s.replace(a,l.value):s=s.replace(a,encodeURIComponent(l.value))}})}this.url=s}if(e.queryParameters){const r=e.queryParameters;if(typeof r!="object")throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&this.url.indexOf("?")===-1&&(this.url+="?");const n=[];this.query={};for(const i in r){const s=r[i];if(s){if(typeof s=="string")n.push(i+"="+encodeURIComponent(s)),this.query[i]=encodeURIComponent(s);else if(typeof s=="object"){if(!s.value)throw new Error(`options.queryParameters[${i}] is of type "object" but it does not contain a "value" property.`);s.skipUrlEncoding?(n.push(i+"="+s.value),this.query[i]=s.value):(n.push(i+"="+encodeURIComponent(s.value)),this.query[i]=encodeURIComponent(s.value))}}}this.url+=n.join("&")}if(e.headers){const r=e.headers;for(const n of Object.keys(e.headers))this.headers.set(n,r[n])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),!this.headers.get("x-ms-client-request-id")&&!e.disableClientRequestId&&this.headers.set("x-ms-client-request-id",this.requestId),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,e.body!==void 0&&e.body!==null&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),this.headers.get("Content-Type")!=="application/octet-stream"&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new xr(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),e.spanOptions&&(this.spanOptions=e.spanOptions),e.tracingContext&&(this.tracingContext=e.tracingContext),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this}clone(){const e=new Ac(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress,this.proxySettings,this.keepAlive,this.decompressResponse,this.streamResponseStatusCodes);return this.formData&&(e.formData=this.formData),this.operationSpec&&(e.operationSpec=this.operationSpec),this.shouldDeserialize&&(e.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(e.operationResponseGetter=this.operationResponseGetter),e}}let sd=class extends Error{constructor(e){super(e),this.name="AbortError"}};class os{constructor(){this._rawQuery={}}any(){return Object.keys(this._rawQuery).length>0}keys(){return Object.keys(this._rawQuery)}set(e,r){const n=r;if(e)if(n!=null){const i=Array.isArray(n)?n:n.toString();this._rawQuery[e]=i}else delete this._rawQuery[e]}get(e){return e?this._rawQuery[e]:void 0}toString(){let e="";for(const r in this._rawQuery){e&&(e+="&");const n=this._rawQuery[r];if(Array.isArray(n)){const i=[];for(const s of n)i.push(`${r}=${s}`);e+=i.join("&")}else e+=`${r}=${n}`}return e}static parse(e){const r=new os;if(e){e.startsWith("?")&&(e=e.substring(1));let n="ParameterName",i="",s="";for(let o=0;o<e.length;++o){const a=e[o];switch(n){case"ParameterName":switch(a){case"=":n="ParameterValue";break;case"&":i="",s="";break;default:i+=a;break}break;case"ParameterValue":switch(a){case"&":r.set(i,s),i="",s="",n="ParameterName";break;default:s+=a;break}break;default:throw new Error("Unrecognized URLQuery parse state: "+n)}}n==="ParameterValue"&&r.set(i,s)}return r}}class He{setScheme(e){e?this.set(e,"SCHEME"):this._scheme=void 0}getScheme(){return this._scheme}setHost(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0}getHost(){return this._host}setPort(e){e==null||e===""?this._port=void 0:this.set(e.toString(),"PORT")}getPort(){return this._port}setPath(e){if(!e)this._path=void 0;else{const r=e.indexOf("://");if(r!==-1){const n=e.lastIndexOf("/",r);this.set(n===-1?e:e.substr(n+1),"SCHEME")}else this.set(e,"PATH")}}appendPath(e){if(e){let r=this.getPath();r&&(r.endsWith("/")||(r+="/"),e.startsWith("/")&&(e=e.substring(1)),e=r+e),this.set(e,"PATH")}}getPath(){return this._path}setQuery(e){e?this._query=os.parse(e):this._query=void 0}setQueryParameter(e,r){e&&(this._query||(this._query=new os),this._query.set(e,r))}getQueryParameterValue(e){return this._query?this._query.get(e):void 0}getQuery(){return this._query?this._query.toString():void 0}set(e,r){const n=new mO(e,r);for(;n.next();){const i=n.current();let s;if(i)switch(i.type){case"SCHEME":this._scheme=i.text||void 0;break;case"HOST":this._host=i.text||void 0;break;case"PORT":this._port=i.text||void 0;break;case"PATH":s=i.text||void 0,(!this._path||this._path==="/"||s!=="/")&&(this._path=s);break;case"QUERY":this._query=os.parse(i.text);break;default:throw new Error(`Unrecognized URLTokenType: ${i.type}`)}}}toString(){let e="";return this._scheme&&(e+=`${this._scheme}://`),this._host&&(e+=this._host),this._port&&(e+=`:${this._port}`),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+=`?${this._query.toString()}`),e}replaceAll(e,r){e&&(this.setScheme(oo(this.getScheme(),e,r)),this.setHost(oo(this.getHost(),e,r)),this.setPort(oo(this.getPort(),e,r)),this.setPath(oo(this.getPath(),e,r)),this.setQuery(oo(this.getQuery(),e,r)))}static parse(e){const r=new He;return r.set(e,"SCHEME_OR_HOST"),r}}class Ct{constructor(e,r){this.text=e,this.type=r}static scheme(e){return new Ct(e,"SCHEME")}static host(e){return new Ct(e,"HOST")}static port(e){return new Ct(e,"PORT")}static path(e){return new Ct(e,"PATH")}static query(e){return new Ct(e,"QUERY")}}function pO(t){const e=t.charCodeAt(0);return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122}class mO{constructor(e,r){this._text=e,this._textLength=e?e.length:0,this._currentState=r??"SCHEME_OR_HOST",this._currentIndex=0}current(){return this._currentToken}next(){if(!Tn(this))this._currentToken=void 0;else switch(this._currentState){case"SCHEME":vO(this);break;case"SCHEME_OR_HOST":gO(this);break;case"HOST":yO(this);break;case"PORT":CO(this);break;case"PATH":SO(this);break;case"QUERY":PO(this);break;default:throw new Error(`Unrecognized URLTokenizerState: ${this._currentState}`)}return!!this._currentToken}}function hO(t){let e="";return t._currentIndex<t._textLength&&(e=t._text.substring(t._currentIndex),t._currentIndex=t._textLength),e}function Tn(t){return t._currentIndex<t._textLength}function xn(t){return t._text[t._currentIndex]}function od(t,e){Tn(t)&&(e||(e=1),t._currentIndex+=e)}function vN(t,e){let r=t._currentIndex+e;return t._textLength<r&&(r=t._textLength),t._text.substring(t._currentIndex,r)}function gN(t,e){let r="";for(;Tn(t);){const n=xn(t);if(e(n))r+=n,od(t);else break}return r}function fO(t){return gN(t,e=>pO(e))}function ad(t,...e){return gN(t,r=>e.indexOf(r)===-1)}function vO(t){const e=fO(t);t._currentToken=Ct.scheme(e),Tn(t)?t._currentState="HOST":t._currentState="DONE"}function gO(t){const e=ad(t,":","/","?");Tn(t)?xn(t)===":"?vN(t,3)==="://"?(t._currentToken=Ct.scheme(e),t._currentState="HOST"):(t._currentToken=Ct.host(e),t._currentState="PORT"):(t._currentToken=Ct.host(e),xn(t)==="/"?t._currentState="PATH":t._currentState="QUERY"):(t._currentToken=Ct.host(e),t._currentState="DONE")}function yO(t){vN(t,3)==="://"&&od(t,3);const e=ad(t,":","/","?");t._currentToken=Ct.host(e),Tn(t)?xn(t)===":"?t._currentState="PORT":xn(t)==="/"?t._currentState="PATH":t._currentState="QUERY":t._currentState="DONE"}function CO(t){xn(t)===":"&&od(t);const e=ad(t,"/","?");t._currentToken=Ct.port(e),Tn(t)?xn(t)==="/"?t._currentState="PATH":t._currentState="QUERY":t._currentState="DONE"}function SO(t){const e=ad(t,"?");t._currentToken=Ct.path(e),Tn(t)?t._currentState="QUERY":t._currentState="DONE"}function PO(t){xn(t)==="?"&&od(t);const e=hO(t);t._currentToken=Ct.query(e),t._currentState="DONE"}const Iy="REDACTED",_y=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],Ay=["api-version"];class yN{constructor({allowedHeaderNames:e=[],allowedQueryParameters:r=[]}={}){e=Array.isArray(e)?_y.concat(e):_y,r=Array.isArray(r)?Ay.concat(r):Ay,this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){const r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="_headersMap")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||Wz(i)){if(r.has(i))return"[Circular]";r.add(i)}return i},2)}sanitizeHeaders(e){return this.sanitizeObject(e,this.allowedHeaderNames,(r,n)=>r[n].value)}sanitizeQuery(e){return this.sanitizeObject(e,this.allowedQueryParameters,(r,n)=>r[n])}sanitizeObject(e,r,n){if(typeof e!="object"||e===null)return e;const i={};for(const s of Object.keys(e))r.has(s.toLowerCase())?i[s]=n(e,s):i[s]=Iy;return i}sanitizeUrl(e){if(typeof e!="string"||e===null)return e;const r=He.parse(e),n=r.getQuery();if(!n)return e;const i=os.parse(n);for(const s of i.keys())this.allowedQueryParameters.has(s.toLowerCase())||i.set(s,Iy);return r.setQuery(i.toString()),r.toString()}}const RO={},xO=new yN;class Jt extends Error{constructor(e,r,n,i,s){super(e),this.name="RestError",this.code=r,this.statusCode=n,this.request=i,this.response=s,Object.setPrototypeOf(this,Jt.prototype)}[RO](){return`RestError: ${this.message} 
 ${xO.sanitize(this)}`}}Jt.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Jt.PARSE_ERROR="PARSE_ERROR";class CN{sendRequest(e){var r;const n=new XMLHttpRequest;if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");const i=e.abortSignal;if(i){if(i.aborted)return Promise.reject(new sd("The operation was aborted."));const s=()=>{n.abort()};i.addEventListener("abort",s),n.addEventListener("readystatechange",()=>{n.readyState===XMLHttpRequest.DONE&&i.removeEventListener("abort",s)})}if(zy(n.upload,e.onUploadProgress),zy(n,e.onDownloadProgress),e.formData){const s=e.formData,o=new FormData,a=(l,u)=>{u&&Object.prototype.hasOwnProperty.call(u,"value")&&Object.prototype.hasOwnProperty.call(u,"options")?o.append(l,u.value,u.options):o.append(l,u)};for(const l of Object.keys(s)){const u=s[l];if(Array.isArray(u))for(let d=0;d<u.length;d++)a(l,u[d]);else a(l,u)}e.body=o,e.formData=void 0;const c=e.headers.get("Content-Type");c&&c.indexOf("multipart/form-data")!==-1&&e.headers.remove("Content-Type")}n.open(e.method,e.url),n.timeout=e.timeout,n.withCredentials=e.withCredentials;for(const s of e.headers.headersArray())n.setRequestHeader(s.name,s.value);return n.responseType=!((r=e.streamResponseStatusCodes)===null||r===void 0)&&r.size||e.streamResponseBody?"blob":"text",n.send(e.body===void 0?null:e.body),n.responseType==="blob"?new Promise((s,o)=>{NO(n,e,s,o),_h(e,n,o)}):new Promise(function(s,o){n.addEventListener("load",()=>s({request:e,status:n.status,headers:Kl(n),bodyAsText:n.responseText})),_h(e,n,o)})}}function NO(t,e,r,n){t.addEventListener("readystatechange",()=>{var i;if(t.readyState===XMLHttpRequest.HEADERS_RECEIVED)if(e.streamResponseBody||!((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(t.status)){const s=new Promise((o,a)=>{t.addEventListener("load",()=>{o(t.response)}),_h(e,t,a)});r({request:e,status:t.status,headers:Kl(t),blobBody:s})}else t.addEventListener("load",()=>{if(t.response){const s=new FileReader;s.onload=function(o){var a;const c=(a=o.target)===null||a===void 0?void 0:a.result;r({request:e,status:t.status,headers:Kl(t),bodyAsText:c})},s.onerror=function(o){n(s.error)},s.readAsText(t.response,"UTF-8")}else r({request:e,status:t.status,headers:Kl(t)})})})}function zy(t,e){e&&t.addEventListener("progress",r=>e({loadedBytes:r.loaded}))}function Kl(t){const e=new bn,r=t.getAllResponseHeaders().trim().split(/[\r\n]+/);for(const n of r){const i=n.indexOf(":"),s=n.slice(0,i),o=n.slice(i+2);e.set(s,o)}return e}function _h(t,e,r){e.addEventListener("error",()=>r(new Jt(`Failed to send request to ${t.url}`,Jt.REQUEST_SEND_ERROR,void 0,t)));const n=new sd("The operation was aborted.");e.addEventListener("abort",()=>r(n)),e.addEventListener("timeout",()=>r(n))}var Ah;(function(t){t[t.OFF=0]="OFF",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO"})(Ah||(Ah={}));function EO(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Oy(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(t){return this instanceof W?(this.v=t,this):new W(t)}function Et(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,v){s.push([p,m,h,v])>1||a(p,m)})})}function a(p,m){try{c(n[p](m))}catch(h){d(s[0][3],h)}}function c(p){p.value instanceof W?Promise.resolve(p.value.v).then(l,u):d(s[0][2],p)}function l(p){a("next",p)}function u(p){a("throw",p)}function d(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function vs(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:W(t[i](o)),done:!1}:s?s(o):o}:s}}function kt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Oy=="function"?Oy(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function _(t){const{requestOptions:e,tracingOptions:r}=t;let i=EO(t,["requestOptions","tracingOptions"]);return e&&(i=Object.assign(Object.assign({},i),e)),r&&(i.tracingContext=r.tracingContext,i.spanOptions=r==null?void 0:r.spanOptions),i}class Oe{constructor(e,r){this._nextPolicy=e,this._options=r}shouldLog(e){return this._options.shouldLog(e)}log(e,r){this._options.log(e,r)}}class wO{constructor(e){this._logger=e}shouldLog(e){return!!this._logger&&e!==Ah.OFF&&e<=this._logger.minimumLogLevel}log(e,r){this._logger&&this.shouldLog(e)&&this._logger.log(e,r)}}if(!self.document||!self.DOMParser||!self.Node||!self.XMLSerializer)throw new Error('This library depends on the following DOM objects: ["document", "DOMParser", "Node", "XMLSerializer"] to parse XML, but some of these are undefined. You may provide a polyfill to make these globally available in order to support your environment. For more information, please refer to https://aka.ms/azsdk/js/web-workers. ');let em;function zh(){return em||(em=document.implementation.createDocument(null,null,null)),em}let tm;function SN(){return tm||(tm=new DOMParser),tm}let rm;function bO(){return rm||(rm=new XMLSerializer),rm}let ui;typeof self.trustedTypes<"u"&&(ui=self.trustedTypes.createPolicy("@azure/core-http#xml.browser",{createHTML:t=>t}));function TO(t,e={}){var r,n,i,s;try{const o={rootName:(r=e.rootName)!==null&&r!==void 0?r:"",includeRoot:(n=e.includeRoot)!==null&&n!==void 0?n:!1,xmlCharKey:(i=e.xmlCharKey)!==null&&i!==void 0?i:Rn},a=SN().parseFromString((s=ui==null?void 0:ui.createHTML(t))!==null&&s!==void 0?s:t,"application/xml");_O(a);let c;return o.includeRoot?c=Oh(a,o):c=Oh(a.childNodes[0],o),Promise.resolve(c)}catch(o){return Promise.reject(o)}}let Xa;function IO(){var t,e;if(Xa===void 0)try{const r=(t=ui==null?void 0:ui.createHTML("INVALID"))!==null&&t!==void 0?t:"INVALID";Xa=(e=SN().parseFromString(r,"text/xml").getElementsByTagName("parsererror")[0].namespaceURI)!==null&&e!==void 0?e:""}catch{Xa=""}return Xa}function _O(t){const e=t.getElementsByTagName("parsererror");if(e.length>0&&IO()){for(let r=0;r<e.length;r++)if(e[r].namespaceURI===Xa)throw new Error(e[r].innerHTML)}}function AO(t){return!!t.attributes}function zO(t){return AO(t)&&t.hasAttributes()?t:void 0}function Oh(t,e){let r={};const n=t.childNodes.length,i=t.childNodes[0],s=i&&n===1&&i.nodeType===Node.TEXT_NODE&&i.nodeValue||void 0,o=zO(t);if(o){r[ze]={};for(let a=0;a<o.attributes.length;a++){const c=o.attributes[a];r[ze][c.nodeName]=c.nodeValue}s&&(r[e.xmlCharKey]=s)}else n===0?r="":s&&(r=s);if(!s)for(let a=0;a<n;a++){const c=t.childNodes[a];if(c.nodeType!==Node.TEXT_NODE){const l=Oh(c,e);r[c.nodeName]?Array.isArray(r[c.nodeName])?r[c.nodeName].push(l):r[c.nodeName]=[r[c.nodeName],l]:r[c.nodeName]=l}}return r}function My(t,e={}){var r,n,i;const s={rootName:(r=e.rootName)!==null&&r!==void 0?r:"root",includeRoot:(n=e.includeRoot)!==null&&n!==void 0?n:!1,xmlCharKey:(i=e.xmlCharKey)!==null&&i!==void 0?i:Rn},o=Mh(t,s.rootName,s)[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+bO().serializeToString(o)}function OO(t){const e=[];for(const r of Object.keys(t)){const n=zh().createAttribute(r);n.value=t[r].toString(),e.push(n)}return e}function Mh(t,e,r){if(t==null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"){const n=zh().createElement(e);return n.textContent=t==null?"":t.toString(),[n]}else if(Array.isArray(t)){const n=[];for(const i of t)for(const s of Mh(i,e,r))n.push(s);return n}else if(typeof t=="object"){const n=zh().createElement(e);for(const i of Object.keys(t))if(i===ze)for(const s of OO(t[i]))n.attributes.setNamedItem(s);else if(i===r.xmlCharKey)n.textContent=t[i].toString();else for(const s of Mh(t[i],i,r))n.appendChild(s);return[n]}else throw new Error(`Illegal value passed to buildObject: ${t}`)}function Qf(t,e){return{create:(r,n)=>new DO(r,n,t,e)}}const MO=["application/json","text/json"],kO=["application/xml","application/atom+xml"];class DO extends Oe{constructor(e,r,n,i={}){var s;super(e,r),this.jsonContentTypes=n&&n.json||MO,this.xmlContentTypes=n&&n.xml||kO,this.xmlCharKey=(s=i.xmlCharKey)!==null&&s!==void 0?s:Rn}async sendRequest(e){return this._nextPolicy.sendRequest(e).then(r=>jO(this.jsonContentTypes,this.xmlContentTypes,r,{xmlCharKey:this.xmlCharKey}))}}function BO(t){let e;const r=t.request,n=r.operationSpec;if(n){const i=r.operationResponseGetter;i?e=i(n,t):e=n.responses[t.status]}return e}function LO(t){const e=t.request.shouldDeserialize;let r;return e===void 0?r=!0:typeof e=="boolean"?r=e:r=e(t),r}function jO(t,e,r,n={}){var i,s,o;const a={rootName:(i=n.rootName)!==null&&i!==void 0?i:"",includeRoot:(s=n.includeRoot)!==null&&s!==void 0?s:!1,xmlCharKey:(o=n.xmlCharKey)!==null&&o!==void 0?o:Rn};return UO(t,e,r,a).then(c=>{if(!LO(c))return c;const l=c.request.operationSpec;if(!l||!l.responses)return c;const u=BO(c),{error:d,shouldReturnResponse:p}=HO(c,l,u);if(d)throw d;if(p)return c;if(u){if(u.bodyMapper){let m=c.parsedBody;l.isXML&&u.bodyMapper.type.name===ss.Sequence&&(m=typeof m=="object"?m[u.bodyMapper.xmlElementName]:[]);try{c.parsedBody=l.serializer.deserialize(u.bodyMapper,m,"operationRes.parsedBody",n)}catch(h){throw new Jt(`Error ${h} occurred in deserializing the responseBody - ${c.bodyAsText}`,void 0,c.status,c.request,c)}}else l.httpMethod==="HEAD"&&(c.parsedBody=r.status>=200&&r.status<300);u.headersMapper&&(c.parsedHeaders=l.serializer.deserialize(u.headersMapper,c.headers.toJson(),"operationRes.parsedHeaders",n))}return c})}function qO(t){const e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}function HO(t,e,r){var n;const i=200<=t.status&&t.status<300;if(qO(e)?i:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};const o=r??e.responses.default,c=((n=t.request.streamResponseStatusCodes)===null||n===void 0?void 0:n.has(t.status))||t.request.streamResponseBody?`Unexpected status code: ${t.status}`:t.bodyAsText,l=new Jt(c,void 0,t.status,t.request,t);if(!o)throw l;const u=o.bodyMapper,d=o.headersMapper;try{if(t.parsedBody){const p=t.parsedBody;let m;if(u){let v=p;e.isXML&&u.type.name===ss.Sequence&&(v=typeof p=="object"?p[u.xmlElementName]:[]),m=e.serializer.deserialize(u,v,"error.response.parsedBody")}const h=p.error||m||p;l.code=h.code,h.message&&(l.message=h.message),u&&(l.response.parsedBody=m)}t.headers&&d&&(l.response.parsedHeaders=e.serializer.deserialize(d,t.headers.toJson(),"operationRes.parsedHeaders"))}catch(p){l.message=`Error "${p.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:l,shouldReturnResponse:!1}}function UO(t,e,r,n){var i;const s=a=>{const c=`Error "${a}" occurred while parsing the response body - ${r.bodyAsText}.`,l=a.code||Jt.PARSE_ERROR,u=new Jt(c,l,r.status,r.request,r);return Promise.reject(u)};if(!(((i=r.request.streamResponseStatusCodes)===null||i===void 0?void 0:i.has(r.status))||r.request.streamResponseBody)&&r.bodyAsText){const a=r.bodyAsText,c=r.headers.get("Content-Type")||"",l=c?c.split(";").map(u=>u.toLowerCase()):[];if(l.length===0||l.some(u=>t.indexOf(u)!==-1))return new Promise(u=>{r.parsedBody=JSON.parse(a),u(r)}).catch(s);if(l.some(u=>e.indexOf(u)!==-1))return TO(a,n).then(u=>(r.parsedBody=u,r)).catch(s)}return Promise.resolve(r)}const FO={enable:!0};function $O(t){return{create:(e,r)=>new WO(e,r,t||FO)}}class WO extends Oe{constructor(e,r,n){super(e,r),this.keepAliveOptions=n}async sendRequest(e){return e.keepAlive=this.keepAliveOptions.enable,this._nextPolicy.sendRequest(e)}}const ky=["GET","HEAD"];function KO(t=20){return{create:(e,r)=>new VO(e,r,t)}}class VO extends Oe{constructor(e,r,n=20){super(e,r),this.maxRetries=n}sendRequest(e){return this._nextPolicy.sendRequest(e).then(r=>PN(this,r,0))}}function PN(t,e,r){const{request:n,status:i}=e,s=e.headers.get("location");if(s&&(i===300||i===301&&ky.includes(n.method)||i===302&&ky.includes(n.method)||i===303&&n.method==="POST"||i===307)&&(!t.maxRetries||r<t.maxRetries)){const o=He.parse(n.url);return o.setPath(s),n.url=o.toString(),i===303&&(n.method="GET",delete n.body),t._nextPolicy.sendRequest(n).then(a=>PN(t,a,r+1))}return Promise.resolve(e)}const RN=3,xN=1e3*30,NN=1e3*90,GO=1e3*3;function oi(t){return typeof t=="number"}function EN(t,e,r,n,i){return e(n,i)?r.retryCount<t:!1}function wN(t,e={retryCount:0,retryInterval:0},r){r&&(e.error&&(r.innerError=e.error),e.error=r),e.retryCount++;let n=Math.pow(2,e.retryCount-1)-1;const i=t.retryInterval*.8+Math.floor(Math.random()*(t.retryInterval*.4));return n*=i,e.retryInterval=Math.min(t.minRetryInterval+n,t.maxRetryInterval),e}class QO extends Error{constructor(e){super(e),this.name="AbortError"}}function JO(t,e){const{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=e??{};return new Promise((s,o)=>{function a(){o(new QO(i??"The operation was aborted."))}function c(){n==null||n.removeEventListener("abort",l)}function l(){r==null||r(),c(),a()}if(n!=null&&n.aborted)return a();try{t(u=>{c(),s(u)},u=>{c(),o(u)})}catch(u){o(u)}n==null||n.addEventListener("abort",l)})}const XO="The delay was aborted.";function Ni(t,e){let r;const{abortSignal:n,abortErrorMsg:i}=e??{};return JO(s=>{r=setTimeout(s,t)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:n,abortErrorMsg:i??XO})}var nm,im,sm,om;typeof self=="object"&&typeof(self==null?void 0:self.importScripts)=="function"&&(((nm=self.constructor)===null||nm===void 0?void 0:nm.name)==="DedicatedWorkerGlobalScope"||((im=self.constructor)===null||im===void 0?void 0:im.name)==="ServiceWorkerGlobalScope"||((sm=self.constructor)===null||sm===void 0||sm.name));const YO=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",ve=typeof process<"u"&&!!process.version&&!!(!((om=process.versions)===null||om===void 0)&&om.node)&&!YO;typeof Bun<"u"&&typeof Bun.version<"u";function ZO(...t){if(t.length>0){const e=String(t[0]);e.includes(":error")?console.error(...t):e.includes(":warning")?console.warn(...t):e.includes(":info")?console.info(...t):e.includes(":verbose")?console.debug(...t):console.debug(...t)}}var Dy={};const By=typeof process<"u"&&Dy&&Dy.DEBUG||void 0;let bN,kh=[],Dh=[];const Nu=[];By&&Jf(By);const gs=Object.assign(t=>TN(t),{enable:Jf,enabled:Xf,disable:eM,log:ZO});function Jf(t){bN=t,kh=[],Dh=[];const e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(const n of r)n.startsWith("-")?Dh.push(new RegExp(`^${n.substr(1)}$`)):kh.push(new RegExp(`^${n}$`));for(const n of Nu)n.enabled=Xf(n.namespace)}function Xf(t){if(t.endsWith("*"))return!0;for(const e of Dh)if(e.test(t))return!1;for(const e of kh)if(e.test(t))return!0;return!1}function eM(){const t=bN||"";return Jf(""),t}function TN(t){const e=Object.assign(r,{enabled:Xf(t),destroy:tM,log:gs.log,namespace:t,extend:rM});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return Nu.push(e),e}function tM(){const t=Nu.indexOf(this);return t>=0?(Nu.splice(t,1),!0):!1}function rM(t){const e=TN(`${this.namespace}:${t}`);return e.log=this.log,e}var Ly={};const IN=new Set,bl=typeof process<"u"&&Ly&&Ly.AZURE_LOG_LEVEL||void 0;let Bh;const Lh=gs("azure");Lh.log=(...t)=>{gs.log(...t)};const Yf=["verbose","info","warning","error"];bl&&(ON(bl)?nM(bl):console.error(`AZURE_LOG_LEVEL set to unknown log level '${bl}'; logging is not enabled. Acceptable values: ${Yf.join(", ")}.`));function nM(t){if(t&&!ON(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${Yf.join(",")}`);Bh=t;const e=[];for(const r of IN)zN(r)&&e.push(r.namespace);gs.enable(e.join(","))}const jy={verbose:400,info:300,warning:200,error:100};function _N(t){const e=Lh.extend(t);return AN(Lh,e),{error:Tl(e,"error"),warning:Tl(e,"warning"),info:Tl(e,"info"),verbose:Tl(e,"verbose")}}function AN(t,e){e.log=(...r)=>{t.log(...r)}}function Tl(t,e){const r=Object.assign(t.extend(e),{level:e});if(AN(t,r),zN(r)){const n=gs.disable();gs.enable(n+","+r.namespace)}return IN.add(r),r}function zN(t){return!!(Bh&&jy[t.level]<=jy[Bh])}function ON(t){return Yf.includes(t)}const yr=_N("core-http");function iM(t,e,r){return{create:(n,i)=>new sM(n,i,t,e,r)}}var qy;(function(t){t[t.Exponential=0]="Exponential"})(qy||(qy={}));class sM extends Oe{constructor(e,r,n,i,s){super(e,r),this.retryCount=oi(n)?n:RN,this.retryInterval=oi(i)?i:xN,this.maxRetryInterval=oi(s)?s:NN}sendRequest(e){return this._nextPolicy.sendRequest(e.clone()).then(r=>Eu(this,e,r)).catch(r=>Eu(this,e,r.response,void 0,r))}}async function Eu(t,e,r,n,i){function s(a){const c=a==null?void 0:a.status;return!(c===503&&(r!=null&&r.headers.get(Vc.HeaderConstants.RETRY_AFTER))||c===void 0||c<500&&c!==408||c===501||c===505)}n=wN({retryInterval:t.retryInterval,minRetryInterval:0,maxRetryInterval:t.maxRetryInterval},n,i);const o=e.abortSignal&&e.abortSignal.aborted;if(!o&&EN(t.retryCount,s,n,r)){yr.info(`Retrying request in ${n.retryInterval}`);try{await Ni(n.retryInterval);const a=await t._nextPolicy.sendRequest(e.clone());return Eu(t,e,a,n)}catch(a){return Eu(t,e,r,n,a)}}else{if(o||i||!r)throw n.error||new Jt("Failed to send the request.",Jt.REQUEST_SEND_ERROR,r&&r.status,r&&r.request,r);return r}}function MN(t={}){return{create:(e,r)=>new oM(e,r,t)}}class oM extends Oe{constructor(e,r,{logger:n=yr.info,allowedHeaderNames:i=[],allowedQueryParameters:s=[]}={}){super(e,r),this.logger=n,this.sanitizer=new yN({allowedHeaderNames:i,allowedQueryParameters:s})}get allowedHeaderNames(){return this.sanitizer.allowedHeaderNames}set allowedHeaderNames(e){this.sanitizer.allowedHeaderNames=e}get allowedQueryParameters(){return this.sanitizer.allowedQueryParameters}set allowedQueryParameters(e){this.sanitizer.allowedQueryParameters=e}sendRequest(e){return this.logger.enabled?(this.logRequest(e),this._nextPolicy.sendRequest(e).then(r=>this.logResponse(r))):this._nextPolicy.sendRequest(e)}logRequest(e){this.logger(`Request: ${this.sanitizer.sanitize(e)}`)}logResponse(e){return this.logger(`Response status code: ${e.status}`),this.logger(`Headers: ${this.sanitizer.sanitize(e.headers)}`),e}}function Mr(t){return jh(t.parameterPath,t.mapper)}function jh(t,e){let r;return typeof t=="string"?r=t:Array.isArray(t)?r=t.join("."):r=e.serializedName,r}function aM(t){const e=new Set;for(const r in t.responses){const n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===ss.Stream&&e.add(Number(r))}return e}function Xt(t){const e=t;return e&&typeof e.getToken=="function"&&(e.signRequest===void 0||e.getToken.length>0)}function kN(){return"x-ms-useragent"}function cM(){const t=self.navigator;return[{key:"OS",value:(t.oscpu||t.platform).replace(" ","")}]}function lM(){return[{key:"core-http",value:Vc.coreHttpVersion}]}function uM(t,e=" ",r="/"){return t.map(n=>{const i=n.value?`${r}${n.value}`:"";return`${n.key}${i}`}).join(e)}const dM=kN;function Zf(){const t=lM(),e=cM();return uM(t.concat(e))}function pM(t){const e=!t||t.key===void 0||t.key===null?kN():t.key,r=!t||t.value===void 0||t.value===null?Zf():t.value;return{create:(n,i)=>new mM(n,i,e,r)}}class mM extends Oe{constructor(e,r,n,i){super(e,r),this._nextPolicy=e,this._options=r,this.headerKey=n,this.headerValue=i}sendRequest(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)}addUserAgentHeader(e){e.headers||(e.headers=new bn),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)}}var vr;(function(t){t.Csv=",",t.Ssv=" ",t.Tsv="	",t.Pipes="|",t.Multi="Multi"})(vr||(vr={}));const hM={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function fM(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{const s=await t();if(s===null)throw new Error("Failed to refresh access token.");return s}}let i=await n();for(;i===null;)await Ni(e),i=await n();return i}function vM(t,e,r){let n=null,i=null;const s=Object.assign(Object.assign({},hM),r),o={get isRefreshing(){return n!==null},get shouldRefresh(){var c;return!o.isRefreshing&&((c=i==null?void 0:i.expiresOnTimestamp)!==null&&c!==void 0?c:0)-s.refreshWindowInMs<Date.now()},get mustRefresh(){return i===null||i.expiresOnTimestamp-s.forcedRefreshWindowInMs<Date.now()}};function a(c){var l;return o.isRefreshing||(n=fM(()=>t.getToken(e,c),s.retryIntervalInMs,(l=i==null?void 0:i.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(d=>(n=null,i=d,i)).catch(d=>{throw n=null,i=null,d})),n}return async c=>o.mustRefresh?a(c):(o.shouldRefresh&&a(c),i)}function DN(t,e){const r=vM(t,e);class n extends Oe{constructor(s,o){super(s,o)}async sendRequest(s){if(!s.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");const{token:o}=await r({abortSignal:s.abortSignal,tracingOptions:{tracingContext:s.tracingContext}});return s.headers.set(Vc.HeaderConstants.AUTHORIZATION,`Bearer ${o}`),this._nextPolicy.sendRequest(s)}}return{create:(i,s)=>new n(i,s)}}const gM="DisableResponseDecompressionPolicy is not supported in browser environment";function yM(){return{create:(t,e)=>{throw new Error(gM)}}}function BN(t="x-ms-client-request-id"){return{create:(e,r)=>new CM(e,r,t)}}class CM extends Oe{constructor(e,r,n){super(e,r),this._requestIdHeaderName=n}sendRequest(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,e.requestId),this._nextPolicy.sendRequest(e)}}let am;function SM(){return am||(am=new CN),am}const PM="ProxyPolicy is not supported in browser environment";function LN(t){return{create:(e,r)=>{throw new Error(PM)}}}function RM(t=30){return{create:(e,r)=>new xM(e,r,t)}}class xM extends Oe{constructor(e,r,n=30){super(e,r),this._retryTimeout=n}sendRequest(e){return this._nextPolicy.sendRequest(e.clone()).then(r=>NM(this,e,r))}}function NM(t,e,r){if(r.status===409){const n=EM(r.bodyAsText);if(n){const i=wM(e.url);return bM(t,i,n,e).catch(()=>!1).then(s=>s?(e.headers.set("x-ms-client-request-id",yi()),t._nextPolicy.sendRequest(e.clone())):r)}}return Promise.resolve(r)}function jN(t,e=!1){const r=t.clone();return e&&(r.url=t.url),r.headers.set("x-ms-client-request-id",yi()),r.headers.set("Content-Type","application/json; charset=utf-8"),r}function EM(t){let e,r;if(t){try{r=JSON.parse(t)}catch{}if(r&&r.error&&r.error.message&&r.error.code&&r.error.code==="MissingSubscriptionRegistration"){const n=r.error.message.match(/.*'(.*)'/i);n&&(e=n.pop())}}return e}function wM(t){let e;const r=t.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(r&&r[0])e=r[0];else throw new Error(`Unable to extract subscriptionId from the given url - ${t}.`);return e}async function bM(t,e,r,n){const i=`${e}providers/${r}/register?api-version=2016-02-01`,s=`${e}providers/${r}?api-version=2016-02-01`,o=jN(n);if(o.method="POST",o.url=i,(await t._nextPolicy.sendRequest(o)).status!==200)throw new Error(`Autoregistration of ${r} failed. Please try registering manually.`);return qN(t,s,n)}async function qN(t,e,r){const n=jN(r);n.url=e,n.method="GET";const i=await t._nextPolicy.sendRequest(n),s=i.parsedBody;return i.parsedBody&&s.registrationState&&s.registrationState==="Registered"?!0:(await Ni(t._retryTimeout*1e3),qN(t,e,r))}function TM(t){return{create:(e,r)=>new IM(e,r,t)}}class IM extends Oe{constructor(e,r,n){super(e,r),this.authenticationProvider=n}signRequest(e){return this.authenticationProvider.signRequest(e)}sendRequest(e){return this.signRequest(e).then(r=>this._nextPolicy.sendRequest(r))}}function _M(t,e,r,n){return{create:(i,s)=>new AM(i,s,t,e,r,n)}}class AM extends Oe{constructor(e,r,n,i,s,o){super(e,r),this.retryCount=oi(n)?n:RN,this.retryInterval=oi(i)?i:xN,this.minRetryInterval=oi(s)?s:GO,this.maxRetryInterval=oi(o)?o:NN}sendRequest(e){return this._nextPolicy.sendRequest(e.clone()).catch(r=>HN(this,e,r.response,r))}}async function HN(t,e,r,n,i){i=wN(t,i,n);function s(o,a){return!!(a&&a.code&&(a.code==="ETIMEDOUT"||a.code==="ESOCKETTIMEDOUT"||a.code==="ECONNREFUSED"||a.code==="ECONNRESET"||a.code==="ENOENT"))}if(EN(t.retryCount,s,i,r,n))try{return await Ni(i.retryInterval),t._nextPolicy.sendRequest(e.clone())}catch(o){return HN(t,e,r,o,i)}else return n?Promise.reject(i.error):r}const zM=3,Hy=Vc.HttpConstants.StatusCodes;function OM(){return{create:(t,e)=>new wu(t,e)}}const Uy="The operation was aborted.";class wu extends Oe{constructor(e,r,n){super(e,r),this.numberOfRetries=0,this._handleResponse=n||this._defaultResponseHandler}async sendRequest(e){const r=await this._nextPolicy.sendRequest(e.clone());return r.status!==Hy.TooManyRequests&&r.status!==Hy.ServiceUnavailable?r:this._handleResponse(e,r)}async _defaultResponseHandler(e,r){var n;const i=r.headers.get(Vc.HeaderConstants.RETRY_AFTER);if(i){const s=wu.parseRetryAfterHeader(i);if(s){if(this.numberOfRetries+=1,await Ni(s,{abortSignal:e.abortSignal,abortErrorMsg:Uy}),!((n=e.abortSignal)===null||n===void 0)&&n.aborted)throw new sd(Uy);return this.numberOfRetries<zM?this.sendRequest(e):this._nextPolicy.sendRequest(e)}}return r}static parseRetryAfterHeader(e){const r=Number(e);return Number.isNaN(r)?wu.parseDateRetryAfterHeader(e):r*1e3}static parseDateRetryAfterHeader(e){try{const r=Date.now(),i=Date.parse(e)-r;return Number.isNaN(i)?void 0:i}catch{return}}}var MM=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},ai="1.8.0",Fy=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function kM(t){var e=new Set([t]),r=new Set,n=t.match(Fy);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(c){return c===t};function s(a){return r.add(a),!1}function o(a){return e.add(a),!0}return function(c){if(e.has(c))return!0;if(r.has(c))return!1;var l=c.match(Fy);if(!l)return s(c);var u={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return u.prerelease!=null||i.major!==u.major?s(c):i.major===0?i.minor===u.minor&&i.patch<=u.patch?o(c):s(c):i.minor<=u.minor?o(c):s(c)}}var DM=kM(ai),BM=ai.split(".")[0],zc=Symbol.for("opentelemetry.js.api."+BM),Oc=MM;function ev(t,e,r,n){var i;n===void 0&&(n=!1);var s=Oc[zc]=(i=Oc[zc])!==null&&i!==void 0?i:{version:ai};if(!n&&s[t]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(o.stack||o.message),!1}if(s.version!==ai){var o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+t+" does not match previously registered API v"+ai);return r.error(o.stack||o.message),!1}return s[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+ai+"."),!0}function Mc(t){var e,r,n=(e=Oc[zc])===null||e===void 0?void 0:e.version;if(!(!n||!DM(n)))return(r=Oc[zc])===null||r===void 0?void 0:r[t]}function tv(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+ai+".");var r=Oc[zc];r&&delete r[t]}var LM=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},jM=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},qM=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ao("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ao("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ao("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ao("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ao("verbose",this._namespace,e)},t}();function ao(t,e,r){var n=Mc("diag");if(n)return r.unshift(e),n[t].apply(n,jM([],LM(r),!1))}var zt;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(zt||(zt={}));function HM(t,e){t<zt.NONE?t=zt.NONE:t>zt.ALL&&(t=zt.ALL),e=e||{};function r(n,i){var s=e[n];return typeof s=="function"&&t>=i?s.bind(e):function(){}}return{error:r("error",zt.ERROR),warn:r("warn",zt.WARN),info:r("info",zt.INFO),debug:r("debug",zt.DEBUG),verbose:r("verbose",zt.VERBOSE)}}var UM=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},FM=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},$M="diag",bu=function(){function t(){function e(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=Mc("diag");if(a)return a[i].apply(a,FM([],UM(s),!1))}}var r=this,n=function(i,s){var o,a,c;if(s===void 0&&(s={logLevel:zt.INFO}),i===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=l.stack)!==null&&o!==void 0?o:l.message),!1}typeof s=="number"&&(s={logLevel:s});var u=Mc("diag"),d=HM((a=s.logLevel)!==null&&a!==void 0?a:zt.INFO,i);if(u&&!s.suppressOverrideMessage){var p=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return ev("diag",d,r,!0)};r.setLogger=n,r.disable=function(){tv($M,r)},r.createComponentLogger=function(i){return new qM(i)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}();function WM(t){return Symbol.for(t)}var KM=function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new t(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new t(r._currentContext);return i._currentContext.delete(n),i}}return t}(),VM=new KM,GM=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},QM=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},JM=function(){function t(){}return t.prototype.active=function(){return VM},t.prototype.with=function(e,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,QM([n],GM(i),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),XM=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},YM=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},cm="context",ZM=new JM,rv=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return ev(cm,e,bu.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,YM([e,r,n],XM(s),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return Mc(cm)||ZM},t.prototype.disable=function(){this._getContextManager().disable(),tv(cm,bu.instance())},t}(),qh;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(qh||(qh={}));var UN="0000000000000000",FN="00000000000000000000000000000000",nv={traceId:FN,spanId:UN,traceFlags:qh.NONE},cc=function(){function t(e){e===void 0&&(e=nv),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t}(),iv=WM("OpenTelemetry Context Key SPAN");function sv(t){return t.getValue(iv)||void 0}function ek(){return sv(rv.getInstance().active())}function ov(t,e){return t.setValue(iv,e)}function tk(t){return t.deleteValue(iv)}function rk(t,e){return ov(t,new cc(e))}function $N(t){var e;return(e=sv(t))===null||e===void 0?void 0:e.spanContext()}var nk=/^([0-9a-f]{32})$/i,ik=/^[0-9a-f]{16}$/i;function sk(t){return nk.test(t)&&t!==FN}function ok(t){return ik.test(t)&&t!==UN}function WN(t){return sk(t.traceId)&&ok(t.spanId)}function ak(t){return new cc(t)}var lm=rv.getInstance(),KN=function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=lm.active());var i=!!(r!=null&&r.root);if(i)return new cc;var s=n&&$N(n);return ck(s)&&WN(s)?new cc(s):new cc},t.prototype.startActiveSpan=function(e,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var c=o??lm.active(),l=this.startSpan(e,s,c),u=ov(c,l);return lm.with(u,a,void 0,l)}},t}();function ck(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var lk=new KN,uk=function(){function t(e,r,n,i){this._provider=e,this.name=r,this.version=n,this.options=i}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):lk},t}(),dk=function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new KN},t}(),pk=new dk,$y=function(){function t(){}return t.prototype.getTracer=function(e,r,n){var i;return(i=this.getDelegateTracer(e,r,n))!==null&&i!==void 0?i:new uk(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:pk},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,r,n)},t}(),VN=rv.getInstance(),um="trace",mk=function(){function t(){this._proxyTracerProvider=new $y,this.wrapSpanContext=ak,this.isSpanContextValid=WN,this.deleteSpan=tk,this.getSpan=sv,this.getActiveSpan=ek,this.getSpanContext=$N,this.setSpan=ov,this.setSpanContext=rk}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=ev(um,this._proxyTracerProvider,bu.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return Mc(um)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){tv(um,bu.instance()),this._proxyTracerProvider=new $y},t}(),Ei=mk.getInstance(),Tu;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Tu||(Tu={}));function hk(t,e){return Ei.setSpan(t,e)}function fk(t){return Ei.isSpanContextValid(t)}function vk(t,e){return Ei.getTracer(t||"azure/core-tracing",e)}const gk=VN;var Iu;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(Iu||(Iu={}));var yk={};function Ck(){var t;if(typeof process>"u")return!1;const e=(t=yk.AZURE_TRACING_DISABLED)===null||t===void 0?void 0:t.toLowerCase();return e==="false"||e==="0"?!1:!!e}function Sk(t){return function(e,r){const n=vk(),i=(r==null?void 0:r.tracingOptions)||{},s=Object.assign({kind:Tu.INTERNAL},i.spanOptions),o=t.packagePrefix?`${t.packagePrefix}.${e}`:e;let a;Ck()?a=Ei.wrapSpanContext(nv):a=n.startSpan(o,s,i.tracingContext),t.namespace&&a.setAttribute("az.namespace",t.namespace);let c=i.spanOptions||{};a.isRecording()&&t.namespace&&(c=Object.assign(Object.assign({},i.spanOptions),{attributes:Object.assign(Object.assign({},s.attributes),{"az.namespace":t.namespace})}));const l=Object.assign(Object.assign({},i),{spanOptions:c,tracingContext:hk(i.tracingContext||gk.active(),a)}),u=Object.assign(Object.assign({},r),{tracingOptions:l});return{span:a,updatedOptions:u}}}const Pk="00";function Rk(t){const e=[];if(t.traceId||e.push("traceId"),t.spanId||e.push("spanId"),e.length)return;const n=(t.traceFlags||0).toString(16),i=n.length===1?`0${n}`:n;return`${Pk}-${t.traceId}-${t.spanId}-${i}`}const xk=Sk({packagePrefix:"",namespace:""});function Nk(t={}){return{create(e,r){return new Ek(e,r,t)}}}class Ek extends Oe{constructor(e,r,n){super(e,r),this.userAgent=n.userAgent}async sendRequest(e){if(!e.tracingContext)return this._nextPolicy.sendRequest(e);const r=this.tryCreateSpan(e);if(!r)return this._nextPolicy.sendRequest(e);try{const n=await this._nextPolicy.sendRequest(e);return this.tryProcessResponse(r,n),n}catch(n){throw this.tryProcessError(r,n),n}}tryCreateSpan(e){var r;try{const{span:n}=xk(`HTTP ${e.method}`,{tracingOptions:{spanOptions:Object.assign(Object.assign({},e.spanOptions),{kind:Tu.CLIENT}),tracingContext:e.tracingContext}});if(!n.isRecording()){n.end();return}const i=(r=e.tracingContext)===null||r===void 0?void 0:r.getValue(Symbol.for("az.namespace"));typeof i=="string"&&n.setAttribute("az.namespace",i),n.setAttributes({"http.method":e.method,"http.url":e.url,requestId:e.requestId}),this.userAgent&&n.setAttribute("http.user_agent",this.userAgent);const s=n.spanContext(),o=Rk(s);if(o&&fk(s)){e.headers.set("traceparent",o);const a=s.traceState&&s.traceState.serialize();a&&e.headers.set("tracestate",a)}return n}catch(n){yr.warning(`Skipping creating a tracing span due to an error: ${n.message}`);return}}tryProcessError(e,r){try{e.setStatus({code:Iu.ERROR,message:r.message}),r.statusCode&&e.setAttribute("http.status_code",r.statusCode),e.end()}catch(n){yr.warning(`Skipping tracing span processing due to an error: ${n.message}`)}}tryProcessResponse(e,r){try{e.setAttribute("http.status_code",r.status);const n=r.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({code:Iu.OK}),e.end()}catch(n){yr.warning(`Skipping tracing span processing due to an error: ${n.message}`)}}}class wk{constructor(e,r){r||(r={}),this._withCredentials=r.withCredentials||!1,this._httpClient=r.httpClient||SM(),this._requestPolicyOptions=new wO(r.httpPipelineLogger);let n;if(Array.isArray(r.requestPolicyFactories))yr.info("ServiceClient: using custom request policies"),n=r.requestPolicyFactories;else{let i;if(Xt(e))yr.info("ServiceClient: creating bearer token authentication policy from provided credentials"),i=(()=>{let o;const a=this,c=r;return{create(l,u){const d=_k(c,a.baseUri);if(!d)throw new Error("When using credential, the ServiceClient must contain a baseUri or a credentialScopes in ServiceClientOptions. Unable to create a bearerTokenAuthenticationPolicy");return o==null&&(o=DN(e,d)),o.create(l,u)}}})();else if(e&&typeof e.signRequest=="function")yr.info("ServiceClient: creating signing policy from provided credentials"),i=TM(e);else if(e!=null)throw new Error("The credentials argument must implement the TokenCredential interface");if(yr.info("ServiceClient: using default request policies"),n=Ik(i,r),r.requestPolicyFactories){const s=r.requestPolicyFactories(n);s&&(n=s)}}this._requestPolicyFactories=n}sendRequest(e){if(e==null||typeof e!="object")throw new Error("options cannot be null or undefined and it must be of type object.");let r;try{dO(e)?(e.validateRequestProperties(),r=e):(r=new Ac,r=r.prepare(e))}catch(i){return Promise.reject(i)}let n=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(let i=this._requestPolicyFactories.length-1;i>=0;--i)n=this._requestPolicyFactories[i].create(n,this._requestPolicyOptions);return n.sendRequest(r)}async sendOperationRequest(e,r,n){var i;typeof e.options=="function"&&(n=e.options,e.options=void 0);const s=(i=e.options)===null||i===void 0?void 0:i.serializerOptions,o=new Ac;let a;try{const l=r.baseUrl||this.baseUri;if(!l)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");o.method=r.httpMethod,o.operationSpec=r;const u=He.parse(l);if(r.path&&u.appendPath(r.path),r.urlParameters&&r.urlParameters.length>0)for(const v of r.urlParameters){let y=lc(this,e,v,r.serializer);y=r.serializer.serialize(v.mapper,y,Mr(v),s),v.skipEncoding||(y=encodeURIComponent(y)),u.replaceAll(`{${v.mapper.serializedName||Mr(v)}}`,y)}if(r.queryParameters&&r.queryParameters.length>0)for(const v of r.queryParameters){let y=lc(this,e,v,r.serializer);if(y!=null){if(y=r.serializer.serialize(v.mapper,y,Mr(v),s),v.collectionFormat!==void 0&&v.collectionFormat!==null)if(v.collectionFormat===vr.Multi){if(y.length===0)continue;for(const f in y){const g=y[f];y[f]=g==null?"":g.toString()}}else(v.collectionFormat===vr.Ssv||v.collectionFormat===vr.Tsv)&&(y=y.join(v.collectionFormat));if(!v.skipEncoding)if(Array.isArray(y))for(const f in y)y[f]!==void 0&&y[f]!==null&&(y[f]=encodeURIComponent(y[f]));else y=encodeURIComponent(y);v.collectionFormat!==void 0&&v.collectionFormat!==null&&v.collectionFormat!==vr.Multi&&v.collectionFormat!==vr.Ssv&&v.collectionFormat!==vr.Tsv&&(y=y.join(v.collectionFormat)),u.setQueryParameter(v.mapper.serializedName||Mr(v),y)}}o.url=u.toString();const d=r.contentType||this.requestContentType;if(d&&r.requestBody&&o.headers.set("Content-Type",d),r.headerParameters)for(const v of r.headerParameters){let y=lc(this,e,v,r.serializer);if(y!=null){y=r.serializer.serialize(v.mapper,y,Mr(v),s);const f=v.mapper.headerCollectionPrefix;if(f)for(const g of Object.keys(y))o.headers.set(f+g,y[g]);else o.headers.set(v.mapper.serializedName||Mr(v),y)}}const p=e.options;if(p){if(p.customHeaders)for(const v in p.customHeaders)o.headers.set(v,p.customHeaders[v]);p.abortSignal&&(o.abortSignal=p.abortSignal),p.timeout&&(o.timeout=p.timeout),p.onUploadProgress&&(o.onUploadProgress=p.onUploadProgress),p.onDownloadProgress&&(o.onDownloadProgress=p.onDownloadProgress),p.spanOptions&&(o.spanOptions=p.spanOptions),p.tracingContext&&(o.tracingContext=p.tracingContext),p.shouldDeserialize!==void 0&&p.shouldDeserialize!==null&&(o.shouldDeserialize=p.shouldDeserialize)}o.withCredentials=this._withCredentials,bk(this,o,e,r),o.streamResponseStatusCodes===void 0&&(o.streamResponseStatusCodes=aM(r));let m,h;try{m=await this.sendRequest(o)}catch(v){h=v}h?(h.response&&(h.details=Vy(h.response,r.responses[h.statusCode]||r.responses.default)),a=Promise.reject(h)):a=Promise.resolve(Vy(m,r.responses[m.status]))}catch(l){a=Promise.reject(l)}const c=n;return c&&a.then(l=>c(null,l._response.parsedBody,l._response.request,l._response)).catch(l=>c(l)),a}}function bk(t,e,r,n){var i,s,o,a,c,l;const u=(s=(i=r.options)===null||i===void 0?void 0:i.serializerOptions)!==null&&s!==void 0?s:{},d={rootName:(o=u.rootName)!==null&&o!==void 0?o:"",includeRoot:(a=u.includeRoot)!==null&&a!==void 0?a:!1,xmlCharKey:(c=u.xmlCharKey)!==null&&c!==void 0?c:Rn},p=u.xmlCharKey;if(n.requestBody&&n.requestBody.mapper){e.body=lc(t,r,n.requestBody,n.serializer);const m=n.requestBody.mapper,{required:h,xmlName:v,xmlElementName:y,serializedName:f,xmlNamespace:g,xmlNamespacePrefix:C}=m,S=m.type.name;try{if(e.body!==void 0&&e.body!==null||h){const P=Mr(n.requestBody);e.body=n.serializer.serialize(m,e.body,P,d);const R=S===ss.Stream;if(n.isXML){const b=C?`xmlns:${C}`:"xmlns",x=Tk(g,b,S,e.body,d);S===ss.Sequence?e.body=My(Hz(x,y||v||f,b,g),{rootName:v||f,xmlCharKey:p}):R||(e.body=My(x,{rootName:v||f,xmlCharKey:p}))}else{if(S===ss.String&&(!((l=n.contentType)===null||l===void 0)&&l.match("text/plain")||n.mediaType==="text"))return;R||(e.body=JSON.stringify(e.body))}}}catch(P){throw new Error(`Error "${P.message}" occurred in serializing the payload - ${JSON.stringify(f,void 0,"  ")}.`)}}else if(n.formDataParameters&&n.formDataParameters.length>0){e.formData={};for(const m of n.formDataParameters){const h=lc(t,r,m,n.serializer);if(h!=null){const v=m.mapper.serializedName||Mr(m);e.formData[v]=n.serializer.serialize(m.mapper,h,Mr(m),d)}}}}function Tk(t,e,r,n,i){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){const s={};return s[i.xmlCharKey]=n,s[ze]={[e]:t},s}return n}function Wy(t,e){let r;return typeof t=="string"?r=t:(r=e(),typeof t=="function"&&(r=t(r))),r}function Ik(t,e){const r=[];e.generateClientRequestIdHeader&&r.push(BN(e.clientRequestIdHeaderName)),t&&r.push(t);const n=Wy(e.userAgentHeaderName,dM),i=Wy(e.userAgent,Zf);return n&&i&&r.push(pM({key:n,value:i})),r.push(KO()),r.push(RM(e.rpRegistrationRetryTimeout)),e.noRetryPolicy||(r.push(iM()),r.push(_M()),r.push(OM())),r.push(Qf(e.deserializationContentTypes)),ve&&r.push(LN(e.proxySettings)),r.push(MN({logger:yr.info})),r}function lc(t,e,r,n){return GN(t,e,r.parameterPath,r.mapper,n)}function GN(t,e,r,n,i){var s;let o;typeof r=="string"&&(r=[r]);const a=(s=e.options)===null||s===void 0?void 0:s.serializerOptions;if(Array.isArray(r)){if(r.length>0){if(n.isConstant)o=n.defaultValue;else{let l=Ky(e,r);l.propertyFound||(l=Ky(t,r));let u=!1;l.propertyFound||(u=n.required||r[0]==="options"&&r.length===2),o=u?n.defaultValue:l.propertyValue}const c=jh(r,n);i.serialize(n,o,c,a)}}else{n.required&&(o={});for(const c in r){const l=n.type.modelProperties[c],u=r[c],d=GN(t,e,u,l,i),p=jh(u,l);i.serialize(l,d,p,a),d!=null&&(o||(o={}),o[c]=d)}}return o}function Ky(t,e){const r={propertyFound:!1};let n=0;for(;n<e.length;++n){const i=e[n];if(t!=null&&i in t)t=t[i];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}function Vy(t,e){const r=t.parsedHeaders,n=e&&e.bodyMapper,i=s=>Object.defineProperty(s,"_response",{value:t});if(n){const s=n.type.name;if(s==="Stream")return i(Object.assign(Object.assign({},r),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody}));const o=s==="Composite"&&n.type.modelProperties||{},a=Object.keys(o).some(c=>o[c].serializedName==="");if(s==="Sequence"||a){const c=[...t.parsedBody||[]];for(const l of Object.keys(o))o[l].serializedName&&(c[l]=t.parsedBody[l]);if(r)for(const l of Object.keys(r))c[l]=r[l];return i(c),c}if(s==="Composite"||s==="Dictionary")return i(Object.assign(Object.assign({},r),t.parsedBody))}return n||t.request.method==="HEAD"||$z(t.parsedBody)?i(Object.assign(Object.assign({},r),{body:t.parsedBody})):i(Object.assign(Object.assign({},r),t.parsedBody))}function _k(t,e){if(t!=null&&t.credentialScopes)return t.credentialScopes;if(e)return`${e}/.default`}var Hh;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Hh||(Hh={}));function Ak(t,e){return Ei.setSpan(t,e)}function zk(t,e){return Ei.getTracer(t||"azure/core-tracing",e)}const Ok=VN;var w;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(w||(w={}));var Mk={};function kk(){var t;if(typeof process>"u")return!1;const e=(t=Mk.AZURE_TRACING_DISABLED)===null||t===void 0?void 0:t.toLowerCase();return e==="false"||e==="0"?!1:!!e}function Dk(t){return function(e,r){const n=zk(),i=(r==null?void 0:r.tracingOptions)||{},s=Object.assign({kind:Hh.INTERNAL},i.spanOptions),o=t.packagePrefix?`${t.packagePrefix}.${e}`:e;let a;kk()?a=Ei.wrapSpanContext(nv):a=n.startSpan(o,s,i.tracingContext),t.namespace&&a.setAttribute("az.namespace",t.namespace);let c=i.spanOptions||{};a.isRecording()&&t.namespace&&(c=Object.assign(Object.assign({},i.spanOptions),{attributes:Object.assign(Object.assign({},s.attributes),{"az.namespace":t.namespace})}));const l=Object.assign(Object.assign({},i),{spanOptions:c,tracingContext:Ak(i.tracingContext||Ok.active(),a)}),u=Object.assign(Object.assign({},r),{tracingOptions:l});return{span:a,updatedOptions:u}}}const av={serializedName:"BlobServiceProperties",xmlName:"StorageServiceProperties",type:{name:"Composite",className:"BlobServiceProperties",modelProperties:{blobAnalyticsLogging:{serializedName:"Logging",xmlName:"Logging",type:{name:"Composite",className:"Logging"}},hourMetrics:{serializedName:"HourMetrics",xmlName:"HourMetrics",type:{name:"Composite",className:"Metrics"}},minuteMetrics:{serializedName:"MinuteMetrics",xmlName:"MinuteMetrics",type:{name:"Composite",className:"Metrics"}},cors:{serializedName:"Cors",xmlName:"Cors",xmlIsWrapped:!0,xmlElementName:"CorsRule",type:{name:"Sequence",element:{type:{name:"Composite",className:"CorsRule"}}}},defaultServiceVersion:{serializedName:"DefaultServiceVersion",xmlName:"DefaultServiceVersion",type:{name:"String"}},deleteRetentionPolicy:{serializedName:"DeleteRetentionPolicy",xmlName:"DeleteRetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}},staticWebsite:{serializedName:"StaticWebsite",xmlName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite"}}}}},Bk={serializedName:"Logging",type:{name:"Composite",className:"Logging",modelProperties:{version:{serializedName:"Version",required:!0,xmlName:"Version",type:{name:"String"}},deleteProperty:{serializedName:"Delete",required:!0,xmlName:"Delete",type:{name:"Boolean"}},read:{serializedName:"Read",required:!0,xmlName:"Read",type:{name:"Boolean"}},write:{serializedName:"Write",required:!0,xmlName:"Write",type:{name:"Boolean"}},retentionPolicy:{serializedName:"RetentionPolicy",xmlName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},Lk={serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy",modelProperties:{enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},days:{constraints:{InclusiveMinimum:1},serializedName:"Days",xmlName:"Days",type:{name:"Number"}}}}},jk={serializedName:"Metrics",type:{name:"Composite",className:"Metrics",modelProperties:{version:{serializedName:"Version",xmlName:"Version",type:{name:"String"}},enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},includeAPIs:{serializedName:"IncludeAPIs",xmlName:"IncludeAPIs",type:{name:"Boolean"}},retentionPolicy:{serializedName:"RetentionPolicy",xmlName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},qk={serializedName:"CorsRule",type:{name:"Composite",className:"CorsRule",modelProperties:{allowedOrigins:{serializedName:"AllowedOrigins",required:!0,xmlName:"AllowedOrigins",type:{name:"String"}},allowedMethods:{serializedName:"AllowedMethods",required:!0,xmlName:"AllowedMethods",type:{name:"String"}},allowedHeaders:{serializedName:"AllowedHeaders",required:!0,xmlName:"AllowedHeaders",type:{name:"String"}},exposedHeaders:{serializedName:"ExposedHeaders",required:!0,xmlName:"ExposedHeaders",type:{name:"String"}},maxAgeInSeconds:{constraints:{InclusiveMinimum:0},serializedName:"MaxAgeInSeconds",required:!0,xmlName:"MaxAgeInSeconds",type:{name:"Number"}}}}},Hk={serializedName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite",modelProperties:{enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},indexDocument:{serializedName:"IndexDocument",xmlName:"IndexDocument",type:{name:"String"}},errorDocument404Path:{serializedName:"ErrorDocument404Path",xmlName:"ErrorDocument404Path",type:{name:"String"}},defaultIndexDocumentPath:{serializedName:"DefaultIndexDocumentPath",xmlName:"DefaultIndexDocumentPath",type:{name:"String"}}}}},I={serializedName:"StorageError",type:{name:"Composite",className:"StorageError",modelProperties:{message:{serializedName:"Message",xmlName:"Message",type:{name:"String"}},code:{serializedName:"Code",xmlName:"Code",type:{name:"String"}}}}},QN={serializedName:"BlobServiceStatistics",xmlName:"StorageServiceStats",type:{name:"Composite",className:"BlobServiceStatistics",modelProperties:{geoReplication:{serializedName:"GeoReplication",xmlName:"GeoReplication",type:{name:"Composite",className:"GeoReplication"}}}}},Uk={serializedName:"GeoReplication",type:{name:"Composite",className:"GeoReplication",modelProperties:{status:{serializedName:"Status",required:!0,xmlName:"Status",type:{name:"Enum",allowedValues:["live","bootstrap","unavailable"]}},lastSyncOn:{serializedName:"LastSyncTime",required:!0,xmlName:"LastSyncTime",type:{name:"DateTimeRfc1123"}}}}},JN={serializedName:"ListContainersSegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListContainersSegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},containerItems:{serializedName:"ContainerItems",required:!0,xmlName:"Containers",xmlIsWrapped:!0,xmlElementName:"Container",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerItem"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},Fk={serializedName:"ContainerItem",xmlName:"Container",type:{name:"Composite",className:"ContainerItem",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},deleted:{serializedName:"Deleted",xmlName:"Deleted",type:{name:"Boolean"}},version:{serializedName:"Version",xmlName:"Version",type:{name:"String"}},properties:{serializedName:"Properties",xmlName:"Properties",type:{name:"Composite",className:"ContainerProperties"}},metadata:{serializedName:"Metadata",xmlName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},$k={serializedName:"ContainerProperties",type:{name:"Composite",className:"ContainerProperties",modelProperties:{lastModified:{serializedName:"Last-Modified",required:!0,xmlName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"Etag",required:!0,xmlName:"Etag",type:{name:"String"}},leaseStatus:{serializedName:"LeaseStatus",xmlName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{serializedName:"LeaseState",xmlName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{serializedName:"LeaseDuration",xmlName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},publicAccess:{serializedName:"PublicAccess",xmlName:"PublicAccess",type:{name:"Enum",allowedValues:["container","blob"]}},hasImmutabilityPolicy:{serializedName:"HasImmutabilityPolicy",xmlName:"HasImmutabilityPolicy",type:{name:"Boolean"}},hasLegalHold:{serializedName:"HasLegalHold",xmlName:"HasLegalHold",type:{name:"Boolean"}},defaultEncryptionScope:{serializedName:"DefaultEncryptionScope",xmlName:"DefaultEncryptionScope",type:{name:"String"}},preventEncryptionScopeOverride:{serializedName:"DenyEncryptionScopeOverride",xmlName:"DenyEncryptionScopeOverride",type:{name:"Boolean"}},deletedOn:{serializedName:"DeletedTime",xmlName:"DeletedTime",type:{name:"DateTimeRfc1123"}},remainingRetentionDays:{serializedName:"RemainingRetentionDays",xmlName:"RemainingRetentionDays",type:{name:"Number"}},isImmutableStorageWithVersioningEnabled:{serializedName:"ImmutableStorageWithVersioningEnabled",xmlName:"ImmutableStorageWithVersioningEnabled",type:{name:"Boolean"}}}}},XN={serializedName:"KeyInfo",type:{name:"Composite",className:"KeyInfo",modelProperties:{startsOn:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"String"}},expiresOn:{serializedName:"Expiry",required:!0,xmlName:"Expiry",type:{name:"String"}}}}},YN={serializedName:"UserDelegationKey",type:{name:"Composite",className:"UserDelegationKey",modelProperties:{signedObjectId:{serializedName:"SignedOid",required:!0,xmlName:"SignedOid",type:{name:"String"}},signedTenantId:{serializedName:"SignedTid",required:!0,xmlName:"SignedTid",type:{name:"String"}},signedStartsOn:{serializedName:"SignedStart",required:!0,xmlName:"SignedStart",type:{name:"String"}},signedExpiresOn:{serializedName:"SignedExpiry",required:!0,xmlName:"SignedExpiry",type:{name:"String"}},signedService:{serializedName:"SignedService",required:!0,xmlName:"SignedService",type:{name:"String"}},signedVersion:{serializedName:"SignedVersion",required:!0,xmlName:"SignedVersion",type:{name:"String"}},value:{serializedName:"Value",required:!0,xmlName:"Value",type:{name:"String"}}}}},cv={serializedName:"FilterBlobSegment",xmlName:"EnumerationResults",type:{name:"Composite",className:"FilterBlobSegment",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},where:{serializedName:"Where",required:!0,xmlName:"Where",type:{name:"String"}},blobs:{serializedName:"Blobs",required:!0,xmlName:"Blobs",xmlIsWrapped:!0,xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterBlobItem"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},Wk={serializedName:"FilterBlobItem",xmlName:"Blob",type:{name:"Composite",className:"FilterBlobItem",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",type:{name:"String"}},tags:{serializedName:"Tags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags"}}}}},lv={serializedName:"BlobTags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags",modelProperties:{blobTagSet:{serializedName:"BlobTagSet",required:!0,xmlName:"TagSet",xmlIsWrapped:!0,xmlElementName:"Tag",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobTag"}}}}}}},Kk={serializedName:"BlobTag",xmlName:"Tag",type:{name:"Composite",className:"BlobTag",modelProperties:{key:{serializedName:"Key",required:!0,xmlName:"Key",type:{name:"String"}},value:{serializedName:"Value",required:!0,xmlName:"Value",type:{name:"String"}}}}},Vk={serializedName:"SignedIdentifier",xmlName:"SignedIdentifier",type:{name:"Composite",className:"SignedIdentifier",modelProperties:{id:{serializedName:"Id",required:!0,xmlName:"Id",type:{name:"String"}},accessPolicy:{serializedName:"AccessPolicy",xmlName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy"}}}}},Gk={serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy",modelProperties:{startsOn:{serializedName:"Start",xmlName:"Start",type:{name:"String"}},expiresOn:{serializedName:"Expiry",xmlName:"Expiry",type:{name:"String"}},permissions:{serializedName:"Permission",xmlName:"Permission",type:{name:"String"}}}}},ZN={serializedName:"ListBlobsFlatSegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListBlobsFlatSegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},segment:{serializedName:"Segment",xmlName:"Blobs",type:{name:"Composite",className:"BlobFlatListSegment"}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},Qk={serializedName:"BlobFlatListSegment",xmlName:"Blobs",type:{name:"Composite",className:"BlobFlatListSegment",modelProperties:{blobItems:{serializedName:"BlobItems",required:!0,xmlName:"BlobItems",xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItemInternal"}}}}}}},Jk={serializedName:"BlobItemInternal",xmlName:"Blob",type:{name:"Composite",className:"BlobItemInternal",modelProperties:{name:{serializedName:"Name",xmlName:"Name",type:{name:"Composite",className:"BlobName"}},deleted:{serializedName:"Deleted",required:!0,xmlName:"Deleted",type:{name:"Boolean"}},snapshot:{serializedName:"Snapshot",required:!0,xmlName:"Snapshot",type:{name:"String"}},versionId:{serializedName:"VersionId",xmlName:"VersionId",type:{name:"String"}},isCurrentVersion:{serializedName:"IsCurrentVersion",xmlName:"IsCurrentVersion",type:{name:"Boolean"}},properties:{serializedName:"Properties",xmlName:"Properties",type:{name:"Composite",className:"BlobPropertiesInternal"}},metadata:{serializedName:"Metadata",xmlName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}},blobTags:{serializedName:"BlobTags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags"}},objectReplicationMetadata:{serializedName:"ObjectReplicationMetadata",xmlName:"OrMetadata",type:{name:"Dictionary",value:{type:{name:"String"}}}},hasVersionsOnly:{serializedName:"HasVersionsOnly",xmlName:"HasVersionsOnly",type:{name:"Boolean"}}}}},Xk={serializedName:"BlobName",type:{name:"Composite",className:"BlobName",modelProperties:{encoded:{serializedName:"Encoded",xmlName:"Encoded",xmlIsAttribute:!0,type:{name:"Boolean"}},content:{serializedName:"content",xmlName:"content",xmlIsMsText:!0,type:{name:"String"}}}}},Yk={serializedName:"BlobPropertiesInternal",xmlName:"Properties",type:{name:"Composite",className:"BlobPropertiesInternal",modelProperties:{createdOn:{serializedName:"Creation-Time",xmlName:"Creation-Time",type:{name:"DateTimeRfc1123"}},lastModified:{serializedName:"Last-Modified",required:!0,xmlName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"Etag",required:!0,xmlName:"Etag",type:{name:"String"}},contentLength:{serializedName:"Content-Length",xmlName:"Content-Length",type:{name:"Number"}},contentType:{serializedName:"Content-Type",xmlName:"Content-Type",type:{name:"String"}},contentEncoding:{serializedName:"Content-Encoding",xmlName:"Content-Encoding",type:{name:"String"}},contentLanguage:{serializedName:"Content-Language",xmlName:"Content-Language",type:{name:"String"}},contentMD5:{serializedName:"Content-MD5",xmlName:"Content-MD5",type:{name:"ByteArray"}},contentDisposition:{serializedName:"Content-Disposition",xmlName:"Content-Disposition",type:{name:"String"}},cacheControl:{serializedName:"Cache-Control",xmlName:"Cache-Control",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"BlobType",xmlName:"BlobType",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},leaseStatus:{serializedName:"LeaseStatus",xmlName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{serializedName:"LeaseState",xmlName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{serializedName:"LeaseDuration",xmlName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},copyId:{serializedName:"CopyId",xmlName:"CopyId",type:{name:"String"}},copyStatus:{serializedName:"CopyStatus",xmlName:"CopyStatus",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},copySource:{serializedName:"CopySource",xmlName:"CopySource",type:{name:"String"}},copyProgress:{serializedName:"CopyProgress",xmlName:"CopyProgress",type:{name:"String"}},copyCompletedOn:{serializedName:"CopyCompletionTime",xmlName:"CopyCompletionTime",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"CopyStatusDescription",xmlName:"CopyStatusDescription",type:{name:"String"}},serverEncrypted:{serializedName:"ServerEncrypted",xmlName:"ServerEncrypted",type:{name:"Boolean"}},incrementalCopy:{serializedName:"IncrementalCopy",xmlName:"IncrementalCopy",type:{name:"Boolean"}},destinationSnapshot:{serializedName:"DestinationSnapshot",xmlName:"DestinationSnapshot",type:{name:"String"}},deletedOn:{serializedName:"DeletedTime",xmlName:"DeletedTime",type:{name:"DateTimeRfc1123"}},remainingRetentionDays:{serializedName:"RemainingRetentionDays",xmlName:"RemainingRetentionDays",type:{name:"Number"}},accessTier:{serializedName:"AccessTier",xmlName:"AccessTier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}},accessTierInferred:{serializedName:"AccessTierInferred",xmlName:"AccessTierInferred",type:{name:"Boolean"}},archiveStatus:{serializedName:"ArchiveStatus",xmlName:"ArchiveStatus",type:{name:"Enum",allowedValues:["rehydrate-pending-to-hot","rehydrate-pending-to-cool","rehydrate-pending-to-cold"]}},customerProvidedKeySha256:{serializedName:"CustomerProvidedKeySha256",xmlName:"CustomerProvidedKeySha256",type:{name:"String"}},encryptionScope:{serializedName:"EncryptionScope",xmlName:"EncryptionScope",type:{name:"String"}},accessTierChangedOn:{serializedName:"AccessTierChangeTime",xmlName:"AccessTierChangeTime",type:{name:"DateTimeRfc1123"}},tagCount:{serializedName:"TagCount",xmlName:"TagCount",type:{name:"Number"}},expiresOn:{serializedName:"Expiry-Time",xmlName:"Expiry-Time",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"Sealed",xmlName:"Sealed",type:{name:"Boolean"}},rehydratePriority:{serializedName:"RehydratePriority",xmlName:"RehydratePriority",type:{name:"Enum",allowedValues:["High","Standard"]}},lastAccessedOn:{serializedName:"LastAccessTime",xmlName:"LastAccessTime",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"ImmutabilityPolicyUntilDate",xmlName:"ImmutabilityPolicyUntilDate",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"ImmutabilityPolicyMode",xmlName:"ImmutabilityPolicyMode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"LegalHold",xmlName:"LegalHold",type:{name:"Boolean"}}}}},eE={serializedName:"ListBlobsHierarchySegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListBlobsHierarchySegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},delimiter:{serializedName:"Delimiter",xmlName:"Delimiter",type:{name:"String"}},segment:{serializedName:"Segment",xmlName:"Blobs",type:{name:"Composite",className:"BlobHierarchyListSegment"}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},Zk={serializedName:"BlobHierarchyListSegment",xmlName:"Blobs",type:{name:"Composite",className:"BlobHierarchyListSegment",modelProperties:{blobPrefixes:{serializedName:"BlobPrefixes",xmlName:"BlobPrefixes",xmlElementName:"BlobPrefix",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobPrefix"}}}},blobItems:{serializedName:"BlobItems",required:!0,xmlName:"BlobItems",xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItemInternal"}}}}}}},eD={serializedName:"BlobPrefix",type:{name:"Composite",className:"BlobPrefix",modelProperties:{name:{serializedName:"Name",xmlName:"Name",type:{name:"Composite",className:"BlobName"}}}}},tE={serializedName:"BlockLookupList",xmlName:"BlockList",type:{name:"Composite",className:"BlockLookupList",modelProperties:{committed:{serializedName:"Committed",xmlName:"Committed",xmlElementName:"Committed",type:{name:"Sequence",element:{type:{name:"String"}}}},uncommitted:{serializedName:"Uncommitted",xmlName:"Uncommitted",xmlElementName:"Uncommitted",type:{name:"Sequence",element:{type:{name:"String"}}}},latest:{serializedName:"Latest",xmlName:"Latest",xmlElementName:"Latest",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},rE={serializedName:"BlockList",type:{name:"Composite",className:"BlockList",modelProperties:{committedBlocks:{serializedName:"CommittedBlocks",xmlName:"CommittedBlocks",xmlIsWrapped:!0,xmlElementName:"Block",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}},uncommittedBlocks:{serializedName:"UncommittedBlocks",xmlName:"UncommittedBlocks",xmlIsWrapped:!0,xmlElementName:"Block",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}}}}},tD={serializedName:"Block",type:{name:"Composite",className:"Block",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},size:{serializedName:"Size",required:!0,xmlName:"Size",type:{name:"Number"}}}}},uv={serializedName:"PageList",type:{name:"Composite",className:"PageList",modelProperties:{pageRange:{serializedName:"PageRange",xmlName:"PageRange",xmlElementName:"PageRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"PageRange"}}}},clearRange:{serializedName:"ClearRange",xmlName:"ClearRange",xmlElementName:"ClearRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"ClearRange"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},rD={serializedName:"PageRange",xmlName:"PageRange",type:{name:"Composite",className:"PageRange",modelProperties:{start:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"Number"}},end:{serializedName:"End",required:!0,xmlName:"End",type:{name:"Number"}}}}},nD={serializedName:"ClearRange",xmlName:"ClearRange",type:{name:"Composite",className:"ClearRange",modelProperties:{start:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"Number"}},end:{serializedName:"End",required:!0,xmlName:"End",type:{name:"Number"}}}}},nE={serializedName:"QueryRequest",xmlName:"QueryRequest",type:{name:"Composite",className:"QueryRequest",modelProperties:{queryType:{serializedName:"QueryType",required:!0,xmlName:"QueryType",type:{name:"String"}},expression:{serializedName:"Expression",required:!0,xmlName:"Expression",type:{name:"String"}},inputSerialization:{serializedName:"InputSerialization",xmlName:"InputSerialization",type:{name:"Composite",className:"QuerySerialization"}},outputSerialization:{serializedName:"OutputSerialization",xmlName:"OutputSerialization",type:{name:"Composite",className:"QuerySerialization"}}}}},iD={serializedName:"QuerySerialization",type:{name:"Composite",className:"QuerySerialization",modelProperties:{format:{serializedName:"Format",xmlName:"Format",type:{name:"Composite",className:"QueryFormat"}}}}},sD={serializedName:"QueryFormat",type:{name:"Composite",className:"QueryFormat",modelProperties:{type:{serializedName:"Type",required:!0,xmlName:"Type",type:{name:"Enum",allowedValues:["delimited","json","arrow","parquet"]}},delimitedTextConfiguration:{serializedName:"DelimitedTextConfiguration",xmlName:"DelimitedTextConfiguration",type:{name:"Composite",className:"DelimitedTextConfiguration"}},jsonTextConfiguration:{serializedName:"JsonTextConfiguration",xmlName:"JsonTextConfiguration",type:{name:"Composite",className:"JsonTextConfiguration"}},arrowConfiguration:{serializedName:"ArrowConfiguration",xmlName:"ArrowConfiguration",type:{name:"Composite",className:"ArrowConfiguration"}},parquetTextConfiguration:{serializedName:"ParquetTextConfiguration",xmlName:"ParquetTextConfiguration",type:{name:"any"}}}}},oD={serializedName:"DelimitedTextConfiguration",xmlName:"DelimitedTextConfiguration",type:{name:"Composite",className:"DelimitedTextConfiguration",modelProperties:{columnSeparator:{serializedName:"ColumnSeparator",xmlName:"ColumnSeparator",type:{name:"String"}},fieldQuote:{serializedName:"FieldQuote",xmlName:"FieldQuote",type:{name:"String"}},recordSeparator:{serializedName:"RecordSeparator",xmlName:"RecordSeparator",type:{name:"String"}},escapeChar:{serializedName:"EscapeChar",xmlName:"EscapeChar",type:{name:"String"}},headersPresent:{serializedName:"HeadersPresent",xmlName:"HasHeaders",type:{name:"Boolean"}}}}},aD={serializedName:"JsonTextConfiguration",xmlName:"JsonTextConfiguration",type:{name:"Composite",className:"JsonTextConfiguration",modelProperties:{recordSeparator:{serializedName:"RecordSeparator",xmlName:"RecordSeparator",type:{name:"String"}}}}},cD={serializedName:"ArrowConfiguration",xmlName:"ArrowConfiguration",type:{name:"Composite",className:"ArrowConfiguration",modelProperties:{schema:{serializedName:"Schema",required:!0,xmlName:"Schema",xmlIsWrapped:!0,xmlElementName:"Field",type:{name:"Sequence",element:{type:{name:"Composite",className:"ArrowField"}}}}}}},lD={serializedName:"ArrowField",xmlName:"Field",type:{name:"Composite",className:"ArrowField",modelProperties:{type:{serializedName:"Type",required:!0,xmlName:"Type",type:{name:"String"}},name:{serializedName:"Name",xmlName:"Name",type:{name:"String"}},precision:{serializedName:"Precision",xmlName:"Precision",type:{name:"Number"}},scale:{serializedName:"Scale",xmlName:"Scale",type:{name:"Number"}}}}},iE={serializedName:"Service_setPropertiesHeaders",type:{name:"Composite",className:"ServiceSetPropertiesHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},sE={serializedName:"Service_setPropertiesExceptionHeaders",type:{name:"Composite",className:"ServiceSetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},oE={serializedName:"Service_getPropertiesHeaders",type:{name:"Composite",className:"ServiceGetPropertiesHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},aE={serializedName:"Service_getPropertiesExceptionHeaders",type:{name:"Composite",className:"ServiceGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},cE={serializedName:"Service_getStatisticsHeaders",type:{name:"Composite",className:"ServiceGetStatisticsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},lE={serializedName:"Service_getStatisticsExceptionHeaders",type:{name:"Composite",className:"ServiceGetStatisticsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},uE={serializedName:"Service_listContainersSegmentHeaders",type:{name:"Composite",className:"ServiceListContainersSegmentHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},dE={serializedName:"Service_listContainersSegmentExceptionHeaders",type:{name:"Composite",className:"ServiceListContainersSegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},pE={serializedName:"Service_getUserDelegationKeyHeaders",type:{name:"Composite",className:"ServiceGetUserDelegationKeyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},mE={serializedName:"Service_getUserDelegationKeyExceptionHeaders",type:{name:"Composite",className:"ServiceGetUserDelegationKeyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},hE={serializedName:"Service_getAccountInfoHeaders",type:{name:"Composite",className:"ServiceGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}},isHierarchicalNamespaceEnabled:{serializedName:"x-ms-is-hns-enabled",xmlName:"x-ms-is-hns-enabled",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},fE={serializedName:"Service_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"ServiceGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},vE={serializedName:"Service_submitBatchHeaders",type:{name:"Composite",className:"ServiceSubmitBatchHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},gE={serializedName:"Service_submitBatchExceptionHeaders",type:{name:"Composite",className:"ServiceSubmitBatchExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},yE={serializedName:"Service_filterBlobsHeaders",type:{name:"Composite",className:"ServiceFilterBlobsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},CE={serializedName:"Service_filterBlobsExceptionHeaders",type:{name:"Composite",className:"ServiceFilterBlobsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},SE={serializedName:"Container_createHeaders",type:{name:"Composite",className:"ContainerCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},PE={serializedName:"Container_createExceptionHeaders",type:{name:"Composite",className:"ContainerCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},RE={serializedName:"Container_getPropertiesHeaders",type:{name:"Composite",className:"ContainerGetPropertiesHeaders",modelProperties:{metadata:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobPublicAccess:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}},hasImmutabilityPolicy:{serializedName:"x-ms-has-immutability-policy",xmlName:"x-ms-has-immutability-policy",type:{name:"Boolean"}},hasLegalHold:{serializedName:"x-ms-has-legal-hold",xmlName:"x-ms-has-legal-hold",type:{name:"Boolean"}},defaultEncryptionScope:{serializedName:"x-ms-default-encryption-scope",xmlName:"x-ms-default-encryption-scope",type:{name:"String"}},denyEncryptionScopeOverride:{serializedName:"x-ms-deny-encryption-scope-override",xmlName:"x-ms-deny-encryption-scope-override",type:{name:"Boolean"}},isImmutableStorageWithVersioningEnabled:{serializedName:"x-ms-immutable-storage-with-versioning-enabled",xmlName:"x-ms-immutable-storage-with-versioning-enabled",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},xE={serializedName:"Container_getPropertiesExceptionHeaders",type:{name:"Composite",className:"ContainerGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},NE={serializedName:"Container_deleteHeaders",type:{name:"Composite",className:"ContainerDeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},EE={serializedName:"Container_deleteExceptionHeaders",type:{name:"Composite",className:"ContainerDeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},wE={serializedName:"Container_setMetadataHeaders",type:{name:"Composite",className:"ContainerSetMetadataHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},bE={serializedName:"Container_setMetadataExceptionHeaders",type:{name:"Composite",className:"ContainerSetMetadataExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},TE={serializedName:"Container_getAccessPolicyHeaders",type:{name:"Composite",className:"ContainerGetAccessPolicyHeaders",modelProperties:{blobPublicAccess:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},IE={serializedName:"Container_getAccessPolicyExceptionHeaders",type:{name:"Composite",className:"ContainerGetAccessPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},_E={serializedName:"Container_setAccessPolicyHeaders",type:{name:"Composite",className:"ContainerSetAccessPolicyHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},AE={serializedName:"Container_setAccessPolicyExceptionHeaders",type:{name:"Composite",className:"ContainerSetAccessPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},zE={serializedName:"Container_restoreHeaders",type:{name:"Composite",className:"ContainerRestoreHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},OE={serializedName:"Container_restoreExceptionHeaders",type:{name:"Composite",className:"ContainerRestoreExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ME={serializedName:"Container_renameHeaders",type:{name:"Composite",className:"ContainerRenameHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},kE={serializedName:"Container_renameExceptionHeaders",type:{name:"Composite",className:"ContainerRenameExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},DE={serializedName:"Container_submitBatchHeaders",type:{name:"Composite",className:"ContainerSubmitBatchHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}}}}},BE={serializedName:"Container_submitBatchExceptionHeaders",type:{name:"Composite",className:"ContainerSubmitBatchExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},LE={serializedName:"Container_filterBlobsHeaders",type:{name:"Composite",className:"ContainerFilterBlobsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},jE={serializedName:"Container_filterBlobsExceptionHeaders",type:{name:"Composite",className:"ContainerFilterBlobsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},qE={serializedName:"Container_acquireLeaseHeaders",type:{name:"Composite",className:"ContainerAcquireLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},HE={serializedName:"Container_acquireLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerAcquireLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},UE={serializedName:"Container_releaseLeaseHeaders",type:{name:"Composite",className:"ContainerReleaseLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},FE={serializedName:"Container_releaseLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerReleaseLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},$E={serializedName:"Container_renewLeaseHeaders",type:{name:"Composite",className:"ContainerRenewLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},WE={serializedName:"Container_renewLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerRenewLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},KE={serializedName:"Container_breakLeaseHeaders",type:{name:"Composite",className:"ContainerBreakLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",xmlName:"x-ms-lease-time",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},VE={serializedName:"Container_breakLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerBreakLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},GE={serializedName:"Container_changeLeaseHeaders",type:{name:"Composite",className:"ContainerChangeLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},QE={serializedName:"Container_changeLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerChangeLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},JE={serializedName:"Container_listBlobFlatSegmentHeaders",type:{name:"Composite",className:"ContainerListBlobFlatSegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},XE={serializedName:"Container_listBlobFlatSegmentExceptionHeaders",type:{name:"Composite",className:"ContainerListBlobFlatSegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},YE={serializedName:"Container_listBlobHierarchySegmentHeaders",type:{name:"Composite",className:"ContainerListBlobHierarchySegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ZE={serializedName:"Container_listBlobHierarchySegmentExceptionHeaders",type:{name:"Composite",className:"ContainerListBlobHierarchySegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ew={serializedName:"Container_getAccountInfoHeaders",type:{name:"Composite",className:"ContainerGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}}}}},tw={serializedName:"Container_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"ContainerGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Uh={serializedName:"Blob_downloadHeaders",type:{name:"Composite",className:"BlobDownloadHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},createdOn:{serializedName:"x-ms-creation-time",xmlName:"x-ms-creation-time",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},objectReplicationPolicyId:{serializedName:"x-ms-or-policy-id",xmlName:"x-ms-or-policy-id",type:{name:"String"}},objectReplicationRules:{serializedName:"x-ms-or",xmlName:"x-ms-or",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-or-"},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",xmlName:"content-range",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletedOn:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},isCurrentVersion:{serializedName:"x-ms-is-current-version",xmlName:"x-ms-is-current-version",type:{name:"Boolean"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},blobContentMD5:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}},tagCount:{serializedName:"x-ms-tag-count",xmlName:"x-ms-tag-count",type:{name:"Number"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}},lastAccessed:{serializedName:"x-ms-last-access-time",xmlName:"x-ms-last-access-time",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}},contentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}}}},rw={serializedName:"Blob_downloadExceptionHeaders",type:{name:"Composite",className:"BlobDownloadExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},nw={serializedName:"Blob_getPropertiesHeaders",type:{name:"Composite",className:"BlobGetPropertiesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},createdOn:{serializedName:"x-ms-creation-time",xmlName:"x-ms-creation-time",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},objectReplicationPolicyId:{serializedName:"x-ms-or-policy-id",xmlName:"x-ms-or-policy-id",type:{name:"String"}},objectReplicationRules:{serializedName:"x-ms-or",xmlName:"x-ms-or",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-or-"},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletedOn:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},isIncrementalCopy:{serializedName:"x-ms-incremental-copy",xmlName:"x-ms-incremental-copy",type:{name:"Boolean"}},destinationSnapshot:{serializedName:"x-ms-copy-destination-snapshot",xmlName:"x-ms-copy-destination-snapshot",type:{name:"String"}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},accessTier:{serializedName:"x-ms-access-tier",xmlName:"x-ms-access-tier",type:{name:"String"}},accessTierInferred:{serializedName:"x-ms-access-tier-inferred",xmlName:"x-ms-access-tier-inferred",type:{name:"Boolean"}},archiveStatus:{serializedName:"x-ms-archive-status",xmlName:"x-ms-archive-status",type:{name:"String"}},accessTierChangedOn:{serializedName:"x-ms-access-tier-change-time",xmlName:"x-ms-access-tier-change-time",type:{name:"DateTimeRfc1123"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},isCurrentVersion:{serializedName:"x-ms-is-current-version",xmlName:"x-ms-is-current-version",type:{name:"Boolean"}},tagCount:{serializedName:"x-ms-tag-count",xmlName:"x-ms-tag-count",type:{name:"Number"}},expiresOn:{serializedName:"x-ms-expiry-time",xmlName:"x-ms-expiry-time",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}},rehydratePriority:{serializedName:"x-ms-rehydrate-priority",xmlName:"x-ms-rehydrate-priority",type:{name:"Enum",allowedValues:["High","Standard"]}},lastAccessed:{serializedName:"x-ms-last-access-time",xmlName:"x-ms-last-access-time",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},iw={serializedName:"Blob_getPropertiesExceptionHeaders",type:{name:"Composite",className:"BlobGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},sw={serializedName:"Blob_deleteHeaders",type:{name:"Composite",className:"BlobDeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ow={serializedName:"Blob_deleteExceptionHeaders",type:{name:"Composite",className:"BlobDeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},aw={serializedName:"Blob_undeleteHeaders",type:{name:"Composite",className:"BlobUndeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},cw={serializedName:"Blob_undeleteExceptionHeaders",type:{name:"Composite",className:"BlobUndeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},lw={serializedName:"Blob_setExpiryHeaders",type:{name:"Composite",className:"BlobSetExpiryHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},uw={serializedName:"Blob_setExpiryExceptionHeaders",type:{name:"Composite",className:"BlobSetExpiryExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},dw={serializedName:"Blob_setHttpHeadersHeaders",type:{name:"Composite",className:"BlobSetHttpHeadersHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},pw={serializedName:"Blob_setHttpHeadersExceptionHeaders",type:{name:"Composite",className:"BlobSetHttpHeadersExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},mw={serializedName:"Blob_setImmutabilityPolicyHeaders",type:{name:"Composite",className:"BlobSetImmutabilityPolicyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiry:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}}}}},hw={serializedName:"Blob_setImmutabilityPolicyExceptionHeaders",type:{name:"Composite",className:"BlobSetImmutabilityPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},fw={serializedName:"Blob_deleteImmutabilityPolicyHeaders",type:{name:"Composite",className:"BlobDeleteImmutabilityPolicyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},vw={serializedName:"Blob_deleteImmutabilityPolicyExceptionHeaders",type:{name:"Composite",className:"BlobDeleteImmutabilityPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},gw={serializedName:"Blob_setLegalHoldHeaders",type:{name:"Composite",className:"BlobSetLegalHoldHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}}}},yw={serializedName:"Blob_setLegalHoldExceptionHeaders",type:{name:"Composite",className:"BlobSetLegalHoldExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Cw={serializedName:"Blob_setMetadataHeaders",type:{name:"Composite",className:"BlobSetMetadataHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Sw={serializedName:"Blob_setMetadataExceptionHeaders",type:{name:"Composite",className:"BlobSetMetadataExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Pw={serializedName:"Blob_acquireLeaseHeaders",type:{name:"Composite",className:"BlobAcquireLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},Rw={serializedName:"Blob_acquireLeaseExceptionHeaders",type:{name:"Composite",className:"BlobAcquireLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},xw={serializedName:"Blob_releaseLeaseHeaders",type:{name:"Composite",className:"BlobReleaseLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},Nw={serializedName:"Blob_releaseLeaseExceptionHeaders",type:{name:"Composite",className:"BlobReleaseLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Ew={serializedName:"Blob_renewLeaseHeaders",type:{name:"Composite",className:"BlobRenewLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},ww={serializedName:"Blob_renewLeaseExceptionHeaders",type:{name:"Composite",className:"BlobRenewLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},bw={serializedName:"Blob_changeLeaseHeaders",type:{name:"Composite",className:"BlobChangeLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},Tw={serializedName:"Blob_changeLeaseExceptionHeaders",type:{name:"Composite",className:"BlobChangeLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Iw={serializedName:"Blob_breakLeaseHeaders",type:{name:"Composite",className:"BlobBreakLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",xmlName:"x-ms-lease-time",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},_w={serializedName:"Blob_breakLeaseExceptionHeaders",type:{name:"Composite",className:"BlobBreakLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Aw={serializedName:"Blob_createSnapshotHeaders",type:{name:"Composite",className:"BlobCreateSnapshotHeaders",modelProperties:{snapshot:{serializedName:"x-ms-snapshot",xmlName:"x-ms-snapshot",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},zw={serializedName:"Blob_createSnapshotExceptionHeaders",type:{name:"Composite",className:"BlobCreateSnapshotExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Ow={serializedName:"Blob_startCopyFromURLHeaders",type:{name:"Composite",className:"BlobStartCopyFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Mw={serializedName:"Blob_startCopyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobStartCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},kw={serializedName:"Blob_copyFromURLHeaders",type:{name:"Composite",className:"BlobCopyFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{defaultValue:"success",isConstant:!0,serializedName:"x-ms-copy-status",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Dw={serializedName:"Blob_copyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Bw={serializedName:"Blob_abortCopyFromURLHeaders",type:{name:"Composite",className:"BlobAbortCopyFromURLHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Lw={serializedName:"Blob_abortCopyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobAbortCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Fh={serializedName:"Blob_setTierHeaders",type:{name:"Composite",className:"BlobSetTierHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},jw={serializedName:"Blob_setTierExceptionHeaders",type:{name:"Composite",className:"BlobSetTierExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},qw={serializedName:"Blob_getAccountInfoHeaders",type:{name:"Composite",className:"BlobGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}}}}},Hw={serializedName:"Blob_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"BlobGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},$h={serializedName:"Blob_queryHeaders",type:{name:"Composite",className:"BlobQueryHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}}},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",xmlName:"content-range",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},blobContentMD5:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}},contentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}}}},Uw={serializedName:"Blob_queryExceptionHeaders",type:{name:"Composite",className:"BlobQueryExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Fw={serializedName:"Blob_getTagsHeaders",type:{name:"Composite",className:"BlobGetTagsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},$w={serializedName:"Blob_getTagsExceptionHeaders",type:{name:"Composite",className:"BlobGetTagsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Ww={serializedName:"Blob_setTagsHeaders",type:{name:"Composite",className:"BlobSetTagsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Kw={serializedName:"Blob_setTagsExceptionHeaders",type:{name:"Composite",className:"BlobSetTagsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Vw={serializedName:"PageBlob_createHeaders",type:{name:"Composite",className:"PageBlobCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Gw={serializedName:"PageBlob_createExceptionHeaders",type:{name:"Composite",className:"PageBlobCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Qw={serializedName:"PageBlob_uploadPagesHeaders",type:{name:"Composite",className:"PageBlobUploadPagesHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Jw={serializedName:"PageBlob_uploadPagesExceptionHeaders",type:{name:"Composite",className:"PageBlobUploadPagesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Xw={serializedName:"PageBlob_clearPagesHeaders",type:{name:"Composite",className:"PageBlobClearPagesHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Yw={serializedName:"PageBlob_clearPagesExceptionHeaders",type:{name:"Composite",className:"PageBlobClearPagesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Zw={serializedName:"PageBlob_uploadPagesFromURLHeaders",type:{name:"Composite",className:"PageBlobUploadPagesFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},eb={serializedName:"PageBlob_uploadPagesFromURLExceptionHeaders",type:{name:"Composite",className:"PageBlobUploadPagesFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},tb={serializedName:"PageBlob_getPageRangesHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},rb={serializedName:"PageBlob_getPageRangesExceptionHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},nb={serializedName:"PageBlob_getPageRangesDiffHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesDiffHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ib={serializedName:"PageBlob_getPageRangesDiffExceptionHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesDiffExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},sb={serializedName:"PageBlob_resizeHeaders",type:{name:"Composite",className:"PageBlobResizeHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ob={serializedName:"PageBlob_resizeExceptionHeaders",type:{name:"Composite",className:"PageBlobResizeExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ab={serializedName:"PageBlob_updateSequenceNumberHeaders",type:{name:"Composite",className:"PageBlobUpdateSequenceNumberHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},cb={serializedName:"PageBlob_updateSequenceNumberExceptionHeaders",type:{name:"Composite",className:"PageBlobUpdateSequenceNumberExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},lb={serializedName:"PageBlob_copyIncrementalHeaders",type:{name:"Composite",className:"PageBlobCopyIncrementalHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ub={serializedName:"PageBlob_copyIncrementalExceptionHeaders",type:{name:"Composite",className:"PageBlobCopyIncrementalExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},db={serializedName:"AppendBlob_createHeaders",type:{name:"Composite",className:"AppendBlobCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},pb={serializedName:"AppendBlob_createExceptionHeaders",type:{name:"Composite",className:"AppendBlobCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},mb={serializedName:"AppendBlob_appendBlockHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobAppendOffset:{serializedName:"x-ms-blob-append-offset",xmlName:"x-ms-blob-append-offset",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},hb={serializedName:"AppendBlob_appendBlockExceptionHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},fb={serializedName:"AppendBlob_appendBlockFromUrlHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockFromUrlHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobAppendOffset:{serializedName:"x-ms-blob-append-offset",xmlName:"x-ms-blob-append-offset",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},vb={serializedName:"AppendBlob_appendBlockFromUrlExceptionHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockFromUrlExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},gb={serializedName:"AppendBlob_sealHeaders",type:{name:"Composite",className:"AppendBlobSealHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}}}}},yb={serializedName:"AppendBlob_sealExceptionHeaders",type:{name:"Composite",className:"AppendBlobSealExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Cb={serializedName:"BlockBlob_uploadHeaders",type:{name:"Composite",className:"BlockBlobUploadHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Sb={serializedName:"BlockBlob_uploadExceptionHeaders",type:{name:"Composite",className:"BlockBlobUploadExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Pb={serializedName:"BlockBlob_putBlobFromUrlHeaders",type:{name:"Composite",className:"BlockBlobPutBlobFromUrlHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Rb={serializedName:"BlockBlob_putBlobFromUrlExceptionHeaders",type:{name:"Composite",className:"BlockBlobPutBlobFromUrlExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},xb={serializedName:"BlockBlob_stageBlockHeaders",type:{name:"Composite",className:"BlockBlobStageBlockHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Nb={serializedName:"BlockBlob_stageBlockExceptionHeaders",type:{name:"Composite",className:"BlockBlobStageBlockExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Eb={serializedName:"BlockBlob_stageBlockFromURLHeaders",type:{name:"Composite",className:"BlockBlobStageBlockFromURLHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},wb={serializedName:"BlockBlob_stageBlockFromURLExceptionHeaders",type:{name:"Composite",className:"BlockBlobStageBlockFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},bb={serializedName:"BlockBlob_commitBlockListHeaders",type:{name:"Composite",className:"BlockBlobCommitBlockListHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Tb={serializedName:"BlockBlob_commitBlockListExceptionHeaders",type:{name:"Composite",className:"BlockBlobCommitBlockListExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Ib={serializedName:"BlockBlob_getBlockListHeaders",type:{name:"Composite",className:"BlockBlobGetBlockListHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},_b={serializedName:"BlockBlob_getBlockListExceptionHeaders",type:{name:"Composite",className:"BlockBlobGetBlockListExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Qr=Object.freeze(Object.defineProperty({__proto__:null,AccessPolicy:Gk,AppendBlobAppendBlockExceptionHeaders:hb,AppendBlobAppendBlockFromUrlExceptionHeaders:vb,AppendBlobAppendBlockFromUrlHeaders:fb,AppendBlobAppendBlockHeaders:mb,AppendBlobCreateExceptionHeaders:pb,AppendBlobCreateHeaders:db,AppendBlobSealExceptionHeaders:yb,AppendBlobSealHeaders:gb,ArrowConfiguration:cD,ArrowField:lD,BlobAbortCopyFromURLExceptionHeaders:Lw,BlobAbortCopyFromURLHeaders:Bw,BlobAcquireLeaseExceptionHeaders:Rw,BlobAcquireLeaseHeaders:Pw,BlobBreakLeaseExceptionHeaders:_w,BlobBreakLeaseHeaders:Iw,BlobChangeLeaseExceptionHeaders:Tw,BlobChangeLeaseHeaders:bw,BlobCopyFromURLExceptionHeaders:Dw,BlobCopyFromURLHeaders:kw,BlobCreateSnapshotExceptionHeaders:zw,BlobCreateSnapshotHeaders:Aw,BlobDeleteExceptionHeaders:ow,BlobDeleteHeaders:sw,BlobDeleteImmutabilityPolicyExceptionHeaders:vw,BlobDeleteImmutabilityPolicyHeaders:fw,BlobDownloadExceptionHeaders:rw,BlobDownloadHeaders:Uh,BlobFlatListSegment:Qk,BlobGetAccountInfoExceptionHeaders:Hw,BlobGetAccountInfoHeaders:qw,BlobGetPropertiesExceptionHeaders:iw,BlobGetPropertiesHeaders:nw,BlobGetTagsExceptionHeaders:$w,BlobGetTagsHeaders:Fw,BlobHierarchyListSegment:Zk,BlobItemInternal:Jk,BlobName:Xk,BlobPrefix:eD,BlobPropertiesInternal:Yk,BlobQueryExceptionHeaders:Uw,BlobQueryHeaders:$h,BlobReleaseLeaseExceptionHeaders:Nw,BlobReleaseLeaseHeaders:xw,BlobRenewLeaseExceptionHeaders:ww,BlobRenewLeaseHeaders:Ew,BlobServiceProperties:av,BlobServiceStatistics:QN,BlobSetExpiryExceptionHeaders:uw,BlobSetExpiryHeaders:lw,BlobSetHttpHeadersExceptionHeaders:pw,BlobSetHttpHeadersHeaders:dw,BlobSetImmutabilityPolicyExceptionHeaders:hw,BlobSetImmutabilityPolicyHeaders:mw,BlobSetLegalHoldExceptionHeaders:yw,BlobSetLegalHoldHeaders:gw,BlobSetMetadataExceptionHeaders:Sw,BlobSetMetadataHeaders:Cw,BlobSetTagsExceptionHeaders:Kw,BlobSetTagsHeaders:Ww,BlobSetTierExceptionHeaders:jw,BlobSetTierHeaders:Fh,BlobStartCopyFromURLExceptionHeaders:Mw,BlobStartCopyFromURLHeaders:Ow,BlobTag:Kk,BlobTags:lv,BlobUndeleteExceptionHeaders:cw,BlobUndeleteHeaders:aw,Block:tD,BlockBlobCommitBlockListExceptionHeaders:Tb,BlockBlobCommitBlockListHeaders:bb,BlockBlobGetBlockListExceptionHeaders:_b,BlockBlobGetBlockListHeaders:Ib,BlockBlobPutBlobFromUrlExceptionHeaders:Rb,BlockBlobPutBlobFromUrlHeaders:Pb,BlockBlobStageBlockExceptionHeaders:Nb,BlockBlobStageBlockFromURLExceptionHeaders:wb,BlockBlobStageBlockFromURLHeaders:Eb,BlockBlobStageBlockHeaders:xb,BlockBlobUploadExceptionHeaders:Sb,BlockBlobUploadHeaders:Cb,BlockList:rE,BlockLookupList:tE,ClearRange:nD,ContainerAcquireLeaseExceptionHeaders:HE,ContainerAcquireLeaseHeaders:qE,ContainerBreakLeaseExceptionHeaders:VE,ContainerBreakLeaseHeaders:KE,ContainerChangeLeaseExceptionHeaders:QE,ContainerChangeLeaseHeaders:GE,ContainerCreateExceptionHeaders:PE,ContainerCreateHeaders:SE,ContainerDeleteExceptionHeaders:EE,ContainerDeleteHeaders:NE,ContainerFilterBlobsExceptionHeaders:jE,ContainerFilterBlobsHeaders:LE,ContainerGetAccessPolicyExceptionHeaders:IE,ContainerGetAccessPolicyHeaders:TE,ContainerGetAccountInfoExceptionHeaders:tw,ContainerGetAccountInfoHeaders:ew,ContainerGetPropertiesExceptionHeaders:xE,ContainerGetPropertiesHeaders:RE,ContainerItem:Fk,ContainerListBlobFlatSegmentExceptionHeaders:XE,ContainerListBlobFlatSegmentHeaders:JE,ContainerListBlobHierarchySegmentExceptionHeaders:ZE,ContainerListBlobHierarchySegmentHeaders:YE,ContainerProperties:$k,ContainerReleaseLeaseExceptionHeaders:FE,ContainerReleaseLeaseHeaders:UE,ContainerRenameExceptionHeaders:kE,ContainerRenameHeaders:ME,ContainerRenewLeaseExceptionHeaders:WE,ContainerRenewLeaseHeaders:$E,ContainerRestoreExceptionHeaders:OE,ContainerRestoreHeaders:zE,ContainerSetAccessPolicyExceptionHeaders:AE,ContainerSetAccessPolicyHeaders:_E,ContainerSetMetadataExceptionHeaders:bE,ContainerSetMetadataHeaders:wE,ContainerSubmitBatchExceptionHeaders:BE,ContainerSubmitBatchHeaders:DE,CorsRule:qk,DelimitedTextConfiguration:oD,FilterBlobItem:Wk,FilterBlobSegment:cv,GeoReplication:Uk,JsonTextConfiguration:aD,KeyInfo:XN,ListBlobsFlatSegmentResponse:ZN,ListBlobsHierarchySegmentResponse:eE,ListContainersSegmentResponse:JN,Logging:Bk,Metrics:jk,PageBlobClearPagesExceptionHeaders:Yw,PageBlobClearPagesHeaders:Xw,PageBlobCopyIncrementalExceptionHeaders:ub,PageBlobCopyIncrementalHeaders:lb,PageBlobCreateExceptionHeaders:Gw,PageBlobCreateHeaders:Vw,PageBlobGetPageRangesDiffExceptionHeaders:ib,PageBlobGetPageRangesDiffHeaders:nb,PageBlobGetPageRangesExceptionHeaders:rb,PageBlobGetPageRangesHeaders:tb,PageBlobResizeExceptionHeaders:ob,PageBlobResizeHeaders:sb,PageBlobUpdateSequenceNumberExceptionHeaders:cb,PageBlobUpdateSequenceNumberHeaders:ab,PageBlobUploadPagesExceptionHeaders:Jw,PageBlobUploadPagesFromURLExceptionHeaders:eb,PageBlobUploadPagesFromURLHeaders:Zw,PageBlobUploadPagesHeaders:Qw,PageList:uv,PageRange:rD,QueryFormat:sD,QueryRequest:nE,QuerySerialization:iD,RetentionPolicy:Lk,ServiceFilterBlobsExceptionHeaders:CE,ServiceFilterBlobsHeaders:yE,ServiceGetAccountInfoExceptionHeaders:fE,ServiceGetAccountInfoHeaders:hE,ServiceGetPropertiesExceptionHeaders:aE,ServiceGetPropertiesHeaders:oE,ServiceGetStatisticsExceptionHeaders:lE,ServiceGetStatisticsHeaders:cE,ServiceGetUserDelegationKeyExceptionHeaders:mE,ServiceGetUserDelegationKeyHeaders:pE,ServiceListContainersSegmentExceptionHeaders:dE,ServiceListContainersSegmentHeaders:uE,ServiceSetPropertiesExceptionHeaders:sE,ServiceSetPropertiesHeaders:iE,ServiceSubmitBatchExceptionHeaders:gE,ServiceSubmitBatchHeaders:vE,SignedIdentifier:Vk,StaticWebsite:Hk,StorageError:I,UserDelegationKey:YN},Symbol.toStringTag,{value:"Module"})),In={parameterPath:["options","contentType"],mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},uD={parameterPath:"blobServiceProperties",mapper:av},_n={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},A={parameterPath:"url",mapper:{serializedName:"url",required:!0,xmlName:"url",type:{name:"String"}},skipEncoding:!0},cd={parameterPath:"restype",mapper:{defaultValue:"service",isConstant:!0,serializedName:"restype",type:{name:"String"}}},An={parameterPath:"comp",mapper:{defaultValue:"properties",isConstant:!0,serializedName:"comp",type:{name:"String"}}},B={parameterPath:["options","timeoutInSeconds"],mapper:{constraints:{InclusiveMinimum:0},serializedName:"timeout",xmlName:"timeout",type:{name:"Number"}}},z={parameterPath:"version",mapper:{defaultValue:"2023-11-03",isConstant:!0,serializedName:"x-ms-version",type:{name:"String"}}},L={parameterPath:["options","requestId"],mapper:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}}},H={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},dD={parameterPath:"comp",mapper:{defaultValue:"stats",isConstant:!0,serializedName:"comp",type:{name:"String"}}},dv={parameterPath:"comp",mapper:{defaultValue:"list",isConstant:!0,serializedName:"comp",type:{name:"String"}}},pv={parameterPath:["options","prefix"],mapper:{serializedName:"prefix",xmlName:"prefix",type:{name:"String"}}},wi={parameterPath:["options","marker"],mapper:{serializedName:"marker",xmlName:"marker",type:{name:"String"}}},bi={parameterPath:["options","maxPageSize"],mapper:{constraints:{InclusiveMinimum:1},serializedName:"maxresults",xmlName:"maxresults",type:{name:"Number"}}},pD={parameterPath:["options","include"],mapper:{serializedName:"include",xmlName:"include",xmlElementName:"ListContainersIncludeType",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["metadata","deleted","system"]}}}},collectionFormat:vr.Csv},mD={parameterPath:"keyInfo",mapper:XN},hD={parameterPath:"comp",mapper:{defaultValue:"userdelegationkey",isConstant:!0,serializedName:"comp",type:{name:"String"}}},mv={parameterPath:"restype",mapper:{defaultValue:"account",isConstant:!0,serializedName:"restype",type:{name:"String"}}},Ab={parameterPath:"body",mapper:{serializedName:"body",required:!0,xmlName:"body",type:{name:"Stream"}}},zb={parameterPath:"comp",mapper:{defaultValue:"batch",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Ht={parameterPath:"contentLength",mapper:{serializedName:"Content-Length",required:!0,xmlName:"Content-Length",type:{name:"Number"}}},Ob={parameterPath:"multipartContentType",mapper:{serializedName:"Content-Type",required:!0,xmlName:"Content-Type",type:{name:"String"}}},Mb={parameterPath:"comp",mapper:{defaultValue:"blobs",isConstant:!0,serializedName:"comp",type:{name:"String"}}},kb={parameterPath:["options","where"],mapper:{serializedName:"where",xmlName:"where",type:{name:"String"}}},tt={parameterPath:"restype",mapper:{defaultValue:"container",isConstant:!0,serializedName:"restype",type:{name:"String"}}},ar={parameterPath:["options","metadata"],mapper:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"}},Db={parameterPath:["options","access"],mapper:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}}},fD={parameterPath:["options","containerEncryptionScope","defaultEncryptionScope"],mapper:{serializedName:"x-ms-default-encryption-scope",xmlName:"x-ms-default-encryption-scope",type:{name:"String"}}},vD={parameterPath:["options","containerEncryptionScope","preventEncryptionScopeOverride"],mapper:{serializedName:"x-ms-deny-encryption-scope-override",xmlName:"x-ms-deny-encryption-scope-override",type:{name:"Boolean"}}},ie={parameterPath:["options","leaseAccessConditions","leaseId"],mapper:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}}},Z={parameterPath:["options","modifiedAccessConditions","ifModifiedSince"],mapper:{serializedName:"If-Modified-Since",xmlName:"If-Modified-Since",type:{name:"DateTimeRfc1123"}}},ee={parameterPath:["options","modifiedAccessConditions","ifUnmodifiedSince"],mapper:{serializedName:"If-Unmodified-Since",xmlName:"If-Unmodified-Since",type:{name:"DateTimeRfc1123"}}},Bb={parameterPath:"comp",mapper:{defaultValue:"metadata",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Lb={parameterPath:"comp",mapper:{defaultValue:"acl",isConstant:!0,serializedName:"comp",type:{name:"String"}}},gD={parameterPath:["options","containerAcl"],mapper:{serializedName:"containerAcl",xmlName:"SignedIdentifiers",xmlIsWrapped:!0,xmlElementName:"SignedIdentifier",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}}},jb={parameterPath:"comp",mapper:{defaultValue:"undelete",isConstant:!0,serializedName:"comp",type:{name:"String"}}},yD={parameterPath:["options","deletedContainerName"],mapper:{serializedName:"x-ms-deleted-container-name",xmlName:"x-ms-deleted-container-name",type:{name:"String"}}},CD={parameterPath:["options","deletedContainerVersion"],mapper:{serializedName:"x-ms-deleted-container-version",xmlName:"x-ms-deleted-container-version",type:{name:"String"}}},SD={parameterPath:"comp",mapper:{defaultValue:"rename",isConstant:!0,serializedName:"comp",type:{name:"String"}}},PD={parameterPath:"sourceContainerName",mapper:{serializedName:"x-ms-source-container-name",required:!0,xmlName:"x-ms-source-container-name",type:{name:"String"}}},RD={parameterPath:["options","sourceLeaseId"],mapper:{serializedName:"x-ms-source-lease-id",xmlName:"x-ms-source-lease-id",type:{name:"String"}}},Nr={parameterPath:"comp",mapper:{defaultValue:"lease",isConstant:!0,serializedName:"comp",type:{name:"String"}}},qb={parameterPath:"action",mapper:{defaultValue:"acquire",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},Hb={parameterPath:["options","duration"],mapper:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Number"}}},Ub={parameterPath:["options","proposedLeaseId"],mapper:{serializedName:"x-ms-proposed-lease-id",xmlName:"x-ms-proposed-lease-id",type:{name:"String"}}},Fb={parameterPath:"action",mapper:{defaultValue:"release",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},Es={parameterPath:"leaseId",mapper:{serializedName:"x-ms-lease-id",required:!0,xmlName:"x-ms-lease-id",type:{name:"String"}}},$b={parameterPath:"action",mapper:{defaultValue:"renew",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},Wb={parameterPath:"action",mapper:{defaultValue:"break",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},Kb={parameterPath:["options","breakPeriod"],mapper:{serializedName:"x-ms-lease-break-period",xmlName:"x-ms-lease-break-period",type:{name:"Number"}}},Vb={parameterPath:"action",mapper:{defaultValue:"change",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},Gb={parameterPath:"proposedLeaseId",mapper:{serializedName:"x-ms-proposed-lease-id",required:!0,xmlName:"x-ms-proposed-lease-id",type:{name:"String"}}},Qb={parameterPath:["options","include"],mapper:{serializedName:"include",xmlName:"include",xmlElementName:"ListBlobsIncludeItem",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["copy","deleted","metadata","snapshots","uncommittedblobs","versions","tags","immutabilitypolicy","legalhold","deletedwithversions"]}}}},collectionFormat:vr.Csv},xD={parameterPath:"delimiter",mapper:{serializedName:"delimiter",required:!0,xmlName:"delimiter",type:{name:"String"}}},Jr={parameterPath:["options","snapshot"],mapper:{serializedName:"snapshot",xmlName:"snapshot",type:{name:"String"}}},ws={parameterPath:["options","versionId"],mapper:{serializedName:"versionid",xmlName:"versionid",type:{name:"String"}}},Gc={parameterPath:["options","range"],mapper:{serializedName:"x-ms-range",xmlName:"x-ms-range",type:{name:"String"}}},ND={parameterPath:["options","rangeGetContentMD5"],mapper:{serializedName:"x-ms-range-get-content-md5",xmlName:"x-ms-range-get-content-md5",type:{name:"Boolean"}}},ED={parameterPath:["options","rangeGetContentCRC64"],mapper:{serializedName:"x-ms-range-get-content-crc64",xmlName:"x-ms-range-get-content-crc64",type:{name:"Boolean"}}},Ue={parameterPath:["options","cpkInfo","encryptionKey"],mapper:{serializedName:"x-ms-encryption-key",xmlName:"x-ms-encryption-key",type:{name:"String"}}},Fe={parameterPath:["options","cpkInfo","encryptionKeySha256"],mapper:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}}},$e={parameterPath:["options","cpkInfo","encryptionAlgorithm"],mapper:{serializedName:"x-ms-encryption-algorithm",xmlName:"x-ms-encryption-algorithm",type:{name:"String"}}},ce={parameterPath:["options","modifiedAccessConditions","ifMatch"],mapper:{serializedName:"If-Match",xmlName:"If-Match",type:{name:"String"}}},le={parameterPath:["options","modifiedAccessConditions","ifNoneMatch"],mapper:{serializedName:"If-None-Match",xmlName:"If-None-Match",type:{name:"String"}}},oe={parameterPath:["options","modifiedAccessConditions","ifTags"],mapper:{serializedName:"x-ms-if-tags",xmlName:"x-ms-if-tags",type:{name:"String"}}},wD={parameterPath:["options","deleteSnapshots"],mapper:{serializedName:"x-ms-delete-snapshots",xmlName:"x-ms-delete-snapshots",type:{name:"Enum",allowedValues:["include","only"]}}},bD={parameterPath:["options","blobDeleteType"],mapper:{serializedName:"deletetype",xmlName:"deletetype",type:{name:"String"}}},TD={parameterPath:"comp",mapper:{defaultValue:"expiry",isConstant:!0,serializedName:"comp",type:{name:"String"}}},ID={parameterPath:"expiryOptions",mapper:{serializedName:"x-ms-expiry-option",required:!0,xmlName:"x-ms-expiry-option",type:{name:"String"}}},_D={parameterPath:["options","expiresOn"],mapper:{serializedName:"x-ms-expiry-time",xmlName:"x-ms-expiry-time",type:{name:"String"}}},bs={parameterPath:["options","blobHttpHeaders","blobCacheControl"],mapper:{serializedName:"x-ms-blob-cache-control",xmlName:"x-ms-blob-cache-control",type:{name:"String"}}},Ts={parameterPath:["options","blobHttpHeaders","blobContentType"],mapper:{serializedName:"x-ms-blob-content-type",xmlName:"x-ms-blob-content-type",type:{name:"String"}}},Is={parameterPath:["options","blobHttpHeaders","blobContentMD5"],mapper:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}}},_s={parameterPath:["options","blobHttpHeaders","blobContentEncoding"],mapper:{serializedName:"x-ms-blob-content-encoding",xmlName:"x-ms-blob-content-encoding",type:{name:"String"}}},As={parameterPath:["options","blobHttpHeaders","blobContentLanguage"],mapper:{serializedName:"x-ms-blob-content-language",xmlName:"x-ms-blob-content-language",type:{name:"String"}}},zs={parameterPath:["options","blobHttpHeaders","blobContentDisposition"],mapper:{serializedName:"x-ms-blob-content-disposition",xmlName:"x-ms-blob-content-disposition",type:{name:"String"}}},Jb={parameterPath:"comp",mapper:{defaultValue:"immutabilityPolicies",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Ti={parameterPath:["options","immutabilityPolicyExpiry"],mapper:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}}},Ii={parameterPath:["options","immutabilityPolicyMode"],mapper:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}}},AD={parameterPath:"comp",mapper:{defaultValue:"legalhold",isConstant:!0,serializedName:"comp",type:{name:"String"}}},zD={parameterPath:"legalHold",mapper:{serializedName:"x-ms-legal-hold",required:!0,xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}},vt={parameterPath:["options","encryptionScope"],mapper:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}}},OD={parameterPath:"comp",mapper:{defaultValue:"snapshot",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Os={parameterPath:["options","tier"],mapper:{serializedName:"x-ms-access-tier",xmlName:"x-ms-access-tier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}}},Xb={parameterPath:["options","rehydratePriority"],mapper:{serializedName:"x-ms-rehydrate-priority",xmlName:"x-ms-rehydrate-priority",type:{name:"Enum",allowedValues:["High","Standard"]}}},Ms={parameterPath:["options","sourceModifiedAccessConditions","sourceIfModifiedSince"],mapper:{serializedName:"x-ms-source-if-modified-since",xmlName:"x-ms-source-if-modified-since",type:{name:"DateTimeRfc1123"}}},ks={parameterPath:["options","sourceModifiedAccessConditions","sourceIfUnmodifiedSince"],mapper:{serializedName:"x-ms-source-if-unmodified-since",xmlName:"x-ms-source-if-unmodified-since",type:{name:"DateTimeRfc1123"}}},Ds={parameterPath:["options","sourceModifiedAccessConditions","sourceIfMatch"],mapper:{serializedName:"x-ms-source-if-match",xmlName:"x-ms-source-if-match",type:{name:"String"}}},Bs={parameterPath:["options","sourceModifiedAccessConditions","sourceIfNoneMatch"],mapper:{serializedName:"x-ms-source-if-none-match",xmlName:"x-ms-source-if-none-match",type:{name:"String"}}},Yb={parameterPath:["options","sourceModifiedAccessConditions","sourceIfTags"],mapper:{serializedName:"x-ms-source-if-tags",xmlName:"x-ms-source-if-tags",type:{name:"String"}}},ld={parameterPath:"copySource",mapper:{serializedName:"x-ms-copy-source",required:!0,xmlName:"x-ms-copy-source",type:{name:"String"}}},_i={parameterPath:["options","blobTagsString"],mapper:{serializedName:"x-ms-tags",xmlName:"x-ms-tags",type:{name:"String"}}},MD={parameterPath:["options","sealBlob"],mapper:{serializedName:"x-ms-seal-blob",xmlName:"x-ms-seal-blob",type:{name:"Boolean"}}},Ls={parameterPath:["options","legalHold"],mapper:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}},kD={parameterPath:"xMsRequiresSync",mapper:{defaultValue:"true",isConstant:!0,serializedName:"x-ms-requires-sync",type:{name:"String"}}},Qc={parameterPath:["options","sourceContentMD5"],mapper:{serializedName:"x-ms-source-content-md5",xmlName:"x-ms-source-content-md5",type:{name:"ByteArray"}}},Jc={parameterPath:["options","copySourceAuthorization"],mapper:{serializedName:"x-ms-copy-source-authorization",xmlName:"x-ms-copy-source-authorization",type:{name:"String"}}},Zb={parameterPath:["options","copySourceTags"],mapper:{serializedName:"x-ms-copy-source-tag-option",xmlName:"x-ms-copy-source-tag-option",type:{name:"Enum",allowedValues:["REPLACE","COPY"]}}},DD={parameterPath:"comp",mapper:{defaultValue:"copy",isConstant:!0,serializedName:"comp",type:{name:"String"}}},BD={parameterPath:"copyActionAbortConstant",mapper:{defaultValue:"abort",isConstant:!0,serializedName:"x-ms-copy-action",type:{name:"String"}}},LD={parameterPath:"copyId",mapper:{serializedName:"copyid",required:!0,xmlName:"copyid",type:{name:"String"}}},jD={parameterPath:"comp",mapper:{defaultValue:"tier",isConstant:!0,serializedName:"comp",type:{name:"String"}}},qD={parameterPath:"tier",mapper:{serializedName:"x-ms-access-tier",required:!0,xmlName:"x-ms-access-tier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}}},HD={parameterPath:["options","queryRequest"],mapper:nE},UD={parameterPath:"comp",mapper:{defaultValue:"query",isConstant:!0,serializedName:"comp",type:{name:"String"}}},e0={parameterPath:"comp",mapper:{defaultValue:"tags",isConstant:!0,serializedName:"comp",type:{name:"String"}}},FD={parameterPath:["options","tags"],mapper:lv},zn={parameterPath:["options","transactionalContentMD5"],mapper:{serializedName:"Content-MD5",xmlName:"Content-MD5",type:{name:"ByteArray"}}},js={parameterPath:["options","transactionalContentCrc64"],mapper:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}},$D={parameterPath:"blobType",mapper:{defaultValue:"PageBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},t0={parameterPath:"blobContentLength",mapper:{serializedName:"x-ms-blob-content-length",required:!0,xmlName:"x-ms-blob-content-length",type:{name:"Number"}}},r0={parameterPath:["options","blobSequenceNumber"],mapper:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}}},ud={parameterPath:["options","contentType"],mapper:{defaultValue:"application/octet-stream",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},dd={parameterPath:"body",mapper:{serializedName:"body",required:!0,xmlName:"body",type:{name:"Stream"}}},pd={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},hv={parameterPath:"comp",mapper:{defaultValue:"page",isConstant:!0,serializedName:"comp",type:{name:"String"}}},n0={parameterPath:"pageWrite",mapper:{defaultValue:"update",isConstant:!0,serializedName:"x-ms-page-write",type:{name:"String"}}},fv={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThanOrEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-le",xmlName:"x-ms-if-sequence-number-le",type:{name:"Number"}}},vv={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThan"],mapper:{serializedName:"x-ms-if-sequence-number-lt",xmlName:"x-ms-if-sequence-number-lt",type:{name:"Number"}}},gv={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-eq",xmlName:"x-ms-if-sequence-number-eq",type:{name:"Number"}}},WD={parameterPath:"pageWrite",mapper:{defaultValue:"clear",isConstant:!0,serializedName:"x-ms-page-write",type:{name:"String"}}},yv={parameterPath:"sourceUrl",mapper:{serializedName:"x-ms-copy-source",required:!0,xmlName:"x-ms-copy-source",type:{name:"String"}}},KD={parameterPath:"sourceRange",mapper:{serializedName:"x-ms-source-range",required:!0,xmlName:"x-ms-source-range",type:{name:"String"}}},Cv={parameterPath:["options","sourceContentCrc64"],mapper:{serializedName:"x-ms-source-content-crc64",xmlName:"x-ms-source-content-crc64",type:{name:"ByteArray"}}},VD={parameterPath:"range",mapper:{serializedName:"x-ms-range",required:!0,xmlName:"x-ms-range",type:{name:"String"}}},i0={parameterPath:"comp",mapper:{defaultValue:"pagelist",isConstant:!0,serializedName:"comp",type:{name:"String"}}},GD={parameterPath:["options","prevsnapshot"],mapper:{serializedName:"prevsnapshot",xmlName:"prevsnapshot",type:{name:"String"}}},QD={parameterPath:["options","prevSnapshotUrl"],mapper:{serializedName:"x-ms-previous-snapshot-url",xmlName:"x-ms-previous-snapshot-url",type:{name:"String"}}},JD={parameterPath:"sequenceNumberAction",mapper:{serializedName:"x-ms-sequence-number-action",required:!0,xmlName:"x-ms-sequence-number-action",type:{name:"Enum",allowedValues:["max","update","increment"]}}},XD={parameterPath:"comp",mapper:{defaultValue:"incrementalcopy",isConstant:!0,serializedName:"comp",type:{name:"String"}}},YD={parameterPath:"blobType",mapper:{defaultValue:"AppendBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},s0={parameterPath:"comp",mapper:{defaultValue:"appendblock",isConstant:!0,serializedName:"comp",type:{name:"String"}}},o0={parameterPath:["options","appendPositionAccessConditions","maxSize"],mapper:{serializedName:"x-ms-blob-condition-maxsize",xmlName:"x-ms-blob-condition-maxsize",type:{name:"Number"}}},Sv={parameterPath:["options","appendPositionAccessConditions","appendPosition"],mapper:{serializedName:"x-ms-blob-condition-appendpos",xmlName:"x-ms-blob-condition-appendpos",type:{name:"Number"}}},a0={parameterPath:["options","sourceRange"],mapper:{serializedName:"x-ms-source-range",xmlName:"x-ms-source-range",type:{name:"String"}}},ZD={parameterPath:"comp",mapper:{defaultValue:"seal",isConstant:!0,serializedName:"comp",type:{name:"String"}}},c0={parameterPath:"blobType",mapper:{defaultValue:"BlockBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},eB={parameterPath:["options","copySourceBlobProperties"],mapper:{serializedName:"x-ms-copy-source-blob-properties",xmlName:"x-ms-copy-source-blob-properties",type:{name:"Boolean"}}},l0={parameterPath:"comp",mapper:{defaultValue:"block",isConstant:!0,serializedName:"comp",type:{name:"String"}}},u0={parameterPath:"blockId",mapper:{serializedName:"blockid",required:!0,xmlName:"blockid",type:{name:"String"}}},tB={parameterPath:"blocks",mapper:tE},d0={parameterPath:"comp",mapper:{defaultValue:"blocklist",isConstant:!0,serializedName:"comp",type:{name:"String"}}},rB={parameterPath:"listType",mapper:{defaultValue:"committed",serializedName:"blocklisttype",required:!0,xmlName:"blocklisttype",type:{name:"Enum",allowedValues:["committed","uncommitted","all"]}}};class p0{constructor(e){this.client=e}setProperties(e,r){const n={blobServiceProperties:e,options:_(r||{})};return this.client.sendOperationRequest(n,nB)}getProperties(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,iB)}getStatistics(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,sB)}listContainersSegment(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,oB)}getUserDelegationKey(e,r){const n={keyInfo:e,options:_(r||{})};return this.client.sendOperationRequest(n,aB)}getAccountInfo(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,cB)}submitBatch(e,r,n,i){const s={contentLength:e,multipartContentType:r,body:n,options:_(i||{})};return this.client.sendOperationRequest(s,lB)}filterBlobs(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,uB)}}const On=new xr(Qr,!0),nB={path:"/",httpMethod:"PUT",responses:{202:{headersMapper:iE},default:{bodyMapper:I,headersMapper:sE}},requestBody:uD,queryParameters:[cd,An,B],urlParameters:[A],headerParameters:[In,_n,z,L],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:On},iB={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:av,headersMapper:oE},default:{bodyMapper:I,headersMapper:aE}},queryParameters:[cd,An,B],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:On},sB={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:QN,headersMapper:cE},default:{bodyMapper:I,headersMapper:lE}},queryParameters:[cd,B,dD],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:On},oB={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:JN,headersMapper:uE},default:{bodyMapper:I,headersMapper:dE}},queryParameters:[B,dv,pv,wi,bi,pD],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:On},aB={path:"/",httpMethod:"POST",responses:{200:{bodyMapper:YN,headersMapper:pE},default:{bodyMapper:I,headersMapper:mE}},requestBody:mD,queryParameters:[cd,B,hD],urlParameters:[A],headerParameters:[In,_n,z,L],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:On},cB={path:"/",httpMethod:"GET",responses:{200:{headersMapper:hE},default:{bodyMapper:I,headersMapper:fE}},queryParameters:[An,mv],urlParameters:[A],headerParameters:[z,H],isXML:!0,serializer:On},lB={path:"/",httpMethod:"POST",responses:{202:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:vE},default:{bodyMapper:I,headersMapper:gE}},requestBody:Ab,queryParameters:[B,zb],urlParameters:[A],headerParameters:[In,_n,z,L,Ht,Ob],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:On},uB={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:cv,headersMapper:yE},default:{bodyMapper:I,headersMapper:CE}},queryParameters:[B,wi,bi,Mb,kb],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:On};class kc{constructor(e){this.client=e}create(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,dB)}getProperties(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,pB)}delete(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,mB)}setMetadata(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,hB)}getAccessPolicy(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,fB)}setAccessPolicy(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,vB)}restore(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,gB)}rename(e,r){const n={sourceContainerName:e,options:_(r||{})};return this.client.sendOperationRequest(n,yB)}submitBatch(e,r,n,i){const s={contentLength:e,multipartContentType:r,body:n,options:_(i||{})};return this.client.sendOperationRequest(s,CB)}filterBlobs(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,SB)}acquireLease(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,PB)}releaseLease(e,r){const n={leaseId:e,options:_(r||{})};return this.client.sendOperationRequest(n,RB)}renewLease(e,r){const n={leaseId:e,options:_(r||{})};return this.client.sendOperationRequest(n,xB)}breakLease(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,NB)}changeLease(e,r,n){const i={leaseId:e,proposedLeaseId:r,options:_(n||{})};return this.client.sendOperationRequest(i,EB)}listBlobFlatSegment(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,wB)}listBlobHierarchySegment(e,r){const n={delimiter:e,options:_(r||{})};return this.client.sendOperationRequest(n,bB)}getAccountInfo(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,TB)}}const We=new xr(Qr,!0),dB={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:SE},default:{bodyMapper:I,headersMapper:PE}},queryParameters:[B,tt],urlParameters:[A],headerParameters:[z,L,H,ar,Db,fD,vD],isXML:!0,serializer:We},pB={path:"/{containerName}",httpMethod:"GET",responses:{200:{headersMapper:RE},default:{bodyMapper:I,headersMapper:xE}},queryParameters:[B,tt],urlParameters:[A],headerParameters:[z,L,H,ie],isXML:!0,serializer:We},mB={path:"/{containerName}",httpMethod:"DELETE",responses:{202:{headersMapper:NE},default:{bodyMapper:I,headersMapper:EE}},queryParameters:[B,tt],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee],isXML:!0,serializer:We},hB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:wE},default:{bodyMapper:I,headersMapper:bE}},queryParameters:[B,tt,Bb],urlParameters:[A],headerParameters:[z,L,H,ar,ie,Z],isXML:!0,serializer:We},fB={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}},serializedName:"SignedIdentifiers",xmlName:"SignedIdentifiers",xmlIsWrapped:!0,xmlElementName:"SignedIdentifier"},headersMapper:TE},default:{bodyMapper:I,headersMapper:IE}},queryParameters:[B,tt,Lb],urlParameters:[A],headerParameters:[z,L,H,ie],isXML:!0,serializer:We},vB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:_E},default:{bodyMapper:I,headersMapper:AE}},requestBody:gD,queryParameters:[B,tt,Lb],urlParameters:[A],headerParameters:[In,_n,z,L,Db,ie,Z,ee],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:We},gB={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:zE},default:{bodyMapper:I,headersMapper:OE}},queryParameters:[B,tt,jb],urlParameters:[A],headerParameters:[z,L,H,yD,CD],isXML:!0,serializer:We},yB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:ME},default:{bodyMapper:I,headersMapper:kE}},queryParameters:[B,tt,SD],urlParameters:[A],headerParameters:[z,L,H,PD,RD],isXML:!0,serializer:We},CB={path:"/{containerName}",httpMethod:"POST",responses:{202:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:DE},default:{bodyMapper:I,headersMapper:BE}},requestBody:Ab,queryParameters:[B,zb,tt],urlParameters:[A],headerParameters:[In,_n,z,L,Ht,Ob],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:We},SB={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:cv,headersMapper:LE},default:{bodyMapper:I,headersMapper:jE}},queryParameters:[B,wi,bi,Mb,kb,tt],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:We},PB={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:qE},default:{bodyMapper:I,headersMapper:HE}},queryParameters:[B,tt,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,qb,Hb,Ub],isXML:!0,serializer:We},RB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:UE},default:{bodyMapper:I,headersMapper:FE}},queryParameters:[B,tt,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Fb,Es],isXML:!0,serializer:We},xB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:$E},default:{bodyMapper:I,headersMapper:WE}},queryParameters:[B,tt,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Es,$b],isXML:!0,serializer:We},NB={path:"/{containerName}",httpMethod:"PUT",responses:{202:{headersMapper:KE},default:{bodyMapper:I,headersMapper:VE}},queryParameters:[B,tt,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Wb,Kb],isXML:!0,serializer:We},EB={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:GE},default:{bodyMapper:I,headersMapper:QE}},queryParameters:[B,tt,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Es,Vb,Gb],isXML:!0,serializer:We},wB={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:ZN,headersMapper:JE},default:{bodyMapper:I,headersMapper:XE}},queryParameters:[B,dv,pv,wi,bi,tt,Qb],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:We},bB={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:eE,headersMapper:YE},default:{bodyMapper:I,headersMapper:ZE}},queryParameters:[B,dv,pv,wi,bi,tt,Qb,xD],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:We},TB={path:"/{containerName}",httpMethod:"GET",responses:{200:{headersMapper:ew},default:{bodyMapper:I,headersMapper:tw}},queryParameters:[An,mv],urlParameters:[A],headerParameters:[z,H],isXML:!0,serializer:We};let Pv=class{constructor(e){this.client=e}download(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,IB)}getProperties(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,_B)}delete(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,AB)}undelete(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,zB)}setExpiry(e,r){const n={expiryOptions:e,options:_(r||{})};return this.client.sendOperationRequest(n,OB)}setHttpHeaders(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,MB)}setImmutabilityPolicy(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,kB)}deleteImmutabilityPolicy(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,DB)}setLegalHold(e,r){const n={legalHold:e,options:_(r||{})};return this.client.sendOperationRequest(n,BB)}setMetadata(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,LB)}acquireLease(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,jB)}releaseLease(e,r){const n={leaseId:e,options:_(r||{})};return this.client.sendOperationRequest(n,qB)}renewLease(e,r){const n={leaseId:e,options:_(r||{})};return this.client.sendOperationRequest(n,HB)}changeLease(e,r,n){const i={leaseId:e,proposedLeaseId:r,options:_(n||{})};return this.client.sendOperationRequest(i,UB)}breakLease(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,FB)}createSnapshot(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,$B)}startCopyFromURL(e,r){const n={copySource:e,options:_(r||{})};return this.client.sendOperationRequest(n,WB)}copyFromURL(e,r){const n={copySource:e,options:_(r||{})};return this.client.sendOperationRequest(n,KB)}abortCopyFromURL(e,r){const n={copyId:e,options:_(r||{})};return this.client.sendOperationRequest(n,VB)}setTier(e,r){const n={tier:e,options:_(r||{})};return this.client.sendOperationRequest(n,GB)}getAccountInfo(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,QB)}query(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,JB)}getTags(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,XB)}setTags(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,YB)}};const Ce=new xr(Qr,!0),IB={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:Uh},206:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:Uh},default:{bodyMapper:I,headersMapper:rw}},queryParameters:[B,Jr,ws],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,Gc,ND,ED,Ue,Fe,$e,ce,le,oe],isXML:!0,serializer:Ce},_B={path:"/{containerName}/{blob}",httpMethod:"HEAD",responses:{200:{headersMapper:nw},default:{bodyMapper:I,headersMapper:iw}},queryParameters:[B,Jr,ws],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,Ue,Fe,$e,ce,le,oe],isXML:!0,serializer:Ce},AB={path:"/{containerName}/{blob}",httpMethod:"DELETE",responses:{202:{headersMapper:sw},default:{bodyMapper:I,headersMapper:ow}},queryParameters:[B,Jr,ws,bD],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,ce,le,oe,wD],isXML:!0,serializer:Ce},zB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:aw},default:{bodyMapper:I,headersMapper:cw}},queryParameters:[B,jb],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:Ce},OB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:lw},default:{bodyMapper:I,headersMapper:uw}},queryParameters:[B,TD],urlParameters:[A],headerParameters:[z,L,H,ID,_D],isXML:!0,serializer:Ce},MB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:dw},default:{bodyMapper:I,headersMapper:pw}},queryParameters:[An,B],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,ce,le,oe,bs,Ts,Is,_s,As,zs],isXML:!0,serializer:Ce},kB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:mw},default:{bodyMapper:I,headersMapper:hw}},queryParameters:[B,Jb],urlParameters:[A],headerParameters:[z,L,H,ee,Ti,Ii],isXML:!0,serializer:Ce},DB={path:"/{containerName}/{blob}",httpMethod:"DELETE",responses:{200:{headersMapper:fw},default:{bodyMapper:I,headersMapper:vw}},queryParameters:[B,Jb],urlParameters:[A],headerParameters:[z,L,H],isXML:!0,serializer:Ce},BB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:gw},default:{bodyMapper:I,headersMapper:yw}},queryParameters:[B,AD],urlParameters:[A],headerParameters:[z,L,H,zD],isXML:!0,serializer:Ce},LB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:Cw},default:{bodyMapper:I,headersMapper:Sw}},queryParameters:[B,Bb],urlParameters:[A],headerParameters:[z,L,H,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt],isXML:!0,serializer:Ce},jB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Pw},default:{bodyMapper:I,headersMapper:Rw}},queryParameters:[B,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,qb,Hb,Ub,ce,le,oe],isXML:!0,serializer:Ce},qB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:xw},default:{bodyMapper:I,headersMapper:Nw}},queryParameters:[B,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Fb,Es,ce,le,oe],isXML:!0,serializer:Ce},HB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:Ew},default:{bodyMapper:I,headersMapper:ww}},queryParameters:[B,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Es,$b,ce,le,oe],isXML:!0,serializer:Ce},UB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:bw},default:{bodyMapper:I,headersMapper:Tw}},queryParameters:[B,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Es,Vb,Gb,ce,le,oe],isXML:!0,serializer:Ce},FB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:Iw},default:{bodyMapper:I,headersMapper:_w}},queryParameters:[B,Nr],urlParameters:[A],headerParameters:[z,L,H,Z,ee,Wb,Kb,ce,le,oe],isXML:!0,serializer:Ce},$B={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Aw},default:{bodyMapper:I,headersMapper:zw}},queryParameters:[B,OD],urlParameters:[A],headerParameters:[z,L,H,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt],isXML:!0,serializer:Ce},WB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:Ow},default:{bodyMapper:I,headersMapper:Mw}},queryParameters:[B],urlParameters:[A],headerParameters:[z,L,H,ar,ie,Z,ee,ce,le,oe,Ti,Ii,Os,Xb,Ms,ks,Ds,Bs,Yb,ld,_i,MD,Ls],isXML:!0,serializer:Ce},KB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:kw},default:{bodyMapper:I,headersMapper:Dw}},queryParameters:[B],urlParameters:[A],headerParameters:[z,L,H,ar,ie,Z,ee,ce,le,oe,Ti,Ii,vt,Os,Ms,ks,Ds,Bs,ld,_i,Ls,kD,Qc,Jc,Zb],isXML:!0,serializer:Ce},VB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{204:{headersMapper:Bw},default:{bodyMapper:I,headersMapper:Lw}},queryParameters:[B,DD,LD],urlParameters:[A],headerParameters:[z,L,H,ie,BD],isXML:!0,serializer:Ce},GB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:Fh},202:{headersMapper:Fh},default:{bodyMapper:I,headersMapper:jw}},queryParameters:[B,Jr,ws,jD],urlParameters:[A],headerParameters:[z,L,H,ie,oe,Xb,qD],isXML:!0,serializer:Ce},QB={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{headersMapper:qw},default:{bodyMapper:I,headersMapper:Hw}},queryParameters:[An,mv],urlParameters:[A],headerParameters:[z,H],isXML:!0,serializer:Ce},JB={path:"/{containerName}/{blob}",httpMethod:"POST",responses:{200:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:$h},206:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:$h},default:{bodyMapper:I,headersMapper:Uw}},requestBody:HD,queryParameters:[B,Jr,UD],urlParameters:[A],headerParameters:[In,_n,z,L,ie,Z,ee,Ue,Fe,$e,ce,le,oe],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Ce},XB={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:lv,headersMapper:Fw},default:{bodyMapper:I,headersMapper:$w}},queryParameters:[B,Jr,ws,e0],urlParameters:[A],headerParameters:[z,L,H,ie,oe],isXML:!0,serializer:Ce},YB={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{204:{headersMapper:Ww},default:{bodyMapper:I,headersMapper:Kw}},requestBody:FD,queryParameters:[B,ws,e0],urlParameters:[A],headerParameters:[In,_n,z,L,ie,oe,zn,js],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Ce};class ZB{constructor(e){this.client=e}create(e,r,n){const i={contentLength:e,blobContentLength:r,options:_(n||{})};return this.client.sendOperationRequest(i,tL)}uploadPages(e,r,n){const i={contentLength:e,body:r,options:_(n||{})};return this.client.sendOperationRequest(i,rL)}clearPages(e,r){const n={contentLength:e,options:_(r||{})};return this.client.sendOperationRequest(n,nL)}uploadPagesFromURL(e,r,n,i,s){const o={sourceUrl:e,sourceRange:r,contentLength:n,range:i,options:_(s||{})};return this.client.sendOperationRequest(o,iL)}getPageRanges(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,sL)}getPageRangesDiff(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,oL)}resize(e,r){const n={blobContentLength:e,options:_(r||{})};return this.client.sendOperationRequest(n,aL)}updateSequenceNumber(e,r){const n={sequenceNumberAction:e,options:_(r||{})};return this.client.sendOperationRequest(n,cL)}copyIncremental(e,r){const n={copySource:e,options:_(r||{})};return this.client.sendOperationRequest(n,lL)}}const Mn=new xr(Qr,!0),eL=new xr(Qr,!1),tL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Vw},default:{bodyMapper:I,headersMapper:Gw}},queryParameters:[B],urlParameters:[A],headerParameters:[z,L,H,Ht,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,bs,Ts,Is,_s,As,zs,Ti,Ii,vt,Os,_i,Ls,$D,t0,r0],isXML:!0,serializer:Mn},rL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Qw},default:{bodyMapper:I,headersMapper:Jw}},requestBody:dd,queryParameters:[B,hv],urlParameters:[A],headerParameters:[z,L,Ht,ie,Z,ee,Gc,Ue,Fe,$e,ce,le,oe,vt,zn,js,ud,pd,n0,fv,vv,gv],mediaType:"binary",serializer:eL},nL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Xw},default:{bodyMapper:I,headersMapper:Yw}},queryParameters:[B,hv],urlParameters:[A],headerParameters:[z,L,H,Ht,ie,Z,ee,Gc,Ue,Fe,$e,ce,le,oe,vt,fv,vv,gv,WD],isXML:!0,serializer:Mn},iL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Zw},default:{bodyMapper:I,headersMapper:eb}},queryParameters:[B,hv],urlParameters:[A],headerParameters:[z,L,H,Ht,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt,Ms,ks,Ds,Bs,Qc,Jc,n0,fv,vv,gv,yv,KD,Cv,VD],isXML:!0,serializer:Mn},sL={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:uv,headersMapper:tb},default:{bodyMapper:I,headersMapper:rb}},queryParameters:[B,wi,bi,Jr,i0],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,Gc,ce,le,oe],isXML:!0,serializer:Mn},oL={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:uv,headersMapper:nb},default:{bodyMapper:I,headersMapper:ib}},queryParameters:[B,wi,bi,Jr,i0,GD],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,Gc,ce,le,oe,QD],isXML:!0,serializer:Mn},aL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:sb},default:{bodyMapper:I,headersMapper:ob}},queryParameters:[An,B],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt,t0],isXML:!0,serializer:Mn},cL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:ab},default:{bodyMapper:I,headersMapper:cb}},queryParameters:[An,B],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,ce,le,oe,r0,JD],isXML:!0,serializer:Mn},lL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:lb},default:{bodyMapper:I,headersMapper:ub}},queryParameters:[B,XD],urlParameters:[A],headerParameters:[z,L,H,Z,ee,ce,le,oe,ld],isXML:!0,serializer:Mn};class uL{constructor(e){this.client=e}create(e,r){const n={contentLength:e,options:_(r||{})};return this.client.sendOperationRequest(n,pL)}appendBlock(e,r,n){const i={contentLength:e,body:r,options:_(n||{})};return this.client.sendOperationRequest(i,mL)}appendBlockFromUrl(e,r,n){const i={sourceUrl:e,contentLength:r,options:_(n||{})};return this.client.sendOperationRequest(i,hL)}seal(e){const r={options:_(e||{})};return this.client.sendOperationRequest(r,fL)}}const Rv=new xr(Qr,!0),dL=new xr(Qr,!1),pL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:db},default:{bodyMapper:I,headersMapper:pb}},queryParameters:[B],urlParameters:[A],headerParameters:[z,L,H,Ht,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,bs,Ts,Is,_s,As,zs,Ti,Ii,vt,_i,Ls,YD],isXML:!0,serializer:Rv},mL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:mb},default:{bodyMapper:I,headersMapper:hb}},requestBody:dd,queryParameters:[B,s0],urlParameters:[A],headerParameters:[z,L,Ht,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt,zn,js,ud,pd,o0,Sv],mediaType:"binary",serializer:dL},hL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:fb},default:{bodyMapper:I,headersMapper:vb}},queryParameters:[B,s0],urlParameters:[A],headerParameters:[z,L,H,Ht,ie,Z,ee,Ue,Fe,$e,ce,le,oe,vt,Ms,ks,Ds,Bs,Qc,Jc,zn,yv,Cv,o0,Sv,a0],isXML:!0,serializer:Rv},fL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:gb},default:{bodyMapper:I,headersMapper:yb}},queryParameters:[B,ZD],urlParameters:[A],headerParameters:[z,L,H,ie,Z,ee,ce,le,Sv],isXML:!0,serializer:Rv};class vL{constructor(e){this.client=e}upload(e,r,n){const i={contentLength:e,body:r,options:_(n||{})};return this.client.sendOperationRequest(i,gL)}putBlobFromUrl(e,r,n){const i={contentLength:e,copySource:r,options:_(n||{})};return this.client.sendOperationRequest(i,yL)}stageBlock(e,r,n,i){const s={blockId:e,contentLength:r,body:n,options:_(i||{})};return this.client.sendOperationRequest(s,CL)}stageBlockFromURL(e,r,n,i){const s={blockId:e,contentLength:r,sourceUrl:n,options:_(i||{})};return this.client.sendOperationRequest(s,SL)}commitBlockList(e,r){const n={blocks:e,options:_(r||{})};return this.client.sendOperationRequest(n,PL)}getBlockList(e,r){const n={listType:e,options:_(r||{})};return this.client.sendOperationRequest(n,RL)}}const md=new xr(Qr,!0),m0=new xr(Qr,!1),gL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Cb},default:{bodyMapper:I,headersMapper:Sb}},requestBody:dd,queryParameters:[B],urlParameters:[A],headerParameters:[z,L,Ht,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,bs,Ts,Is,_s,As,zs,Ti,Ii,vt,Os,_i,Ls,zn,js,ud,pd,c0],mediaType:"binary",serializer:m0},yL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Pb},default:{bodyMapper:I,headersMapper:Rb}},queryParameters:[B],urlParameters:[A],headerParameters:[z,L,H,Ht,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,bs,Ts,Is,_s,As,zs,vt,Os,Ms,ks,Ds,Bs,Yb,ld,_i,Qc,Jc,Zb,zn,c0,eB],isXML:!0,serializer:md},CL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:xb},default:{bodyMapper:I,headersMapper:Nb}},requestBody:dd,queryParameters:[B,l0,u0],urlParameters:[A],headerParameters:[z,L,Ht,ie,Ue,Fe,$e,vt,zn,js,ud,pd],mediaType:"binary",serializer:m0},SL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:Eb},default:{bodyMapper:I,headersMapper:wb}},queryParameters:[B,l0,u0],urlParameters:[A],headerParameters:[z,L,H,Ht,ie,Ue,Fe,$e,vt,Ms,ks,Ds,Bs,Qc,Jc,yv,Cv,a0],isXML:!0,serializer:md},PL={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:bb},default:{bodyMapper:I,headersMapper:Tb}},requestBody:tB,queryParameters:[B,d0],urlParameters:[A],headerParameters:[In,_n,z,L,ar,ie,Z,ee,Ue,Fe,$e,ce,le,oe,bs,Ts,Is,_s,As,zs,Ti,Ii,vt,Os,_i,Ls,zn,js],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:md},RL={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:rE,headersMapper:Ib},default:{bodyMapper:I,headersMapper:_b}},queryParameters:[B,Jr,d0,rB],urlParameters:[A],headerParameters:[z,L,H,ie,oe],isXML:!0,serializer:md},fr=_N("storage-blob"),xL="12.17.0",xv="2023-11-03",dm=256*1024*1024,pm=4e3*1024*1024,Il=5e4,NL=8*1024*1024,Wh=4*1024*1024,EL=5,h0="https://storage.azure.com/.default",Br={Parameters:{FORCE_BROWSER_NO_CACHE:"_",SIGNATURE:"sig",SNAPSHOT:"snapshot",VERSIONID:"versionid",TIMEOUT:"timeout"}},wL={HTTP_ACCEPTED:202,HTTP_CONFLICT:409,HTTP_NOT_FOUND:404,HTTP_PRECON_FAILED:412,HTTP_RANGE_NOT_SATISFIABLE:416},Rr={AUTHORIZATION:"Authorization",AUTHORIZATION_SCHEME:"Bearer",CONTENT_ENCODING:"Content-Encoding",CONTENT_ID:"Content-ID",CONTENT_LANGUAGE:"Content-Language",CONTENT_LENGTH:"Content-Length",CONTENT_MD5:"Content-Md5",CONTENT_TRANSFER_ENCODING:"Content-Transfer-Encoding",CONTENT_TYPE:"Content-Type",COOKIE:"Cookie",DATE:"date",IF_MATCH:"if-match",IF_MODIFIED_SINCE:"if-modified-since",IF_NONE_MATCH:"if-none-match",IF_UNMODIFIED_SINCE:"if-unmodified-since",PREFIX_FOR_STORAGE:"x-ms-",RANGE:"Range",USER_AGENT:"User-Agent",X_MS_CLIENT_REQUEST_ID:"x-ms-client-request-id",X_MS_COPY_SOURCE:"x-ms-copy-source",X_MS_DATE:"x-ms-date",X_MS_ERROR_CODE:"x-ms-error-code",X_MS_VERSION:"x-ms-version"},mr="",f0="*",Gy=256,zr=`\r
`,v0="HTTP/1.1",bL="AES256",TL="DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1;",IL=["Access-Control-Allow-Origin","Cache-Control","Content-Length","Content-Type","Date","Request-Id","traceparent","Transfer-Encoding","User-Agent","x-ms-client-request-id","x-ms-date","x-ms-error-code","x-ms-request-id","x-ms-return-client-request-id","x-ms-version","Accept-Ranges","Content-Disposition","Content-Encoding","Content-Language","Content-MD5","Content-Range","ETag","Last-Modified","Server","Vary","x-ms-content-crc64","x-ms-copy-action","x-ms-copy-completion-time","x-ms-copy-id","x-ms-copy-progress","x-ms-copy-status","x-ms-has-immutability-policy","x-ms-has-legal-hold","x-ms-lease-state","x-ms-lease-status","x-ms-range","x-ms-request-server-encrypted","x-ms-server-encrypted","x-ms-snapshot","x-ms-source-range","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","x-ms-access-tier","x-ms-access-tier-change-time","x-ms-access-tier-inferred","x-ms-account-kind","x-ms-archive-status","x-ms-blob-append-offset","x-ms-blob-cache-control","x-ms-blob-committed-block-count","x-ms-blob-condition-appendpos","x-ms-blob-condition-maxsize","x-ms-blob-content-disposition","x-ms-blob-content-encoding","x-ms-blob-content-language","x-ms-blob-content-length","x-ms-blob-content-md5","x-ms-blob-content-type","x-ms-blob-public-access","x-ms-blob-sequence-number","x-ms-blob-type","x-ms-copy-destination-snapshot","x-ms-creation-time","x-ms-default-encryption-scope","x-ms-delete-snapshots","x-ms-delete-type-permanent","x-ms-deny-encryption-scope-override","x-ms-encryption-algorithm","x-ms-if-sequence-number-eq","x-ms-if-sequence-number-le","x-ms-if-sequence-number-lt","x-ms-incremental-copy","x-ms-lease-action","x-ms-lease-break-period","x-ms-lease-duration","x-ms-lease-id","x-ms-lease-time","x-ms-page-write","x-ms-proposed-lease-id","x-ms-range-get-content-md5","x-ms-rehydrate-priority","x-ms-sequence-number-action","x-ms-sku-name","x-ms-source-content-md5","x-ms-source-if-match","x-ms-source-if-modified-since","x-ms-source-if-none-match","x-ms-source-if-unmodified-since","x-ms-tag-count","x-ms-encryption-key-sha256","x-ms-if-tags","x-ms-source-if-tags"],_L=["comp","maxresults","rscc","rscd","rsce","rscl","rsct","se","si","sip","sp","spr","sr","srt","ss","st","sv","include","marker","prefix","copyid","restype","blockid","blocklisttype","delimiter","prevsnapshot","ske","skoid","sks","skt","sktid","skv","snapshot"],AL="BlobUsesCustomerSpecifiedEncryption",zL="BlobDoesNotUseCustomerSpecifiedEncryption",OL=["10000","10001","10002","10003","10004","10100","10101","10102","10103","10104","11000","11001","11002","11003","11004","11100","11101","11102","11103","11104"];function ML(t){const e=He.parse(t);let r=e.getPath();return r=r||"/",r=DL(r),e.setPath(r),e.toString()}function kL(t){let e="";if(t.search("DevelopmentStorageProxyUri=")!==-1){const r=t.split(";");for(const n of r)n.trim().startsWith("DevelopmentStorageProxyUri=")&&(e=n.trim().match("DevelopmentStorageProxyUri=(.*)")[1])}return e}function Ln(t,e){const r=t.split(";");for(const n of r)if(n.trim().startsWith(e))return n.trim().match(e+"=(.*)")[1];return""}function qs(t){let e="";t.startsWith("UseDevelopmentStorage=true")&&(e=kL(t),t=TL);let r=Ln(t,"BlobEndpoint");if(r=r.endsWith("/")?r.slice(0,-1):r,t.search("DefaultEndpointsProtocol=")!==-1&&t.search("AccountKey=")!==-1){let n="",i="",s=Buffer.from("accountKey","base64"),o="";if(i=Ln(t,"AccountName"),s=Buffer.from(Ln(t,"AccountKey"),"base64"),!r){n=Ln(t,"DefaultEndpointsProtocol");const a=n.toLowerCase();if(a!=="https"&&a!=="http")throw new Error("Invalid DefaultEndpointsProtocol in the provided Connection String. Expecting 'https' or 'http'");if(o=Ln(t,"EndpointSuffix"),!o)throw new Error("Invalid EndpointSuffix in the provided Connection String");r=`${n}://${i}.blob.${o}`}if(i){if(s.length===0)throw new Error("Invalid AccountKey in the provided Connection String")}else throw new Error("Invalid AccountName in the provided Connection String");return{kind:"AccountConnString",url:r,accountName:i,accountKey:s,proxyUri:e}}else{const n=Ln(t,"SharedAccessSignature");let i=Ln(t,"AccountName");if(i||(i=C0(r)),r){if(!n)throw new Error("Invalid SharedAccessSignature in the provided SAS Connection String")}else throw new Error("Invalid BlobEndpoint in the provided SAS Connection String");return{kind:"SASConnString",url:r,accountName:i,accountSas:n}}}function DL(t){return encodeURIComponent(t).replace(/%2F/g,"/").replace(/'/g,"%27").replace(/\+/g,"%20").replace(/%25/g,"%")}function Re(t,e){const r=He.parse(t);let n=r.getPath();return n=n?n.endsWith("/")?`${n}${e}`:`${n}/${e}`:e,r.setPath(n),new URL(r.toString()).toString()}function Ci(t,e,r){const n=He.parse(t);return n.setQueryParameter(e,r),n.toString()}function Qy(t,e){return He.parse(t).getQueryParameterValue(e)}function BL(t,e){const r=He.parse(t);return r.setHost(e),r.toString()}function g0(t){return He.parse(t).getPath()}function LL(t){return He.parse(t).getScheme()}function jL(t){const e=He.parse(t),r=e.getPath();if(!r)throw new RangeError("Invalid url without valid path.");let n=e.getQuery()||"";return n=n.trim(),n!==""&&(n=n.startsWith("?")?n:`?${n}`),`${r}${n}`}function Nv(t,e){const r=He.parse(t);let n=r.getQuery();return n?n+="&"+e:n=e,r.setQuery(n),r.toString()}function ae(t,e=!0){const r=t.toISOString();return e?r.substring(0,r.length-1)+"0000Z":r.substring(0,r.length-5)+"Z"}function qL(t){return ve?Buffer.from(t).toString("base64"):btoa(t)}function Jy(t,e){t.length>42&&(t=t.slice(0,42));const s=t+UL(e.toString(),48-t.length,"0");return qL(s)}async function HL(t,e,r){return new Promise((n,i)=>{let s;const o=()=>{s!==void 0&&clearTimeout(s),i(r)};s=setTimeout(()=>{e!==void 0&&e.removeEventListener("abort",o),n()},t),e!==void 0&&e.addEventListener("abort",o)})}function UL(t,e,r=" "){return String.prototype.padStart?t.padStart(e,r):(r=r||" ",t.length>e?t:(e=e-t.length,e>r.length&&(r+=r.repeat(e/r.length)),r.slice(0,e)+t))}function y0(t,e){return t.toLocaleLowerCase()===e.toLocaleLowerCase()}function C0(t){const e=He.parse(t);let r;try{return e.getHost().split(".")[1]==="blob"?r=e.getHost().split(".")[0]:Ev(e)?r=e.getPath().split("/")[1]:r="",r}catch{throw new Error("Unable to extract accountName with provided information.")}}function Ev(t){if(t.getHost()===void 0)return!1;const e=t.getHost()+(t.getPort()===void 0?"":":"+t.getPort());return/^.*:.*:.*$|^(localhost|host.docker.internal)(:[0-9]+)?$|^(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])(\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])){3}(:[0-9]+)?$/.test(e)||t.getPort()!==void 0&&OL.includes(t.getPort())}function di(t){if(t===void 0)return;const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];e.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)}return e.join("&")}function FL(t){if(t===void 0)return;const e={blobTagSet:[]};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];e.blobTagSet.push({key:r,value:n})}return e}function uc(t){if(t===void 0)return;const e={};for(const r of t.blobTagSet)e[r.key]=r.value;return e}function Xy(t){if(t!==void 0)switch(t.kind){case"csv":return{format:{type:"delimited",delimitedTextConfiguration:{columnSeparator:t.columnSeparator||",",fieldQuote:t.fieldQuote||"",recordSeparator:t.recordSeparator,escapeChar:t.escapeCharacter||"",headersPresent:t.hasHeaders||!1}}};case"json":return{format:{type:"json",jsonTextConfiguration:{recordSeparator:t.recordSeparator}}};case"arrow":return{format:{type:"arrow",arrowConfiguration:{schema:t.schema}}};case"parquet":return{format:{type:"parquet"}};default:throw Error("Invalid BlobQueryTextConfiguration.")}}function _u(t){if(!t||"policy-id"in t)return;const e=[];for(const r in t){const n=r.split("_"),i="or-";n[0].startsWith(i)&&(n[0]=n[0].substring(i.length));const s={ruleId:n[1],replicationStatus:t[r]},o=e.findIndex(a=>a.policyId===n[0]);o>-1?e[o].rules.push(s):e.push({policyId:n[0],rules:[s]})}return e}function S0(t,e){return t.credential=e,t}function Dc(t){return t?t.scheme+" "+t.value:void 0}function as(t){return t.encoded?decodeURIComponent(t.content):t.content}function $L(t){return Object.assign(Object.assign({},t),{segment:{blobItems:t.segment.blobItems.map(e=>Object.assign(Object.assign({},e),{name:as(e.name)}))}})}function WL(t){var e;return Object.assign(Object.assign({},t),{segment:{blobPrefixes:(e=t.segment.blobPrefixes)===null||e===void 0?void 0:e.map(r=>Object.assign(Object.assign({},r),{name:as(r.name)})),blobItems:t.segment.blobItems.map(r=>Object.assign(Object.assign({},r),{name:as(r.name)}))}})}function*Yy(t){let e=[],r=[];t.pageRange&&(e=t.pageRange),t.clearRange&&(r=t.clearRange);let n=0,i=0;for(;n<e.length&&i<r.length;)e[n].start<r[i].start?(yield{start:e[n].start,end:e[n].end,isClear:!1},++n):(yield{start:r[i].start,end:r[i].end,isClear:!0},++i);for(;n<e.length;++n)yield{start:e[n].start,end:e[n].end,isClear:!1};for(;i<r.length;++i)yield{start:r[i].start,end:r[i].end,isClear:!0}}function _l(t){const e=t.split("/");for(let r=0;r<e.length;r++)e[r]=encodeURIComponent(e[r]);return e.join("/")}class KL extends Oe{constructor(e,r){super(e,r)}async sendRequest(e){return ve?this._nextPolicy.sendRequest(e):((e.method.toUpperCase()==="GET"||e.method.toUpperCase()==="HEAD")&&(e.url=Ci(e.url,Br.Parameters.FORCE_BROWSER_NO_CACHE,new Date().getTime().toString())),e.headers.remove(Rr.COOKIE),e.headers.remove(Rr.CONTENT_LENGTH),this._nextPolicy.sendRequest(e))}}class VL{create(e,r){return new KL(e,r)}}var Bc;(function(t){t[t.EXPONENTIAL=0]="EXPONENTIAL",t[t.FIXED=1]="FIXED"})(Bc||(Bc={}));const Zr={maxRetryDelayInMs:120*1e3,maxTries:4,retryDelayInMs:4*1e3,retryPolicyType:Bc.EXPONENTIAL,secondaryHost:"",tryTimeoutInMs:void 0},GL=new sd("The operation was aborted.");class QL extends Oe{constructor(e,r,n=Zr){super(e,r),this.retryOptions={retryPolicyType:n.retryPolicyType?n.retryPolicyType:Zr.retryPolicyType,maxTries:n.maxTries&&n.maxTries>=1?Math.floor(n.maxTries):Zr.maxTries,tryTimeoutInMs:n.tryTimeoutInMs&&n.tryTimeoutInMs>=0?n.tryTimeoutInMs:Zr.tryTimeoutInMs,retryDelayInMs:n.retryDelayInMs&&n.retryDelayInMs>=0?Math.min(n.retryDelayInMs,n.maxRetryDelayInMs?n.maxRetryDelayInMs:Zr.maxRetryDelayInMs):Zr.retryDelayInMs,maxRetryDelayInMs:n.maxRetryDelayInMs&&n.maxRetryDelayInMs>=0?n.maxRetryDelayInMs:Zr.maxRetryDelayInMs,secondaryHost:n.secondaryHost?n.secondaryHost:Zr.secondaryHost}}async sendRequest(e){return this.attemptSendRequest(e,!1,1)}async attemptSendRequest(e,r,n){const i=e.clone(),s=r||!this.retryOptions.secondaryHost||!(e.method==="GET"||e.method==="HEAD"||e.method==="OPTIONS")||n%2===1;s||(i.url=BL(i.url,this.retryOptions.secondaryHost)),this.retryOptions.tryTimeoutInMs&&(i.url=Ci(i.url,Br.Parameters.TIMEOUT,Math.floor(this.retryOptions.tryTimeoutInMs/1e3).toString()));let o;try{if(fr.info(`RetryPolicy: =====> Try=${n} ${s?"Primary":"Secondary"}`),o=await this._nextPolicy.sendRequest(i),!this.shouldRetry(s,n,o))return o;r=r||!s&&o.status===404}catch(a){if(fr.error(`RetryPolicy: Caught error, message: ${a.message}, code: ${a.code}`),!this.shouldRetry(s,n,o,a))throw a}return await this.delay(s,n,e.abortSignal),this.attemptSendRequest(e,r,++n)}shouldRetry(e,r,n,i){if(r>=this.retryOptions.maxTries)return fr.info(`RetryPolicy: Attempt(s) ${r} >= maxTries ${this.retryOptions.maxTries}, no further try.`),!1;const s=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNREFUSED","ECONNRESET","ENOENT","ENOTFOUND","TIMEOUT","EPIPE","REQUEST_SEND_ERROR"];if(i){for(const o of s)if(i.name.toUpperCase().includes(o)||i.message.toUpperCase().includes(o)||i.code&&i.code.toString().toUpperCase()===o)return fr.info(`RetryPolicy: Network error ${o} found, will retry.`),!0}if(n||i){const o=n?n.status:i?i.statusCode:0;if(!e&&o===404)return fr.info("RetryPolicy: Secondary access with 404, will retry."),!0;if(o===503||o===500)return fr.info(`RetryPolicy: Will retry for status code ${o}.`),!0}return(i==null?void 0:i.code)==="PARSE_ERROR"&&(i!=null&&i.message.startsWith('Error "Error: Unclosed root tag'))?(fr.info("RetryPolicy: Incomplete XML response likely due to service timeout, will retry."),!0):!1}async delay(e,r,n){let i=0;if(e)switch(this.retryOptions.retryPolicyType){case Bc.EXPONENTIAL:i=Math.min((Math.pow(2,r-1)-1)*this.retryOptions.retryDelayInMs,this.retryOptions.maxRetryDelayInMs);break;case Bc.FIXED:i=this.retryOptions.retryDelayInMs;break}else i=Math.random()*1e3;return fr.info(`RetryPolicy: Delay for ${i}ms`),HL(i,n,GL)}}class JL{constructor(e){this.retryOptions=e}create(e,r){return new QL(e,r,this.retryOptions)}}class XL extends Oe{sendRequest(e){return this._nextPolicy.sendRequest(this.signRequest(e))}signRequest(e){return e}}class YL extends XL{constructor(e,r){super(e,r)}}class ZL{create(e,r){throw new Error("Method should be implemented in children classes.")}}class ge extends ZL{create(e,r){return new YL(e,r)}}const ej={},P0=Object.freeze(Object.defineProperty({__proto__:null,default:ej},Symbol.toStringTag,{value:"Module"}));class tj extends Oe{constructor(e,r,n){super(e,r),this.telemetry=n}async sendRequest(e){return ve&&(e.headers||(e.headers=new bn),e.headers.get(Rr.USER_AGENT)||e.headers.set(Rr.USER_AGENT,this.telemetry)),this._nextPolicy.sendRequest(e)}}class rj{constructor(e){const r=[];if(ve){if(e){const s=e.userAgentPrefix||"";s.length>0&&r.indexOf(s)===-1&&r.push(s)}const n=`azsdk-js-storageblob/${xL}`;r.indexOf(n)===-1&&r.push(n);let i=`(NODE-VERSION ${process.version})`;P0&&(i=`(NODE-VERSION ${process.version}; ${(void 0)()} ${(void 0)()})`),r.indexOf(i)===-1&&r.push(i)}this.telemetryString=r.join(" ")}create(e,r){return new tj(e,r,this.telemetryString)}}const nj=new CN;function ij(){return nj}const mm={DefaultScope:"/.default",HeaderConstants:{AUTHORIZATION:"authorization"}},sj={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function oj(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{const s=await t();if(s===null)throw new Error("Failed to refresh access token.");return s}}let i=await n();for(;i===null;)await Ni(e),i=await n();return i}function Zy(t,e,r){let n=null,i=null;const s=Object.assign(Object.assign({},sj),r),o={get isRefreshing(){return n!==null},get shouldRefresh(){var c;return!o.isRefreshing&&((c=i==null?void 0:i.expiresOnTimestamp)!==null&&c!==void 0?c:0)-s.refreshWindowInMs<Date.now()},get mustRefresh(){return i===null||i.expiresOnTimestamp-s.forcedRefreshWindowInMs<Date.now()}};function a(c){var l;return o.isRefreshing||(n=oj(()=>t.getToken(e,c),s.retryIntervalInMs,(l=i==null?void 0:i.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(d=>(n=null,i=d,i)).catch(d=>{throw n=null,i=null,d})),n}return async c=>o.mustRefresh?a(c):(o.shouldRefresh&&a(c),i)}function aj(t){const e=t.headers.get("WWW-Authenticate");if(t.status===401&&e)return e}function cj(t){return`${t.slice(7).trim()} `.split(" ").filter(i=>i).map(i=>(([s,o])=>({[s]:o}))(i.trim().split("="))).reduce((i,s)=>Object.assign(Object.assign({},i),s),{})}function lj(t,e){let r=Zy(t,e);class n extends Oe{constructor(s,o){super(s,o)}async sendRequest(s){if(!s.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");const a=(await r({abortSignal:s.abortSignal,tracingOptions:{tracingContext:s.tracingContext}})).token;s.headers.set(mm.HeaderConstants.AUTHORIZATION,`Bearer ${a}`);const c=await this._nextPolicy.sendRequest(s);if((c==null?void 0:c.status)===401){const l=aj(c);if(l){const u=cj(l),d=u.resource_id+mm.DefaultScope,h=He.parse(u.authorization_uri).getPath().split("/")[1],v=Zy(t,d),y=(await v({abortSignal:s.abortSignal,tracingOptions:{tracingContext:s.tracingContext},tenantId:h})).token;return r=v,s.headers.set(mm.HeaderConstants.AUTHORIZATION,`Bearer ${y}`),this._nextPolicy.sendRequest(s)}}return c}}return{create:(i,s)=>new n(i,s)}}function Ai(t){if(!t||typeof t!="object")return!1;const e=t;return Array.isArray(e.factories)&&typeof e.options=="object"&&typeof e.toServiceClientOptions=="function"}class R0{constructor(e,r={}){this.factories=e,this.options=Object.assign(Object.assign({},r),{httpClient:r.httpClient||ij()})}toServiceClientOptions(){return{httpClient:this.options.httpClient,requestPolicyFactories:this.factories}}}function me(t,e={}){var r;t===void 0&&(t=new ge);const n=new rj(e.userAgentOptions),i=[Nk({userAgent:n.telemetryString}),$O(e.keepAliveOptions),n,BN(),new VL,new JL(e.retryOptions),Qf(void 0,{xmlCharKey:"#"}),MN({logger:fr.info,allowedHeaderNames:IL,allowedQueryParameters:_L})];return ve&&(i.push(LN(e.proxyOptions)),i.push(yM())),i.push(Xt(t)?S0(lj(t,(r=e.audience)!==null&&r!==void 0?r:h0),t):t),new R0(i,e)}class Le{}const uj="azure-storage-blob",dj="12.17.0";class wv extends wk{constructor(e,r){if(e===void 0)throw new Error("'url' cannot be null");if(r||(r={}),!r.userAgent){const n=Zf();r.userAgent=`${uj}/${dj} ${n}`}super(void 0,r),this.requestContentType="application/json; charset=utf-8",this.baseUri=r.endpoint||"{url}",this.url=e,this.version=r.version||"2023-11-03"}}class bv{constructor(e,r){this.url=ML(e),this.accountName=C0(e),this.pipeline=r,this.storageClientContext=new wv(this.url,r.toServiceClientOptions()),this.isHttps=y0(LL(this.url)||"","https"),this.credential=new ge;for(const i of this.pipeline.factories)ve&&i instanceof Le||i instanceof ge?this.credential=i:Xt(i.credential)&&(this.credential=i.credential);const n=this.storageClientContext;n.requestContentType=void 0}}const T=Dk({packagePrefix:"Azure.Storage.Blob",namespace:"Microsoft.Storage"});function D(t){var e,r;return{spanOptions:(e=t==null?void 0:t.tracingOptions)===null||e===void 0?void 0:e.spanOptions,tracingContext:(r=t==null?void 0:t.tracingOptions)===null||r===void 0?void 0:r.tracingContext}}class Wr{constructor(){this.read=!1,this.add=!1,this.create=!1,this.write=!1,this.delete=!1,this.deleteVersion=!1,this.tag=!1,this.move=!1,this.execute=!1,this.setImmutabilityPolicy=!1,this.permanentDelete=!1}static parse(e){const r=new Wr;for(const n of e)switch(n){case"r":r.read=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"x":r.deleteVersion=!0;break;case"t":r.tag=!0;break;case"m":r.move=!0;break;case"e":r.execute=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;default:throw new RangeError(`Invalid permission: ${n}`)}return r}static from(e){const r=new Wr;return e.read&&(r.read=!0),e.add&&(r.add=!0),e.create&&(r.create=!0),e.write&&(r.write=!0),e.delete&&(r.delete=!0),e.deleteVersion&&(r.deleteVersion=!0),e.tag&&(r.tag=!0),e.move&&(r.move=!0),e.execute&&(r.execute=!0),e.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),e.permanentDelete&&(r.permanentDelete=!0),r}toString(){const e=[];return this.read&&e.push("r"),this.add&&e.push("a"),this.create&&e.push("c"),this.write&&e.push("w"),this.delete&&e.push("d"),this.deleteVersion&&e.push("x"),this.tag&&e.push("t"),this.move&&e.push("m"),this.execute&&e.push("e"),this.setImmutabilityPolicy&&e.push("i"),this.permanentDelete&&e.push("y"),e.join("")}}class Kr{constructor(){this.read=!1,this.add=!1,this.create=!1,this.write=!1,this.delete=!1,this.deleteVersion=!1,this.list=!1,this.tag=!1,this.move=!1,this.execute=!1,this.setImmutabilityPolicy=!1,this.permanentDelete=!1,this.filterByTags=!1}static parse(e){const r=new Kr;for(const n of e)switch(n){case"r":r.read=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"l":r.list=!0;break;case"t":r.tag=!0;break;case"x":r.deleteVersion=!0;break;case"m":r.move=!0;break;case"e":r.execute=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;case"f":r.filterByTags=!0;break;default:throw new RangeError(`Invalid permission ${n}`)}return r}static from(e){const r=new Kr;return e.read&&(r.read=!0),e.add&&(r.add=!0),e.create&&(r.create=!0),e.write&&(r.write=!0),e.delete&&(r.delete=!0),e.list&&(r.list=!0),e.deleteVersion&&(r.deleteVersion=!0),e.tag&&(r.tag=!0),e.move&&(r.move=!0),e.execute&&(r.execute=!0),e.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),e.permanentDelete&&(r.permanentDelete=!0),e.filterByTags&&(r.filterByTags=!0),r}toString(){const e=[];return this.read&&e.push("r"),this.add&&e.push("a"),this.create&&e.push("c"),this.write&&e.push("w"),this.delete&&e.push("d"),this.deleteVersion&&e.push("x"),this.list&&e.push("l"),this.tag&&e.push("t"),this.move&&e.push("m"),this.execute&&e.push("e"),this.setImmutabilityPolicy&&e.push("i"),this.permanentDelete&&e.push("y"),this.filterByTags&&e.push("f"),e.join("")}}class pj{}function Vr(t){return t.end?`${t.start}-${t.end}`:t.start}var eC;(function(t){t.Https="https",t.HttpsAndHttp="https,http"})(eC||(eC={}));class zi{constructor(e,r,n,i,s,o,a,c,l,u,d,p,m,h,v,y,f,g,C,S){this.version=e,this.signature=r,n!==void 0&&typeof n!="string"?(this.permissions=n.permissions,this.services=n.services,this.resourceTypes=n.resourceTypes,this.protocol=n.protocol,this.startsOn=n.startsOn,this.expiresOn=n.expiresOn,this.ipRangeInner=n.ipRange,this.identifier=n.identifier,this.encryptionScope=n.encryptionScope,this.resource=n.resource,this.cacheControl=n.cacheControl,this.contentDisposition=n.contentDisposition,this.contentEncoding=n.contentEncoding,this.contentLanguage=n.contentLanguage,this.contentType=n.contentType,n.userDelegationKey&&(this.signedOid=n.userDelegationKey.signedObjectId,this.signedTenantId=n.userDelegationKey.signedTenantId,this.signedStartsOn=n.userDelegationKey.signedStartsOn,this.signedExpiresOn=n.userDelegationKey.signedExpiresOn,this.signedService=n.userDelegationKey.signedService,this.signedVersion=n.userDelegationKey.signedVersion,this.preauthorizedAgentObjectId=n.preauthorizedAgentObjectId,this.correlationId=n.correlationId)):(this.services=i,this.resourceTypes=s,this.expiresOn=c,this.permissions=n,this.protocol=o,this.startsOn=a,this.ipRangeInner=l,this.encryptionScope=S,this.identifier=u,this.resource=d,this.cacheControl=p,this.contentDisposition=m,this.contentEncoding=h,this.contentLanguage=v,this.contentType=y,f&&(this.signedOid=f.signedObjectId,this.signedTenantId=f.signedTenantId,this.signedStartsOn=f.signedStartsOn,this.signedExpiresOn=f.signedExpiresOn,this.signedService=f.signedService,this.signedVersion=f.signedVersion,this.preauthorizedAgentObjectId=g,this.correlationId=C))}get ipRange(){if(this.ipRangeInner)return{end:this.ipRangeInner.end,start:this.ipRangeInner.start}}toString(){const e=["sv","ss","srt","spr","st","se","sip","si","ses","skoid","sktid","skt","ske","sks","skv","sr","sp","sig","rscc","rscd","rsce","rscl","rsct","saoid","scid"],r=[];for(const n of e)switch(n){case"sv":this.tryAppendQueryParameter(r,n,this.version);break;case"ss":this.tryAppendQueryParameter(r,n,this.services);break;case"srt":this.tryAppendQueryParameter(r,n,this.resourceTypes);break;case"spr":this.tryAppendQueryParameter(r,n,this.protocol);break;case"st":this.tryAppendQueryParameter(r,n,this.startsOn?ae(this.startsOn,!1):void 0);break;case"se":this.tryAppendQueryParameter(r,n,this.expiresOn?ae(this.expiresOn,!1):void 0);break;case"sip":this.tryAppendQueryParameter(r,n,this.ipRange?Vr(this.ipRange):void 0);break;case"si":this.tryAppendQueryParameter(r,n,this.identifier);break;case"ses":this.tryAppendQueryParameter(r,n,this.encryptionScope);break;case"skoid":this.tryAppendQueryParameter(r,n,this.signedOid);break;case"sktid":this.tryAppendQueryParameter(r,n,this.signedTenantId);break;case"skt":this.tryAppendQueryParameter(r,n,this.signedStartsOn?ae(this.signedStartsOn,!1):void 0);break;case"ske":this.tryAppendQueryParameter(r,n,this.signedExpiresOn?ae(this.signedExpiresOn,!1):void 0);break;case"sks":this.tryAppendQueryParameter(r,n,this.signedService);break;case"skv":this.tryAppendQueryParameter(r,n,this.signedVersion);break;case"sr":this.tryAppendQueryParameter(r,n,this.resource);break;case"sp":this.tryAppendQueryParameter(r,n,this.permissions);break;case"sig":this.tryAppendQueryParameter(r,n,this.signature);break;case"rscc":this.tryAppendQueryParameter(r,n,this.cacheControl);break;case"rscd":this.tryAppendQueryParameter(r,n,this.contentDisposition);break;case"rsce":this.tryAppendQueryParameter(r,n,this.contentEncoding);break;case"rscl":this.tryAppendQueryParameter(r,n,this.contentLanguage);break;case"rsct":this.tryAppendQueryParameter(r,n,this.contentType);break;case"saoid":this.tryAppendQueryParameter(r,n,this.preauthorizedAgentObjectId);break;case"scid":this.tryAppendQueryParameter(r,n,this.correlationId);break}return r.join("&")}tryAppendQueryParameter(e,r,n){n&&(r=encodeURIComponent(r),n=encodeURIComponent(n),r.length>0&&n.length>0&&e.push(`${r}=${n}`))}}function x0(t,e,r){const n=t.version?t.version:xv,i=e instanceof Le?e:void 0;let s;if(i===void 0&&r!==void 0&&(s=new pj(r,e)),i===void 0&&s===void 0)throw TypeError("Invalid sharedKeyCredential, userDelegationKey or accountName.");if(n>="2020-12-06")return i!==void 0?fj(t,i):yj(t,s);if(n>="2018-11-09")return i!==void 0?hj(t,i):n>="2020-02-10"?gj(t,s):vj(t,s);if(n>="2015-04-05"){if(i!==void 0)return mj(t,i);throw new RangeError("'version' must be >= '2018-11-09' when generating user delegation SAS using user delegation key.")}throw new RangeError("'version' must be >= '2015-04-05'.")}function mj(t,e){if(t=Us(t),!t.identifier&&!(t.permissions&&t.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c";t.blobName&&(r="b");let n;t.permissions&&(t.blobName?n=Wr.parse(t.permissions.toString()).toString():n=Kr.parse(t.permissions.toString()).toString());const i=[n||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),t.identifier,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,t.cacheControl?t.cacheControl:"",t.contentDisposition?t.contentDisposition:"",t.contentEncoding?t.contentEncoding:"",t.contentLanguage?t.contentLanguage:"",t.contentType?t.contentType:""].join(`
`),s=e.computeHMACSHA256(i);return new zi(t.version,s,n,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType)}function hj(t,e){if(t=Us(t),!t.identifier&&!(t.permissions&&t.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c",n=t.snapshotTime;t.blobName&&(r="b",t.snapshotTime?r="bs":t.versionId&&(r="bv",n=t.versionId));let i;t.permissions&&(t.blobName?i=Wr.parse(t.permissions.toString()).toString():i=Kr.parse(t.permissions.toString()).toString());const s=[i||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),t.identifier,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,r,n,t.cacheControl?t.cacheControl:"",t.contentDisposition?t.contentDisposition:"",t.contentEncoding?t.contentEncoding:"",t.contentLanguage?t.contentLanguage:"",t.contentType?t.contentType:""].join(`
`),o=e.computeHMACSHA256(s);return new zi(t.version,o,i,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType)}function fj(t,e){if(t=Us(t),!t.identifier&&!(t.permissions&&t.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c",n=t.snapshotTime;t.blobName&&(r="b",t.snapshotTime?r="bs":t.versionId&&(r="bv",n=t.versionId));let i;t.permissions&&(t.blobName?i=Wr.parse(t.permissions.toString()).toString():i=Kr.parse(t.permissions.toString()).toString());const s=[i||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),t.identifier,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,r,n,t.encryptionScope,t.cacheControl?t.cacheControl:"",t.contentDisposition?t.contentDisposition:"",t.contentEncoding?t.contentEncoding:"",t.contentLanguage?t.contentLanguage:"",t.contentType?t.contentType:""].join(`
`),o=e.computeHMACSHA256(s);return new zi(t.version,o,i,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType,void 0,void 0,void 0,t.encryptionScope)}function vj(t,e){if(t=Us(t),!t.permissions||!t.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=t.snapshotTime;t.blobName&&(r="b",t.snapshotTime?r="bs":t.versionId&&(r="bv",n=t.versionId));let i;t.permissions&&(t.blobName?i=Wr.parse(t.permissions.toString()).toString():i=Kr.parse(t.permissions.toString()).toString());const s=[i||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),e.userDelegationKey.signedObjectId,e.userDelegationKey.signedTenantId,e.userDelegationKey.signedStartsOn?ae(e.userDelegationKey.signedStartsOn,!1):"",e.userDelegationKey.signedExpiresOn?ae(e.userDelegationKey.signedExpiresOn,!1):"",e.userDelegationKey.signedService,e.userDelegationKey.signedVersion,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,r,n,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType].join(`
`),o=e.computeHMACSHA256(s);return new zi(t.version,o,i,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType,e.userDelegationKey)}function gj(t,e){if(t=Us(t),!t.permissions||!t.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=t.snapshotTime;t.blobName&&(r="b",t.snapshotTime?r="bs":t.versionId&&(r="bv",n=t.versionId));let i;t.permissions&&(t.blobName?i=Wr.parse(t.permissions.toString()).toString():i=Kr.parse(t.permissions.toString()).toString());const s=[i||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),e.userDelegationKey.signedObjectId,e.userDelegationKey.signedTenantId,e.userDelegationKey.signedStartsOn?ae(e.userDelegationKey.signedStartsOn,!1):"",e.userDelegationKey.signedExpiresOn?ae(e.userDelegationKey.signedExpiresOn,!1):"",e.userDelegationKey.signedService,e.userDelegationKey.signedVersion,t.preauthorizedAgentObjectId,void 0,t.correlationId,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,r,n,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType].join(`
`),o=e.computeHMACSHA256(s);return new zi(t.version,o,i,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType,e.userDelegationKey,t.preauthorizedAgentObjectId,t.correlationId)}function yj(t,e){if(t=Us(t),!t.permissions||!t.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=t.snapshotTime;t.blobName&&(r="b",t.snapshotTime?r="bs":t.versionId&&(r="bv",n=t.versionId));let i;t.permissions&&(t.blobName?i=Wr.parse(t.permissions.toString()).toString():i=Kr.parse(t.permissions.toString()).toString());const s=[i||"",t.startsOn?ae(t.startsOn,!1):"",t.expiresOn?ae(t.expiresOn,!1):"",Hs(e.accountName,t.containerName,t.blobName),e.userDelegationKey.signedObjectId,e.userDelegationKey.signedTenantId,e.userDelegationKey.signedStartsOn?ae(e.userDelegationKey.signedStartsOn,!1):"",e.userDelegationKey.signedExpiresOn?ae(e.userDelegationKey.signedExpiresOn,!1):"",e.userDelegationKey.signedService,e.userDelegationKey.signedVersion,t.preauthorizedAgentObjectId,void 0,t.correlationId,t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",t.version,r,n,t.encryptionScope,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType].join(`
`),o=e.computeHMACSHA256(s);return new zi(t.version,o,i,void 0,void 0,t.protocol,t.startsOn,t.expiresOn,t.ipRange,t.identifier,r,t.cacheControl,t.contentDisposition,t.contentEncoding,t.contentLanguage,t.contentType,e.userDelegationKey,t.preauthorizedAgentObjectId,t.correlationId,t.encryptionScope)}function Hs(t,e,r){const n=[`/blob/${t}/${e}`];return r&&n.push(`/${r}`),n.join("")}function Us(t){const e=t.version?t.version:xv;if(t.snapshotTime&&e<"2018-11-09")throw RangeError("'version' must be >= '2018-11-09' when providing 'snapshotTime'.");if(t.blobName===void 0&&t.snapshotTime)throw RangeError("Must provide 'blobName' when providing 'snapshotTime'.");if(t.versionId&&e<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'versionId'.");if(t.blobName===void 0&&t.versionId)throw RangeError("Must provide 'blobName' when providing 'versionId'.");if(t.permissions&&t.permissions.setImmutabilityPolicy&&e<"2020-08-04")throw RangeError("'version' must be >= '2020-08-04' when provided 'i' permission.");if(t.permissions&&t.permissions.deleteVersion&&e<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'x' permission.");if(t.permissions&&t.permissions.permanentDelete&&e<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'y' permission.");if(t.permissions&&t.permissions.tag&&e<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when providing 't' permission.");if(e<"2020-02-10"&&t.permissions&&(t.permissions.move||t.permissions.execute))throw RangeError("'version' must be >= '2020-02-10' when providing the 'm' or 'e' permission.");if(e<"2021-04-10"&&t.permissions&&t.permissions.filterByTags)throw RangeError("'version' must be >= '2021-04-10' when providing the 'f' permission.");if(e<"2020-02-10"&&(t.preauthorizedAgentObjectId||t.correlationId))throw RangeError("'version' must be >= '2020-02-10' when providing 'preauthorizedAgentObjectId' or 'correlationId'.");if(t.encryptionScope&&e<"2020-12-06")throw RangeError("'version' must be >= '2020-12-06' when provided 'encryptionScope' in SAS.");return t.version=e,t}class N0{constructor(e,r){const n=new wv(e.url,e.pipeline.toServiceClientOptions());this._url=e.url,e.name===void 0?(this._isContainer=!0,this._containerOrBlobOperation=new kc(n)):(this._isContainer=!1,this._containerOrBlobOperation=new Pv(n)),r||(r=yi()),this._leaseId=r}get leaseId(){return this._leaseId}get url(){return this._url}async acquireLease(e,r={}){var n,i,s,o,a,c;const{span:l,updatedOptions:u}=T("BlobLeaseClient-acquireLease",r);if(this._isContainer&&(!((n=r.conditions)===null||n===void 0)&&n.ifMatch&&((i=r.conditions)===null||i===void 0?void 0:i.ifMatch)!==mr||!((s=r.conditions)===null||s===void 0)&&s.ifNoneMatch&&((o=r.conditions)===null||o===void 0?void 0:o.ifNoneMatch)!==mr||!((a=r.conditions)===null||a===void 0)&&a.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");try{return await this._containerOrBlobOperation.acquireLease(Object.assign({abortSignal:r.abortSignal,duration:e,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(c=r.conditions)===null||c===void 0?void 0:c.tagConditions}),proposedLeaseId:this._leaseId},D(u)))}catch(d){throw l.setStatus({code:w.ERROR,message:d.message}),d}finally{l.end()}}async changeLease(e,r={}){var n,i,s,o,a,c;const{span:l,updatedOptions:u}=T("BlobLeaseClient-changeLease",r);if(this._isContainer&&(!((n=r.conditions)===null||n===void 0)&&n.ifMatch&&((i=r.conditions)===null||i===void 0?void 0:i.ifMatch)!==mr||!((s=r.conditions)===null||s===void 0)&&s.ifNoneMatch&&((o=r.conditions)===null||o===void 0?void 0:o.ifNoneMatch)!==mr||!((a=r.conditions)===null||a===void 0)&&a.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");try{const d=await this._containerOrBlobOperation.changeLease(this._leaseId,e,Object.assign({abortSignal:r.abortSignal,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(c=r.conditions)===null||c===void 0?void 0:c.tagConditions})},D(u)));return this._leaseId=e,d}catch(d){throw l.setStatus({code:w.ERROR,message:d.message}),d}finally{l.end()}}async releaseLease(e={}){var r,n,i,s,o,a;const{span:c,updatedOptions:l}=T("BlobLeaseClient-releaseLease",e);if(this._isContainer&&(!((r=e.conditions)===null||r===void 0)&&r.ifMatch&&((n=e.conditions)===null||n===void 0?void 0:n.ifMatch)!==mr||!((i=e.conditions)===null||i===void 0)&&i.ifNoneMatch&&((s=e.conditions)===null||s===void 0?void 0:s.ifNoneMatch)!==mr||!((o=e.conditions)===null||o===void 0)&&o.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");try{return await this._containerOrBlobOperation.releaseLease(this._leaseId,Object.assign({abortSignal:e.abortSignal,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(a=e.conditions)===null||a===void 0?void 0:a.tagConditions})},D(l)))}catch(u){throw c.setStatus({code:w.ERROR,message:u.message}),u}finally{c.end()}}async renewLease(e={}){var r,n,i,s,o,a;const{span:c,updatedOptions:l}=T("BlobLeaseClient-renewLease",e);if(this._isContainer&&(!((r=e.conditions)===null||r===void 0)&&r.ifMatch&&((n=e.conditions)===null||n===void 0?void 0:n.ifMatch)!==mr||!((i=e.conditions)===null||i===void 0)&&i.ifNoneMatch&&((s=e.conditions)===null||s===void 0?void 0:s.ifNoneMatch)!==mr||!((o=e.conditions)===null||o===void 0)&&o.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");try{return await this._containerOrBlobOperation.renewLease(this._leaseId,Object.assign({abortSignal:e.abortSignal,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(a=e.conditions)===null||a===void 0?void 0:a.tagConditions})},D(l)))}catch(u){throw c.setStatus({code:w.ERROR,message:u.message}),u}finally{c.end()}}async breakLease(e,r={}){var n,i,s,o,a,c;const{span:l,updatedOptions:u}=T("BlobLeaseClient-breakLease",r);if(this._isContainer&&(!((n=r.conditions)===null||n===void 0)&&n.ifMatch&&((i=r.conditions)===null||i===void 0?void 0:i.ifMatch)!==mr||!((s=r.conditions)===null||s===void 0)&&s.ifNoneMatch&&((o=r.conditions)===null||o===void 0?void 0:o.ifNoneMatch)!==mr||!((a=r.conditions)===null||a===void 0)&&a.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");try{const d=Object.assign({abortSignal:r.abortSignal,breakPeriod:e,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(c=r.conditions)===null||c===void 0?void 0:c.tagConditions})},D(u));return await this._containerOrBlobOperation.breakLease(d)}catch(d){throw l.setStatus({code:w.ERROR,message:d.message}),d}finally{l.end()}}}const Cj=1;class Sj{constructor(e,r={}){this.originalResponse=e}get acceptRanges(){return this.originalResponse.acceptRanges}get cacheControl(){return this.originalResponse.cacheControl}get contentDisposition(){return this.originalResponse.contentDisposition}get contentEncoding(){return this.originalResponse.contentEncoding}get contentLanguage(){return this.originalResponse.contentLanguage}get blobSequenceNumber(){return this.originalResponse.blobSequenceNumber}get blobType(){return this.originalResponse.blobType}get contentLength(){return this.originalResponse.contentLength}get contentMD5(){return this.originalResponse.contentMD5}get contentRange(){return this.originalResponse.contentRange}get contentType(){return this.originalResponse.contentType}get copyCompletedOn(){}get copyId(){return this.originalResponse.copyId}get copyProgress(){return this.originalResponse.copyProgress}get copySource(){return this.originalResponse.copySource}get copyStatus(){return this.originalResponse.copyStatus}get copyStatusDescription(){return this.originalResponse.copyStatusDescription}get leaseDuration(){return this.originalResponse.leaseDuration}get leaseState(){return this.originalResponse.leaseState}get leaseStatus(){return this.originalResponse.leaseStatus}get date(){return this.originalResponse.date}get blobCommittedBlockCount(){return this.originalResponse.blobCommittedBlockCount}get etag(){return this.originalResponse.etag}get errorCode(){return this.originalResponse.errorCode}get isServerEncrypted(){return this.originalResponse.isServerEncrypted}get blobContentMD5(){return this.originalResponse.blobContentMD5}get lastModified(){return this.originalResponse.lastModified}get metadata(){return this.originalResponse.metadata}get requestId(){return this.originalResponse.requestId}get clientRequestId(){return this.originalResponse.clientRequestId}get version(){return this.originalResponse.version}get encryptionKeySha256(){return this.originalResponse.encryptionKeySha256}get contentCrc64(){return this.originalResponse.contentCrc64}get blobBody(){throw Error("Quick query in browser is not supported yet.")}get readableStreamBody(){}get _response(){return this.originalResponse._response}}var tC;(function(t){t.Hot="Hot",t.Cool="Cool",t.Cold="Cold",t.Archive="Archive"})(tC||(tC={}));var rC;(function(t){t.P4="P4",t.P6="P6",t.P10="P10",t.P15="P15",t.P20="P20",t.P30="P30",t.P40="P40",t.P50="P50",t.P60="P60",t.P70="P70",t.P80="P80"})(rC||(rC={}));function pi(t){if(t!==void 0)return t}function De(t,e){if(t&&!e)throw new RangeError("Customer-provided encryption key must be used over HTTPS.");t&&!t.encryptionAlgorithm&&(t.encryptionAlgorithm=bL)}var nC;(function(t){t.StorageOAuthScopes="https://storage.azure.com/.default",t.DiskComputeOAuthScopes="https://disk.compute.azure.com/.default"})(nC||(nC={}));function hm(t){const e=(t._response.parsedBody.pageRange||[]).map(n=>({offset:n.start,count:n.end-n.start})),r=(t._response.parsedBody.clearRange||[]).map(n=>({offset:n.start,count:n.end-n.start}));return Object.assign(Object.assign({},t),{pageRange:e,clearRange:r,_response:Object.assign(Object.assign({},t._response),{parsedBody:{pageRange:e,clearRange:r}})})}class Tv extends Error{constructor(e){super(e),this.name="PollerStoppedError",Object.setPrototypeOf(this,Tv.prototype)}}class Iv extends Error{constructor(e){super(e),this.name="PollerCancelledError",Object.setPrototypeOf(this,Iv.prototype)}}class Pj{constructor(e){this.resolveOnUnsuccessful=!1,this.stopped=!0,this.pollProgressCallbacks=[],this.operation=e,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n}),this.promise.catch(()=>{})}async startPolling(e={}){for(this.stopped&&(this.stopped=!1);!this.isStopped()&&!this.isDone();)await this.poll(e),await this.delay()}async pollOnce(e={}){this.isDone()||(this.operation=await this.operation.update({abortSignal:e.abortSignal,fireProgress:this.fireProgress.bind(this)})),this.processUpdatedState()}fireProgress(e){for(const r of this.pollProgressCallbacks)r(e)}async cancelOnce(e={}){this.operation=await this.operation.cancel(e)}poll(e={}){if(!this.pollOncePromise){this.pollOncePromise=this.pollOnce(e);const r=()=>{this.pollOncePromise=void 0};this.pollOncePromise.then(r,r).catch(this.reject)}return this.pollOncePromise}processUpdatedState(){if(this.operation.state.error&&(this.stopped=!0,!this.resolveOnUnsuccessful))throw this.reject(this.operation.state.error),this.operation.state.error;if(this.operation.state.isCancelled&&(this.stopped=!0,!this.resolveOnUnsuccessful)){const e=new Iv("Operation was canceled");throw this.reject(e),e}this.isDone()&&this.resolve&&this.resolve(this.getResult())}async pollUntilDone(e={}){return this.stopped&&this.startPolling(e).catch(this.reject),this.processUpdatedState(),this.promise}onProgress(e){return this.pollProgressCallbacks.push(e),()=>{this.pollProgressCallbacks=this.pollProgressCallbacks.filter(r=>r!==e)}}isDone(){const e=this.operation.state;return!!(e.isCompleted||e.isCancelled||e.error)}stopPolling(){this.stopped||(this.stopped=!0,this.reject&&this.reject(new Tv("This poller is already stopped")))}isStopped(){return this.stopped}cancelOperation(e={}){if(!this.cancelPromise)this.cancelPromise=this.cancelOnce(e);else if(e.abortSignal)throw new Error("A cancel request is currently pending");return this.cancelPromise}getOperationState(){return this.operation.state}getResult(){return this.operation.state.result}toString(){return this.operation.toString()}}class Rj extends Pj{constructor(e){const{blobClient:r,copySource:n,intervalInMs:i=15e3,onProgress:s,resumeFrom:o,startCopyFromURLOptions:a}=e;let c;o&&(c=JSON.parse(o).state);const l=dc(Object.assign(Object.assign({},c),{blobClient:r,copySource:n,startCopyFromURLOptions:a}));super(l),typeof s=="function"&&this.onProgress(s),this.intervalInMs=i}delay(){return Ni(this.intervalInMs)}}const xj=async function(e={}){const r=this.state,{copyId:n}=r;return r.isCompleted?dc(r):n?(await r.blobClient.abortCopyFromURL(n,{abortSignal:e.abortSignal}),r.isCancelled=!0,dc(r)):(r.isCancelled=!0,dc(r))},Nj=async function(e={}){const r=this.state,{blobClient:n,copySource:i,startCopyFromURLOptions:s}=r;if(r.isStarted){if(!r.isCompleted)try{const o=await r.blobClient.getProperties({abortSignal:e.abortSignal}),{copyStatus:a,copyProgress:c}=o,l=r.copyProgress;c&&(r.copyProgress=c),a==="pending"&&c!==l&&typeof e.fireProgress=="function"?e.fireProgress(r):a==="success"?(r.result=o,r.isCompleted=!0):a==="failed"&&(r.error=new Error(`Blob copy failed with reason: "${o.copyStatusDescription||"unknown"}"`),r.isCompleted=!0)}catch(o){r.error=o,r.isCompleted=!0}}else{r.isStarted=!0;const o=await n.startCopyFromURL(i,s);r.copyId=o.copyId,o.copyStatus==="success"&&(r.result=o,r.isCompleted=!0)}return dc(r)},Ej=function(){return JSON.stringify({state:this.state},(e,r)=>{if(e!=="blobClient")return r})};function dc(t){return{state:Object.assign({},t),cancel:xj,toString:Ej,update:Nj}}function Ot(t){if(t.offset<0)throw new RangeError("Range.offset cannot be smaller than 0.");if(t.count&&t.count<=0)throw new RangeError("Range.count must be larger than 0. Leave it undefined if you want a range from offset to the end.");return t.count?`bytes=${t.offset}-${t.offset+t.count-1}`:`bytes=${t.offset}-`}var _v={exports:{}},cs=typeof Reflect=="object"?Reflect:null,iC=cs&&typeof cs.apply=="function"?cs.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Vl;cs&&typeof cs.ownKeys=="function"?Vl=cs.ownKeys:Object.getOwnPropertySymbols?Vl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Vl=function(e){return Object.getOwnPropertyNames(e)};function wj(t){console&&console.warn&&console.warn(t)}var E0=Number.isNaN||function(e){return e!==e};function de(){de.init.call(this)}_v.exports=de;_v.exports.once=_j;de.EventEmitter=de;de.prototype._events=void 0;de.prototype._eventsCount=0;de.prototype._maxListeners=void 0;var sC=10;function hd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(de,"defaultMaxListeners",{enumerable:!0,get:function(){return sC},set:function(t){if(typeof t!="number"||t<0||E0(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");sC=t}});de.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};de.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||E0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function w0(t){return t._maxListeners===void 0?de.defaultMaxListeners:t._maxListeners}de.prototype.getMaxListeners=function(){return w0(this)};de.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")iC(c,this,r);else for(var l=c.length,u=A0(c,l),n=0;n<l;++n)iC(u[n],this,r);return!0};function b0(t,e,r,n){var i,s,o;if(hd(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=w0(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,wj(a)}return t}de.prototype.addListener=function(e,r){return b0(this,e,r,!1)};de.prototype.on=de.prototype.addListener;de.prototype.prependListener=function(e,r){return b0(this,e,r,!0)};function bj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T0(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=bj.bind(n);return i.listener=r,n.wrapFn=i,i}de.prototype.once=function(e,r){return hd(r),this.on(e,T0(this,e,r)),this};de.prototype.prependOnceListener=function(e,r){return hd(r),this.prependListener(e,T0(this,e,r)),this};de.prototype.removeListener=function(e,r){var n,i,s,o,a;if(hd(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Tj(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};de.prototype.off=de.prototype.removeListener;de.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function I0(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Ij(i):A0(i,i.length)}de.prototype.listeners=function(e){return I0(this,e,!0)};de.prototype.rawListeners=function(e){return I0(this,e,!1)};de.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):_0.call(t,e)};de.prototype.listenerCount=_0;function _0(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}de.prototype.eventNames=function(){return this._eventsCount>0?Vl(this._events):[]};function A0(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Tj(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Ij(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function _j(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}z0(t,e,s,{once:!0}),e!=="error"&&Aj(t,i,{once:!0})})}function Aj(t,e,r){typeof t.on=="function"&&z0(t,"error",e,r)}function z0(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var zj=_v.exports,pc;(function(t){t[t.Good=0]="Good",t[t.Error=1]="Error"})(pc||(pc={}));class O0{constructor(e=5){if(this.actives=0,this.completed=0,this.offset=0,this.operations=[],this.state=pc.Good,e<1)throw new RangeError("concurrency must be larger than 0");this.concurrency=e,this.emitter=new zj.EventEmitter}addOperation(e){this.operations.push(async()=>{try{this.actives++,await e(),this.actives--,this.completed++,this.parallelExecute()}catch(r){this.emitter.emit("error",r)}})}async do(){return this.operations.length===0?Promise.resolve():(this.parallelExecute(),new Promise((e,r)=>{this.emitter.on("finish",e),this.emitter.on("error",n=>{this.state=pc.Error,r(n)})}))}nextOperation(){return this.offset<this.operations.length?this.operations[this.offset++]:null}parallelExecute(){if(this.state!==pc.Error){if(this.completed>=this.operations.length){this.emitter.emit("finish");return}for(;this.actives<this.concurrency;){const e=this.nextOperation();if(e)e();else return}}}}class Oj{}async function Mj(t){const e=new FileReader;return new Promise((r,n)=>{e.onloadend=i=>{r(i.target.result)},e.onerror=n,e.readAsText(t)})}const kj=function(){},Dj=function(){};class nr extends bv{constructor(e,r,n,i){i=i||{};let s,o;if(Ai(r))o=e,s=r;else if(ve&&r instanceof Le||r instanceof ge||Xt(r))o=e,i=n,s=me(r,i);else if(!r&&typeof r!="string")o=e,n&&typeof n!="string"&&(i=n),s=me(new ge,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,c=n,l=qs(e);if(l.kind==="AccountConnString")if(ve){const u=new Le(l.accountName,l.accountKey);o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c)),i.proxyOptions||(i.proxyOptions=(l.proxyUri,void 0)),s=me(u,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(l.kind==="SASConnString")o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c))+"?"+l.accountSas,s=me(new ge,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(o,s),{blobName:this._name,containerName:this._containerName}=this.getBlobAndContainerNamesFromUrl(),this.blobContext=new Pv(this.storageClientContext),this._snapshot=Qy(this.url,Br.Parameters.SNAPSHOT),this._versionId=Qy(this.url,Br.Parameters.VERSIONID)}get name(){return this._name}get containerName(){return this._containerName}withSnapshot(e){return new nr(Ci(this.url,Br.Parameters.SNAPSHOT,e.length===0?void 0:e),this.pipeline)}withVersion(e){return new nr(Ci(this.url,Br.Parameters.VERSIONID,e.length===0?void 0:e),this.pipeline)}getAppendBlobClient(){return new fd(this.url,this.pipeline)}getBlockBlobClient(){return new vd(this.url,this.pipeline)}getPageBlobClient(){return new gd(this.url,this.pipeline)}async download(e=0,r,n={}){var i;n.conditions=n.conditions||{},n.conditions=n.conditions||{},De(n.customerProvidedKey,this.isHttps);const{span:s,updatedOptions:o}=T("BlobClient-download",n);try{const a=await this.blobContext.download(Object.assign({abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions}),requestOptions:{onDownloadProgress:ve?void 0:n.onProgress},range:e===0&&!r?void 0:Ot({offset:e,count:r}),rangeGetContentMD5:n.rangeGetContentMD5,rangeGetContentCRC64:n.rangeGetContentCrc64,snapshot:n.snapshot,cpkInfo:n.customerProvidedKey},D(o))),c=Object.assign(Object.assign({},a),{_response:a._response,objectReplicationDestinationPolicyId:a.objectReplicationPolicyId,objectReplicationSourceProperties:_u(a.objectReplicationRules)});if(!ve)return c;if((n.maxRetryRequests===void 0||n.maxRetryRequests<0)&&(n.maxRetryRequests=EL),a.contentLength===void 0)throw new RangeError("File download response doesn't contain valid content length header");if(!a.etag)throw new RangeError("File download response doesn't contain valid etag header");return new Cj(c,async l=>{var u;const d={leaseAccessConditions:n.conditions,modifiedAccessConditions:{ifMatch:n.conditions.ifMatch||a.etag,ifModifiedSince:n.conditions.ifModifiedSince,ifNoneMatch:n.conditions.ifNoneMatch,ifUnmodifiedSince:n.conditions.ifUnmodifiedSince,ifTags:(u=n.conditions)===null||u===void 0?void 0:u.tagConditions},range:Ot({count:e+a.contentLength-l,offset:l}),rangeGetContentMD5:n.rangeGetContentMD5,rangeGetContentCRC64:n.rangeGetContentCrc64,snapshot:n.snapshot,cpkInfo:n.customerProvidedKey};return(await this.blobContext.download(Object.assign({abortSignal:n.abortSignal},d))).readableStreamBody},e,a.contentLength,{maxRetryRequests:n.maxRetryRequests,onProgress:n.onProgress})}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async exists(e={}){const{span:r,updatedOptions:n}=T("BlobClient-exists",e);try{return De(e.customerProvidedKey,this.isHttps),await this.getProperties({abortSignal:e.abortSignal,customerProvidedKey:e.customerProvidedKey,conditions:e.conditions,tracingOptions:n.tracingOptions}),!0}catch(i){if(i.statusCode===404)return!1;if(i.statusCode===409&&(i.details.errorCode===AL||i.details.errorCode===zL))return!0;throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async getProperties(e={}){var r;const{span:n,updatedOptions:i}=T("BlobClient-getProperties",e);try{e.conditions=e.conditions||{},De(e.customerProvidedKey,this.isHttps);const s=await this.blobContext.getProperties(Object.assign({abortSignal:e.abortSignal,leaseAccessConditions:e.conditions,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions}),cpkInfo:e.customerProvidedKey},D(i)));return Object.assign(Object.assign({},s),{_response:s._response,objectReplicationDestinationPolicyId:s.objectReplicationPolicyId,objectReplicationSourceProperties:_u(s.objectReplicationRules)})}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async delete(e={}){var r;const{span:n,updatedOptions:i}=T("BlobClient-delete",e);e.conditions=e.conditions||{};try{return await this.blobContext.delete(Object.assign({abortSignal:e.abortSignal,deleteSnapshots:e.deleteSnapshots,leaseAccessConditions:e.conditions,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions})},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async deleteIfExists(e={}){var r,n;const{span:i,updatedOptions:s}=T("BlobClient-deleteIfExists",e);try{const o=await this.delete(s);return Object.assign(Object.assign({succeeded:!0},o),{_response:o._response})}catch(o){if(((r=o.details)===null||r===void 0?void 0:r.errorCode)==="BlobNotFound")return i.setStatus({code:w.ERROR,message:"Expected exception when deleting a blob or snapshot only if it exists."}),Object.assign(Object.assign({succeeded:!1},(n=o.response)===null||n===void 0?void 0:n.parsedHeaders),{_response:o.response});throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async undelete(e={}){const{span:r,updatedOptions:n}=T("BlobClient-undelete",e);try{return await this.blobContext.undelete(Object.assign({abortSignal:e.abortSignal},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async setHTTPHeaders(e,r={}){var n;const{span:i,updatedOptions:s}=T("BlobClient-setHTTPHeaders",r);r.conditions=r.conditions||{};try{return De(r.customerProvidedKey,this.isHttps),await this.blobContext.setHttpHeaders(Object.assign({abortSignal:r.abortSignal,blobHttpHeaders:e,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions})},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async setMetadata(e,r={}){var n;const{span:i,updatedOptions:s}=T("BlobClient-setMetadata",r);r.conditions=r.conditions||{};try{return De(r.customerProvidedKey,this.isHttps),await this.blobContext.setMetadata(Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:e,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async setTags(e,r={}){var n;const{span:i,updatedOptions:s}=T("BlobClient-setTags",r);try{return await this.blobContext.setTags(Object.assign(Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions})},D(s)),{tags:FL(e)}))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async getTags(e={}){var r;const{span:n,updatedOptions:i}=T("BlobClient-getTags",e);try{const s=await this.blobContext.getTags(Object.assign({abortSignal:e.abortSignal,leaseAccessConditions:e.conditions,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions})},D(i)));return Object.assign(Object.assign({},s),{_response:s._response,tags:uc({blobTagSet:s.blobTagSet})||{}})}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}getBlobLeaseClient(e){return new N0(this,e)}async createSnapshot(e={}){var r;const{span:n,updatedOptions:i}=T("BlobClient-createSnapshot",e);e.conditions=e.conditions||{};try{return De(e.customerProvidedKey,this.isHttps),await this.blobContext.createSnapshot(Object.assign({abortSignal:e.abortSignal,leaseAccessConditions:e.conditions,metadata:e.metadata,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions}),cpkInfo:e.customerProvidedKey,encryptionScope:e.encryptionScope},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async beginCopyFromURL(e,r={}){const n={abortCopyFromURL:(...s)=>this.abortCopyFromURL(...s),getProperties:(...s)=>this.getProperties(...s),startCopyFromURL:(...s)=>this.startCopyFromURL(...s)},i=new Rj({blobClient:n,copySource:e,intervalInMs:r.intervalInMs,onProgress:r.onProgress,resumeFrom:r.resumeFrom,startCopyFromURLOptions:r});return await i.poll(),i}async abortCopyFromURL(e,r={}){const{span:n,updatedOptions:i}=T("BlobClient-abortCopyFromURL",r);try{return await this.blobContext.abortCopyFromURL(e,Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async syncCopyFromURL(e,r={}){var n,i,s;const{span:o,updatedOptions:a}=T("BlobClient-syncCopyFromURL",r);r.conditions=r.conditions||{},r.sourceConditions=r.sourceConditions||{};try{return await this.blobContext.copyFromURL(e,Object.assign({abortSignal:r.abortSignal,metadata:r.metadata,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),sourceModifiedAccessConditions:{sourceIfMatch:r.sourceConditions.ifMatch,sourceIfModifiedSince:r.sourceConditions.ifModifiedSince,sourceIfNoneMatch:r.sourceConditions.ifNoneMatch,sourceIfUnmodifiedSince:r.sourceConditions.ifUnmodifiedSince},sourceContentMD5:r.sourceContentMD5,copySourceAuthorization:Dc(r.sourceAuthorization),tier:pi(r.tier),blobTagsString:di(r.tags),immutabilityPolicyExpiry:(i=r.immutabilityPolicy)===null||i===void 0?void 0:i.expiriesOn,immutabilityPolicyMode:(s=r.immutabilityPolicy)===null||s===void 0?void 0:s.policyMode,legalHold:r.legalHold,encryptionScope:r.encryptionScope,copySourceTags:r.copySourceTags},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async setAccessTier(e,r={}){var n;const{span:i,updatedOptions:s}=T("BlobClient-setAccessTier",r);try{return await this.blobContext.setTier(pi(e),Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),rehydratePriority:r.rehydratePriority},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async downloadToBuffer(e,r,n,i={}){let s,o=0,a=0,c=i;e instanceof Buffer?(s=e,o=r||0,a=typeof n=="number"?n:0):(o=typeof e=="number"?e:0,a=typeof r=="number"?r:0,c=n||{});const{span:l,updatedOptions:u}=T("BlobClient-downloadToBuffer",c);try{if(c.blockSize||(c.blockSize=0),c.blockSize<0)throw new RangeError("blockSize option must be >= 0");if(c.blockSize===0&&(c.blockSize=Wh),o<0)throw new RangeError("offset option must be >= 0");if(a&&a<=0)throw new RangeError("count option must be greater than 0");if(c.conditions||(c.conditions={}),!a){const m=await this.getProperties(Object.assign(Object.assign({},c),{tracingOptions:Object.assign(Object.assign({},c.tracingOptions),D(u))}));if(a=m.contentLength-o,a<0)throw new RangeError(`offset ${o} shouldn't be larger than blob size ${m.contentLength}`)}if(!s)try{s=Buffer.alloc(a)}catch(m){throw new Error(`Unable to allocate the buffer of size: ${a}(in bytes). Please try passing your own buffer to the "downloadToBuffer" method or try using other methods like "download" or "downloadToFile".	 ${m.message}`)}if(s.length<a)throw new RangeError(`The buffer's size should be equal to or larger than the request count of bytes: ${a}`);let d=0;const p=new O0(c.concurrency);for(let m=o;m<o+a;m=m+c.blockSize)p.addOperation(async()=>{let h=o+a;m+c.blockSize<h&&(h=m+c.blockSize);const y=(await this.download(m,h-m,{abortSignal:c.abortSignal,conditions:c.conditions,maxRetryRequests:c.maxRetryRequestsPerBlock,customerProvidedKey:c.customerProvidedKey,tracingOptions:Object.assign(Object.assign({},c.tracingOptions),D(u))})).readableStreamBody;await(m-o,h-o,void 0),d+=h-m,c.onProgress&&c.onProgress({loadedBytes:d})});return await p.do(),s}catch(d){throw l.setStatus({code:w.ERROR,message:d.message}),d}finally{l.end()}}async downloadToFile(e,r=0,n,i={}){const{span:s,updatedOptions:o}=T("BlobClient-downloadToFile",i);try{const a=await this.download(r,n,Object.assign(Object.assign({},i),{tracingOptions:Object.assign(Object.assign({},i.tracingOptions),D(o))}));return a.readableStreamBody&&await(a.readableStreamBody,void 0),a.blobDownloadStream=void 0,a}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}getBlobAndContainerNamesFromUrl(){let e,r;try{const n=He.parse(this.url);if(n.getHost().split(".")[1]==="blob"){const i=n.getPath().match("/([^/]*)(/(.*))?");e=i[1],r=i[3]}else if(Ev(n)){const i=n.getPath().match("/([^/]*)/([^/]*)(/(.*))?");e=i[2],r=i[4]}else{const i=n.getPath().match("/([^/]*)(/(.*))?");e=i[1],r=i[3]}if(e=decodeURIComponent(e),r=decodeURIComponent(r),r=r.replace(/\\/g,"/"),!e)throw new Error("Provided containerName is invalid.");return{blobName:r,containerName:e}}catch{throw new Error("Unable to extract blobName and containerName with provided information.")}}async startCopyFromURL(e,r={}){var n,i,s;const{span:o,updatedOptions:a}=T("BlobClient-startCopyFromURL",r);r.conditions=r.conditions||{},r.sourceConditions=r.sourceConditions||{};try{return await this.blobContext.startCopyFromURL(e,Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),sourceModifiedAccessConditions:{sourceIfMatch:r.sourceConditions.ifMatch,sourceIfModifiedSince:r.sourceConditions.ifModifiedSince,sourceIfNoneMatch:r.sourceConditions.ifNoneMatch,sourceIfUnmodifiedSince:r.sourceConditions.ifUnmodifiedSince,sourceIfTags:r.sourceConditions.tagConditions},immutabilityPolicyExpiry:(i=r.immutabilityPolicy)===null||i===void 0?void 0:i.expiriesOn,immutabilityPolicyMode:(s=r.immutabilityPolicy)===null||s===void 0?void 0:s.policyMode,legalHold:r.legalHold,rehydratePriority:r.rehydratePriority,tier:pi(r.tier),blobTagsString:di(r.tags),sealBlob:r.sealBlob},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}generateSasUrl(e){return new Promise(r=>{if(!(this.credential instanceof Le))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");const n=x0(Object.assign({containerName:this._containerName,blobName:this._name,snapshotTime:this._snapshot,versionId:this._versionId},e),this.credential).toString();r(Nv(this.url,n))})}async deleteImmutabilityPolicy(e){const{span:r,updatedOptions:n}=T("BlobClient-deleteImmutabilityPolicy",e);try{return await this.blobContext.deleteImmutabilityPolicy(Object.assign({abortSignal:e==null?void 0:e.abortSignal},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async setImmutabilityPolicy(e,r){const{span:n,updatedOptions:i}=T("BlobClient-setImmutabilityPolicy",r);try{return await this.blobContext.setImmutabilityPolicy(Object.assign({abortSignal:r==null?void 0:r.abortSignal,immutabilityPolicyExpiry:e.expiriesOn,immutabilityPolicyMode:e.policyMode,modifiedAccessConditions:r==null?void 0:r.modifiedAccessCondition},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async setLegalHold(e,r){const{span:n,updatedOptions:i}=T("BlobClient-setLegalHold",r);try{return await this.blobContext.setLegalHold(e,Object.assign({abortSignal:r==null?void 0:r.abortSignal},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}}class fd extends nr{constructor(e,r,n,i){let s,o;if(i=i||{},Ai(r))o=e,s=r;else if(ve&&r instanceof Le||r instanceof ge||Xt(r))o=e,i=n,s=me(r,i);else if(!r&&typeof r!="string")o=e,s=me(new ge,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,c=n,l=qs(e);if(l.kind==="AccountConnString")if(ve){const u=new Le(l.accountName,l.accountKey);o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c)),i.proxyOptions||(i.proxyOptions=(l.proxyUri,void 0)),s=me(u,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(l.kind==="SASConnString")o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c))+"?"+l.accountSas,s=me(new ge,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(o,s),this.appendBlobContext=new uL(this.storageClientContext)}withSnapshot(e){return new fd(Ci(this.url,Br.Parameters.SNAPSHOT,e.length===0?void 0:e),this.pipeline)}async create(e={}){var r,n,i;const{span:s,updatedOptions:o}=T("AppendBlobClient-create",e);e.conditions=e.conditions||{};try{return De(e.customerProvidedKey,this.isHttps),await this.appendBlobContext.create(0,Object.assign({abortSignal:e.abortSignal,blobHttpHeaders:e.blobHTTPHeaders,leaseAccessConditions:e.conditions,metadata:e.metadata,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions}),cpkInfo:e.customerProvidedKey,encryptionScope:e.encryptionScope,immutabilityPolicyExpiry:(n=e.immutabilityPolicy)===null||n===void 0?void 0:n.expiriesOn,immutabilityPolicyMode:(i=e.immutabilityPolicy)===null||i===void 0?void 0:i.policyMode,legalHold:e.legalHold,blobTagsString:di(e.tags)},D(o)))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async createIfNotExists(e={}){var r,n;const{span:i,updatedOptions:s}=T("AppendBlobClient-createIfNotExists",e),o={ifNoneMatch:f0};try{const a=await this.create(Object.assign(Object.assign({},s),{conditions:o}));return Object.assign(Object.assign({succeeded:!0},a),{_response:a._response})}catch(a){if(((r=a.details)===null||r===void 0?void 0:r.errorCode)==="BlobAlreadyExists")return i.setStatus({code:w.ERROR,message:"Expected exception when creating a blob only if it does not already exist."}),Object.assign(Object.assign({succeeded:!1},(n=a.response)===null||n===void 0?void 0:n.parsedHeaders),{_response:a.response});throw i.setStatus({code:w.ERROR,message:a.message}),a}finally{i.end()}}async seal(e={}){var r;const{span:n,updatedOptions:i}=T("AppendBlobClient-seal",e);e.conditions=e.conditions||{};try{return await this.appendBlobContext.seal(Object.assign({abortSignal:e.abortSignal,appendPositionAccessConditions:e.conditions,leaseAccessConditions:e.conditions,modifiedAccessConditions:Object.assign(Object.assign({},e.conditions),{ifTags:(r=e.conditions)===null||r===void 0?void 0:r.tagConditions})},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async appendBlock(e,r,n={}){var i;const{span:s,updatedOptions:o}=T("AppendBlobClient-appendBlock",n);n.conditions=n.conditions||{};try{return De(n.customerProvidedKey,this.isHttps),await this.appendBlobContext.appendBlock(r,e,Object.assign({abortSignal:n.abortSignal,appendPositionAccessConditions:n.conditions,leaseAccessConditions:n.conditions,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions}),requestOptions:{onUploadProgress:n.onProgress},transactionalContentMD5:n.transactionalContentMD5,transactionalContentCrc64:n.transactionalContentCrc64,cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope},D(o)))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async appendBlockFromURL(e,r,n,i={}){var s;const{span:o,updatedOptions:a}=T("AppendBlobClient-appendBlockFromURL",i);i.conditions=i.conditions||{},i.sourceConditions=i.sourceConditions||{};try{return De(i.customerProvidedKey,this.isHttps),await this.appendBlobContext.appendBlockFromUrl(e,0,Object.assign({abortSignal:i.abortSignal,sourceRange:Ot({offset:r,count:n}),sourceContentMD5:i.sourceContentMD5,sourceContentCrc64:i.sourceContentCrc64,leaseAccessConditions:i.conditions,appendPositionAccessConditions:i.conditions,modifiedAccessConditions:Object.assign(Object.assign({},i.conditions),{ifTags:(s=i.conditions)===null||s===void 0?void 0:s.tagConditions}),sourceModifiedAccessConditions:{sourceIfMatch:i.sourceConditions.ifMatch,sourceIfModifiedSince:i.sourceConditions.ifModifiedSince,sourceIfNoneMatch:i.sourceConditions.ifNoneMatch,sourceIfUnmodifiedSince:i.sourceConditions.ifUnmodifiedSince},copySourceAuthorization:Dc(i.sourceAuthorization),cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}}class vd extends nr{constructor(e,r,n,i){let s,o;if(i=i||{},Ai(r))o=e,s=r;else if(ve&&r instanceof Le||r instanceof ge||Xt(r))o=e,i=n,s=me(r,i);else if(!r&&typeof r!="string")o=e,n&&typeof n!="string"&&(i=n),s=me(new ge,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,c=n,l=qs(e);if(l.kind==="AccountConnString")if(ve){const u=new Le(l.accountName,l.accountKey);o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c)),i.proxyOptions||(i.proxyOptions=(l.proxyUri,void 0)),s=me(u,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(l.kind==="SASConnString")o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c))+"?"+l.accountSas,s=me(new ge,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(o,s),this.blockBlobContext=new vL(this.storageClientContext),this._blobContext=new Pv(this.storageClientContext)}withSnapshot(e){return new vd(Ci(this.url,Br.Parameters.SNAPSHOT,e.length===0?void 0:e),this.pipeline)}async query(e,r={}){var n;De(r.customerProvidedKey,this.isHttps);const{span:i,updatedOptions:s}=T("BlockBlobClient-query",r);try{if(!ve)throw new Error("This operation currently is only supported in Node.js.");De(r.customerProvidedKey,this.isHttps);const o=await this._blobContext.query(Object.assign({abortSignal:r.abortSignal,queryRequest:{queryType:"SQL",expression:e,inputSerialization:Xy(r.inputTextConfiguration),outputSerialization:Xy(r.outputTextConfiguration)},leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),cpkInfo:r.customerProvidedKey},D(s)));return new Sj(o,{abortSignal:r.abortSignal,onProgress:r.onProgress,onError:r.onError})}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async upload(e,r,n={}){var i,s,o;n.conditions=n.conditions||{};const{span:a,updatedOptions:c}=T("BlockBlobClient-upload",n);try{return De(n.customerProvidedKey,this.isHttps),await this.blockBlobContext.upload(r,e,Object.assign({abortSignal:n.abortSignal,blobHttpHeaders:n.blobHTTPHeaders,leaseAccessConditions:n.conditions,metadata:n.metadata,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions}),requestOptions:{onUploadProgress:n.onProgress},cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope,immutabilityPolicyExpiry:(s=n.immutabilityPolicy)===null||s===void 0?void 0:s.expiriesOn,immutabilityPolicyMode:(o=n.immutabilityPolicy)===null||o===void 0?void 0:o.policyMode,legalHold:n.legalHold,tier:pi(n.tier),blobTagsString:di(n.tags)},D(c)))}catch(l){throw a.setStatus({code:w.ERROR,message:l.message}),l}finally{a.end()}}async syncUploadFromURL(e,r={}){var n,i,s,o,a;r.conditions=r.conditions||{};const{span:c,updatedOptions:l}=T("BlockBlobClient-syncUploadFromURL",r);try{return De(r.customerProvidedKey,this.isHttps),await this.blockBlobContext.putBlobFromUrl(0,e,Object.assign(Object.assign(Object.assign({},r),{blobHttpHeaders:r.blobHTTPHeaders,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:r.conditions.tagConditions}),sourceModifiedAccessConditions:{sourceIfMatch:(n=r.sourceConditions)===null||n===void 0?void 0:n.ifMatch,sourceIfModifiedSince:(i=r.sourceConditions)===null||i===void 0?void 0:i.ifModifiedSince,sourceIfNoneMatch:(s=r.sourceConditions)===null||s===void 0?void 0:s.ifNoneMatch,sourceIfUnmodifiedSince:(o=r.sourceConditions)===null||o===void 0?void 0:o.ifUnmodifiedSince,sourceIfTags:(a=r.sourceConditions)===null||a===void 0?void 0:a.tagConditions},cpkInfo:r.customerProvidedKey,copySourceAuthorization:Dc(r.sourceAuthorization),tier:pi(r.tier),blobTagsString:di(r.tags),copySourceTags:r.copySourceTags}),D(l)))}catch(u){throw c.setStatus({code:w.ERROR,message:u.message}),u}finally{c.end()}}async stageBlock(e,r,n,i={}){const{span:s,updatedOptions:o}=T("BlockBlobClient-stageBlock",i);try{return De(i.customerProvidedKey,this.isHttps),await this.blockBlobContext.stageBlock(e,n,r,Object.assign({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,requestOptions:{onUploadProgress:i.onProgress},transactionalContentMD5:i.transactionalContentMD5,transactionalContentCrc64:i.transactionalContentCrc64,cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope},D(o)))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async stageBlockFromURL(e,r,n=0,i,s={}){const{span:o,updatedOptions:a}=T("BlockBlobClient-stageBlockFromURL",s);try{return De(s.customerProvidedKey,this.isHttps),await this.blockBlobContext.stageBlockFromURL(e,0,r,Object.assign({abortSignal:s.abortSignal,leaseAccessConditions:s.conditions,sourceContentMD5:s.sourceContentMD5,sourceContentCrc64:s.sourceContentCrc64,sourceRange:n===0&&!i?void 0:Ot({offset:n,count:i}),cpkInfo:s.customerProvidedKey,encryptionScope:s.encryptionScope,copySourceAuthorization:Dc(s.sourceAuthorization)},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async commitBlockList(e,r={}){var n,i,s;r.conditions=r.conditions||{};const{span:o,updatedOptions:a}=T("BlockBlobClient-commitBlockList",r);try{return De(r.customerProvidedKey,this.isHttps),await this.blockBlobContext.commitBlockList({latest:e},Object.assign({abortSignal:r.abortSignal,blobHttpHeaders:r.blobHTTPHeaders,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope,immutabilityPolicyExpiry:(i=r.immutabilityPolicy)===null||i===void 0?void 0:i.expiriesOn,immutabilityPolicyMode:(s=r.immutabilityPolicy)===null||s===void 0?void 0:s.policyMode,legalHold:r.legalHold,tier:pi(r.tier),blobTagsString:di(r.tags)},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async getBlockList(e,r={}){var n;const{span:i,updatedOptions:s}=T("BlockBlobClient-getBlockList",r);try{const o=await this.blockBlobContext.getBlockList(e,Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions})},D(s)));return o.committedBlocks||(o.committedBlocks=[]),o.uncommittedBlocks||(o.uncommittedBlocks=[]),o}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async uploadData(e,r={}){const{span:n,updatedOptions:i}=T("BlockBlobClient-uploadData",r);try{if(ve){let s;return e instanceof Buffer?s=e:e instanceof ArrayBuffer?s=Buffer.from(e):(e=e,s=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),this.uploadSeekableInternal((o,a)=>s.slice(o,o+a),s.byteLength,i)}else{const s=new Blob([e]);return this.uploadSeekableInternal((o,a)=>s.slice(o,o+a),s.size,i)}}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async uploadBrowserData(e,r={}){const{span:n,updatedOptions:i}=T("BlockBlobClient-uploadBrowserData",r);try{const s=new Blob([e]);return await this.uploadSeekableInternal((o,a)=>s.slice(o,o+a),s.size,i)}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async uploadSeekableInternal(e,r,n={}){if(n.blockSize||(n.blockSize=0),n.blockSize<0||n.blockSize>pm)throw new RangeError(`blockSize option must be >= 0 and <= ${pm}`);if(n.maxSingleShotSize!==0&&!n.maxSingleShotSize&&(n.maxSingleShotSize=dm),n.maxSingleShotSize<0||n.maxSingleShotSize>dm)throw new RangeError(`maxSingleShotSize option must be >= 0 and <= ${dm}`);if(n.blockSize===0){if(r>pm*Il)throw new RangeError(`${r} is too larger to upload to a block blob.`);r>n.maxSingleShotSize&&(n.blockSize=Math.ceil(r/Il),n.blockSize<Wh&&(n.blockSize=Wh))}n.blobHTTPHeaders||(n.blobHTTPHeaders={}),n.conditions||(n.conditions={});const{span:i,updatedOptions:s}=T("BlockBlobClient-uploadSeekableInternal",n);try{if(r<=n.maxSingleShotSize)return await this.upload(e(0,r),r,s);const o=Math.floor((r-1)/n.blockSize)+1;if(o>Il)throw new RangeError(`The buffer's size is too big or the BlockSize is too small;the number of blocks must be <= ${Il}`);const a=[],c=yi();let l=0;const u=new O0(n.concurrency);for(let d=0;d<o;d++)u.addOperation(async()=>{const p=Jy(c,d),m=n.blockSize*d,v=(d===o-1?r:m+n.blockSize)-m;a.push(p),await this.stageBlock(p,e(m,v),v,{abortSignal:n.abortSignal,conditions:n.conditions,encryptionScope:n.encryptionScope,tracingOptions:s.tracingOptions}),l+=v,n.onProgress&&n.onProgress({loadedBytes:l})});return await u.do(),this.commitBlockList(a,s)}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async uploadFile(e,r={}){const{span:n,updatedOptions:i}=T("BlockBlobClient-uploadFile",r);try{const s=(await kj(e)).size;return await this.uploadSeekableInternal((o,a)=>()=>Dj(e,{autoClose:!0,end:a?o+a-1:1/0,start:o}),s,Object.assign(Object.assign({},r),{tracingOptions:Object.assign(Object.assign({},r.tracingOptions),D(i))}))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async uploadStream(e,r=NL,n=5,i={}){i.blobHTTPHeaders||(i.blobHTTPHeaders={}),i.conditions||(i.conditions={});const{span:s,updatedOptions:o}=T("BlockBlobClient-uploadStream",i);try{let a=0;const c=yi();let l=0;const u=[];return await new Oj(e,r,n,async(p,m)=>{const h=Jy(c,a);u.push(h),a++,await this.stageBlock(h,p,m,{conditions:i.conditions,encryptionScope:i.encryptionScope,tracingOptions:o.tracingOptions}),l+=m,i.onProgress&&i.onProgress({loadedBytes:l})},Math.ceil(n/4*3)).do(),await this.commitBlockList(u,Object.assign(Object.assign({},i),{tracingOptions:Object.assign(Object.assign({},i.tracingOptions),D(o))}))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}}class gd extends nr{constructor(e,r,n,i){let s,o;if(i=i||{},Ai(r))o=e,s=r;else if(ve&&r instanceof Le||r instanceof ge||Xt(r))o=e,i=n,s=me(r,i);else if(!r&&typeof r!="string")o=e,s=me(new ge,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,c=n,l=qs(e);if(l.kind==="AccountConnString")if(ve){const u=new Le(l.accountName,l.accountKey);o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c)),i.proxyOptions||(i.proxyOptions=(l.proxyUri,void 0)),s=me(u,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(l.kind==="SASConnString")o=Re(Re(l.url,encodeURIComponent(a)),encodeURIComponent(c))+"?"+l.accountSas,s=me(new ge,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(o,s),this.pageBlobContext=new ZB(this.storageClientContext)}withSnapshot(e){return new gd(Ci(this.url,Br.Parameters.SNAPSHOT,e.length===0?void 0:e),this.pipeline)}async create(e,r={}){var n,i,s;r.conditions=r.conditions||{};const{span:o,updatedOptions:a}=T("PageBlobClient-create",r);try{return De(r.customerProvidedKey,this.isHttps),await this.pageBlobContext.create(0,e,Object.assign({abortSignal:r.abortSignal,blobHttpHeaders:r.blobHTTPHeaders,blobSequenceNumber:r.blobSequenceNumber,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope,immutabilityPolicyExpiry:(i=r.immutabilityPolicy)===null||i===void 0?void 0:i.expiriesOn,immutabilityPolicyMode:(s=r.immutabilityPolicy)===null||s===void 0?void 0:s.policyMode,legalHold:r.legalHold,tier:pi(r.tier),blobTagsString:di(r.tags)},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async createIfNotExists(e,r={}){var n,i;const{span:s,updatedOptions:o}=T("PageBlobClient-createIfNotExists",r);try{const a={ifNoneMatch:f0},c=await this.create(e,Object.assign(Object.assign({},r),{conditions:a,tracingOptions:o.tracingOptions}));return Object.assign(Object.assign({succeeded:!0},c),{_response:c._response})}catch(a){if(((n=a.details)===null||n===void 0?void 0:n.errorCode)==="BlobAlreadyExists")return s.setStatus({code:w.ERROR,message:"Expected exception when creating a blob only if it does not already exist."}),Object.assign(Object.assign({succeeded:!1},(i=a.response)===null||i===void 0?void 0:i.parsedHeaders),{_response:a.response});throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async uploadPages(e,r,n,i={}){var s;i.conditions=i.conditions||{};const{span:o,updatedOptions:a}=T("PageBlobClient-uploadPages",i);try{return De(i.customerProvidedKey,this.isHttps),await this.pageBlobContext.uploadPages(n,e,Object.assign({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:Object.assign(Object.assign({},i.conditions),{ifTags:(s=i.conditions)===null||s===void 0?void 0:s.tagConditions}),requestOptions:{onUploadProgress:i.onProgress},range:Ot({offset:r,count:n}),sequenceNumberAccessConditions:i.conditions,transactionalContentMD5:i.transactionalContentMD5,transactionalContentCrc64:i.transactionalContentCrc64,cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async uploadPagesFromURL(e,r,n,i,s={}){var o;s.conditions=s.conditions||{},s.sourceConditions=s.sourceConditions||{};const{span:a,updatedOptions:c}=T("PageBlobClient-uploadPagesFromURL",s);try{return De(s.customerProvidedKey,this.isHttps),await this.pageBlobContext.uploadPagesFromURL(e,Ot({offset:r,count:i}),0,Ot({offset:n,count:i}),Object.assign({abortSignal:s.abortSignal,sourceContentMD5:s.sourceContentMD5,sourceContentCrc64:s.sourceContentCrc64,leaseAccessConditions:s.conditions,sequenceNumberAccessConditions:s.conditions,modifiedAccessConditions:Object.assign(Object.assign({},s.conditions),{ifTags:(o=s.conditions)===null||o===void 0?void 0:o.tagConditions}),sourceModifiedAccessConditions:{sourceIfMatch:s.sourceConditions.ifMatch,sourceIfModifiedSince:s.sourceConditions.ifModifiedSince,sourceIfNoneMatch:s.sourceConditions.ifNoneMatch,sourceIfUnmodifiedSince:s.sourceConditions.ifUnmodifiedSince},cpkInfo:s.customerProvidedKey,encryptionScope:s.encryptionScope,copySourceAuthorization:Dc(s.sourceAuthorization)},D(c)))}catch(l){throw a.setStatus({code:w.ERROR,message:l.message}),l}finally{a.end()}}async clearPages(e=0,r,n={}){var i;n.conditions=n.conditions||{};const{span:s,updatedOptions:o}=T("PageBlobClient-clearPages",n);try{return await this.pageBlobContext.clearPages(0,Object.assign({abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions}),range:Ot({offset:e,count:r}),sequenceNumberAccessConditions:n.conditions,cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope},D(o)))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async getPageRanges(e=0,r,n={}){var i;n.conditions=n.conditions||{};const{span:s,updatedOptions:o}=T("PageBlobClient-getPageRanges",n);try{return await this.pageBlobContext.getPageRanges(Object.assign({abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions}),range:Ot({offset:e,count:r})},D(o))).then(hm)}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async listPageRangesSegment(e=0,r,n,i={}){var s;const{span:o,updatedOptions:a}=T("PageBlobClient-getPageRangesSegment",i);try{return await this.pageBlobContext.getPageRanges(Object.assign({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:Object.assign(Object.assign({},i.conditions),{ifTags:(s=i.conditions)===null||s===void 0?void 0:s.tagConditions}),range:Ot({offset:e,count:r}),marker:n,maxPageSize:i.maxPageSize},D(a)))}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}listPageRangeItemSegments(e=0,r,n,i={}){return Et(this,arguments,function*(){let o;if(n||n===void 0)do o=yield W(this.listPageRangesSegment(e,r,n,i)),n=o.continuationToken,yield yield W(yield W(o));while(n)})}listPageRangeItems(e=0,r,n={}){return Et(this,arguments,function*(){var s,o;let a;try{for(var c=kt(this.listPageRangeItemSegments(e,r,a,n)),l;l=yield W(c.next()),!l.done;){const u=l.value;yield W(yield*vs(kt(Yy(u))))}}catch(u){s={error:u}}finally{try{l&&!l.done&&(o=c.return)&&(yield W(o.call(c)))}finally{if(s)throw s.error}}})}listPageRanges(e=0,r,n={}){n.conditions=n.conditions||{};const i=this.listPageRangeItems(e,r,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(s={})=>this.listPageRangeItemSegments(e,r,s.continuationToken,Object.assign({maxPageSize:s.maxPageSize},n))}}async getPageRangesDiff(e,r,n,i={}){var s;i.conditions=i.conditions||{};const{span:o,updatedOptions:a}=T("PageBlobClient-getPageRangesDiff",i);try{return await this.pageBlobContext.getPageRangesDiff(Object.assign({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:Object.assign(Object.assign({},i.conditions),{ifTags:(s=i.conditions)===null||s===void 0?void 0:s.tagConditions}),prevsnapshot:n,range:Ot({offset:e,count:r})},D(a))).then(hm)}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async listPageRangesDiffSegment(e,r,n,i,s){var o;const{span:a,updatedOptions:c}=T("PageBlobClient-getPageRangesDiffSegment",s);try{return await this.pageBlobContext.getPageRangesDiff(Object.assign({abortSignal:s==null?void 0:s.abortSignal,leaseAccessConditions:s==null?void 0:s.conditions,modifiedAccessConditions:Object.assign(Object.assign({},s==null?void 0:s.conditions),{ifTags:(o=s==null?void 0:s.conditions)===null||o===void 0?void 0:o.tagConditions}),prevsnapshot:n,range:Ot({offset:e,count:r}),marker:i,maxPageSize:s==null?void 0:s.maxPageSize},D(c)))}catch(l){throw a.setStatus({code:w.ERROR,message:l.message}),l}finally{a.end()}}listPageRangeDiffItemSegments(e,r,n,i,s){return Et(this,arguments,function*(){let a;if(i||i===void 0)do a=yield W(this.listPageRangesDiffSegment(e,r,n,i,s)),i=a.continuationToken,yield yield W(yield W(a));while(i)})}listPageRangeDiffItems(e,r,n,i){return Et(this,arguments,function*(){var o,a;let c;try{for(var l=kt(this.listPageRangeDiffItemSegments(e,r,n,c,i)),u;u=yield W(l.next()),!u.done;){const d=u.value;yield W(yield*vs(kt(Yy(d))))}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=l.return)&&(yield W(a.call(l)))}finally{if(o)throw o.error}}})}listPageRangesDiff(e,r,n,i={}){i.conditions=i.conditions||{};const s=this.listPageRangeDiffItems(e,r,n,Object.assign({},i));return{next(){return s.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.listPageRangeDiffItemSegments(e,r,n,o.continuationToken,Object.assign({maxPageSize:o.maxPageSize},i))}}async getPageRangesDiffForManagedDisks(e,r,n,i={}){var s;i.conditions=i.conditions||{};const{span:o,updatedOptions:a}=T("PageBlobClient-GetPageRangesDiffForManagedDisks",i);try{return await this.pageBlobContext.getPageRangesDiff(Object.assign({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:Object.assign(Object.assign({},i.conditions),{ifTags:(s=i.conditions)===null||s===void 0?void 0:s.tagConditions}),prevSnapshotUrl:n,range:Ot({offset:e,count:r})},D(a))).then(hm)}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async resize(e,r={}){var n;r.conditions=r.conditions||{};const{span:i,updatedOptions:s}=T("PageBlobClient-resize",r);try{return await this.pageBlobContext.resize(e,Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions}),encryptionScope:r.encryptionScope},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async updateSequenceNumber(e,r,n={}){var i;n.conditions=n.conditions||{};const{span:s,updatedOptions:o}=T("PageBlobClient-updateSequenceNumber",n);try{return await this.pageBlobContext.updateSequenceNumber(e,Object.assign({abortSignal:n.abortSignal,blobSequenceNumber:r,leaseAccessConditions:n.conditions,modifiedAccessConditions:Object.assign(Object.assign({},n.conditions),{ifTags:(i=n.conditions)===null||i===void 0?void 0:i.tagConditions})},D(o)))}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async startCopyIncremental(e,r={}){var n;const{span:i,updatedOptions:s}=T("PageBlobClient-startCopyIncremental",r);try{return await this.pageBlobContext.copyIncremental(e,Object.assign({abortSignal:r.abortSignal,modifiedAccessConditions:Object.assign(Object.assign({},r.conditions),{ifTags:(n=r.conditions)===null||n===void 0?void 0:n.tagConditions})},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}}async function Bj(t){const e=await t.blobBody;return Mj(e)}function Lj(t){return new Blob([t]).size}const Al=": ",oC=" ",aC=-1;class jj{constructor(e,r){if(!e||!e.contentType)throw new RangeError("batchResponse is malformed or doesn't contain valid content-type.");if(!r||r.size===0)throw new RangeError("Invalid state: subRequests is not provided or size is 0.");this.batchResponse=e,this.subRequests=r,this.responseBatchBoundary=this.batchResponse.contentType.split("=")[1],this.perResponsePrefix=`--${this.responseBatchBoundary}${zr}`,this.batchResponseEnding=`--${this.responseBatchBoundary}--`}async parseBatchResponse(){if(this.batchResponse._response.status!==wL.HTTP_ACCEPTED)throw new Error(`Invalid state: batch request failed with status: '${this.batchResponse._response.status}'.`);const r=(await Bj(this.batchResponse)).split(this.batchResponseEnding)[0].split(this.perResponsePrefix).slice(1),n=r.length;if(n!==this.subRequests.size&&n!==1)throw new Error("Invalid state: sub responses' count is not equal to sub requests' count.");const i=new Array(n);let s=0,o=0;for(let a=0;a<n;a++){const c=r[a],l={};l.headers=new bn;const u=c.split(`${zr}`);let d=!1,p=!1,m=!1,h=aC;for(const v of u){if(!d){if(v.startsWith(Rr.CONTENT_ID)&&(h=parseInt(v.split(Al)[1])),v.startsWith(v0)){d=!0;const y=v.split(oC);l.status=parseInt(y[1]),l.statusMessage=y.slice(2).join(oC)}continue}if(v.trim()===""){p||(p=!0);continue}if(p)l.bodyAsText||(l.bodyAsText=""),l.bodyAsText+=v;else{if(v.indexOf(Al)===-1)throw new Error(`Invalid state: find non-empty line '${v}' without HTTP header delimiter '${Al}'.`);const y=v.split(Al);l.headers.set(y[0],y[1]),y[0]===Rr.X_MS_ERROR_CODE&&(l.errorCode=y[1],m=!0)}}h!==aC&&Number.isInteger(h)&&h>=0&&h<this.subRequests.size&&i[h]===void 0?(l._request=this.subRequests.get(h),i[h]=l):fr.error(`subResponses[${a}] is dropped as the Content-ID is not found or invalid, Content-ID: ${h}`),m?o++:s++}return{subResponses:i,subResponsesSucceededCount:s,subResponsesFailedCount:o}}}var Xi;(function(t){t[t.LOCKED=0]="LOCKED",t[t.UNLOCKED=1]="UNLOCKED"})(Xi||(Xi={}));class Au{static async lock(e){return new Promise(r=>{this.keys[e]===void 0||this.keys[e]===Xi.UNLOCKED?(this.keys[e]=Xi.LOCKED,r()):this.onUnlockEvent(e,()=>{this.keys[e]=Xi.LOCKED,r()})})}static async unlock(e){return new Promise(r=>{this.keys[e]===Xi.LOCKED&&this.emitUnlockEvent(e),delete this.keys[e],r()})}static onUnlockEvent(e,r){this.listeners[e]===void 0?this.listeners[e]=[r]:this.listeners[e].push(r)}static emitUnlockEvent(e){if(this.listeners[e]!==void 0&&this.listeners[e].length>0){const r=this.listeners[e].shift();setImmediate(()=>{r.call(this)})}}}Au.keys={};Au.listeners={};class fm{constructor(){this.batch="batch",this.batchRequest=new qj}getMultiPartContentType(){return this.batchRequest.getMultipartContentType()}getHttpRequestBody(){return this.batchRequest.getHttpRequestBody()}getSubRequests(){return this.batchRequest.getSubRequests()}async addSubRequestInternal(e,r){await Au.lock(this.batch);try{this.batchRequest.preAddSubRequest(e),await r(),this.batchRequest.postAddSubRequest(e)}finally{await Au.unlock(this.batch)}}setBatchType(e){if(this.batchType||(this.batchType=e),this.batchType!==e)throw new RangeError(`BlobBatch only supports one operation type per batch and it already is being used for ${this.batchType} operations.`)}async deleteBlob(e,r,n){let i,s;if(typeof e=="string"&&(ve&&r instanceof Le||r instanceof ge||Xt(r)))i=e,s=r;else if(e instanceof nr)i=e.url,s=e.credential,n=r;else throw new RangeError("Invalid arguments. Either url and credential, or BlobClient need be provided.");n||(n={});const{span:o,updatedOptions:a}=T("BatchDeleteRequest-addSubRequest",n);try{this.setBatchType("delete"),await this.addSubRequestInternal({url:i,credential:s},async()=>{await new nr(i,this.batchRequest.createPipeline(s)).delete(a)})}catch(c){throw o.setStatus({code:w.ERROR,message:c.message}),c}finally{o.end()}}async setBlobAccessTier(e,r,n,i){let s,o,a;if(typeof e=="string"&&(ve&&r instanceof Le||r instanceof ge||Xt(r)))s=e,o=r,a=n;else if(e instanceof nr)s=e.url,o=e.credential,a=r,i=n;else throw new RangeError("Invalid arguments. Either url and credential, or BlobClient need be provided.");i||(i={});const{span:c,updatedOptions:l}=T("BatchSetTierRequest-addSubRequest",i);try{this.setBatchType("setAccessTier"),await this.addSubRequestInternal({url:s,credential:o},async()=>{await new nr(s,this.batchRequest.createPipeline(o)).setAccessTier(a,l)})}catch(u){throw c.setStatus({code:w.ERROR,message:u.message}),u}finally{c.end()}}}class qj{constructor(){this.operationCount=0,this.body="";const e=yi();this.boundary=`batch_${e}`,this.subRequestPrefix=`--${this.boundary}${zr}${Rr.CONTENT_TYPE}: application/http${zr}${Rr.CONTENT_TRANSFER_ENCODING}: binary`,this.multipartContentType=`multipart/mixed; boundary=${this.boundary}`,this.batchRequestEnding=`--${this.boundary}--`,this.subRequests=new Map}createPipeline(e){const r=e instanceof ge,n=3+(r?0:1),i=new Array(n);return i[0]=Qf(),i[1]=new $j,r||(i[2]=Xt(e)?S0(DN(e,h0),e):e),i[n-1]=new Uj(this),new R0(i,{})}appendSubRequestToBody(e){this.body+=[this.subRequestPrefix,`${Rr.CONTENT_ID}: ${this.operationCount}`,"",`${e.method.toString()} ${jL(e.url)} ${v0}${zr}`].join(zr);for(const r of e.headers.headersArray())this.body+=`${r.name}: ${r.value}${zr}`;this.body+=zr}preAddSubRequest(e){if(this.operationCount>=Gy)throw new RangeError(`Cannot exceed ${Gy} sub requests in a single batch`);const r=g0(e.url);if(!r||r==="")throw new RangeError(`Invalid url for sub request: '${e.url}'`)}postAddSubRequest(e){this.subRequests.set(this.operationCount,e),this.operationCount++}getHttpRequestBody(){return`${this.body}${this.batchRequestEnding}${zr}`}getMultipartContentType(){return this.multipartContentType}getSubRequests(){return this.subRequests}}class Hj extends Oe{constructor(e,r,n){super(r,n),this.dummyResponse={request:new Ac,status:200,headers:new bn},this.batchRequest=e}async sendRequest(e){return await this.batchRequest.appendSubRequestToBody(e),this.dummyResponse}}class Uj{constructor(e){this.batchRequest=e}create(e,r){return new Hj(this.batchRequest,e,r)}}class Fj extends Oe{constructor(e,r){super(e,r)}async sendRequest(e){let r="";for(const n of e.headers.headersArray())y0(n.name,Rr.X_MS_VERSION)&&(r=n.name);return r!==""&&e.headers.remove(r),this._nextPolicy.sendRequest(e)}}class $j{create(e,r){return new Fj(e,r)}}class M0{constructor(e,r,n){let i;Ai(r)?i=r:r?i=me(r,n):i=me(new ge,n);const s=new wv(e,i.toServiceClientOptions()),o=g0(e);o&&o!=="/"?this.serviceOrContainerContext=new kc(s):this.serviceOrContainerContext=new p0(s)}createBatch(){return new fm}async deleteBlobs(e,r,n){const i=new fm;for(const s of e)typeof s=="string"?await i.deleteBlob(s,r,n):await i.deleteBlob(s,r);return this.submitBatch(i)}async setBlobsAccessTier(e,r,n,i){const s=new fm;for(const o of e)typeof o=="string"?await s.setBlobAccessTier(o,r,n,i):await s.setBlobAccessTier(o,r,n);return this.submitBatch(s)}async submitBatch(e,r={}){if(!e||e.getSubRequests().size===0)throw new RangeError("Batch request should contain one or more sub requests.");const{span:n,updatedOptions:i}=T("BlobBatchClient-submitBatch",r);try{const s=e.getHttpRequestBody(),o=await this.serviceOrContainerContext.submitBatch(Lj(s),e.getMultiPartContentType(),s,Object.assign(Object.assign({},r),D(i))),c=await new jj(o,e.getSubRequests()).parseBatchResponse();return{_response:o._response,contentType:o.contentType,errorCode:o.errorCode,requestId:o.requestId,clientRequestId:o.clientRequestId,version:o.version,subResponses:c.subResponses,subResponsesSucceededCount:c.subResponsesSucceededCount,subResponsesFailedCount:c.subResponsesFailedCount}}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}}class Wj extends bv{constructor(e,r,n){let i,s;if(n=n||{},Ai(r))s=e,i=r;else if(ve&&r instanceof Le||r instanceof ge||Xt(r))s=e,i=me(r,n);else if(!r&&typeof r!="string")s=e,i=me(new ge,n);else if(r&&typeof r=="string"){const o=r,a=qs(e);if(a.kind==="AccountConnString")if(ve){const c=new Le(a.accountName,a.accountKey);s=Re(a.url,encodeURIComponent(o)),n.proxyOptions||(n.proxyOptions=(a.proxyUri,void 0)),i=me(c,n)}else throw new Error("Account connection string is only supported in Node.js environment");else if(a.kind==="SASConnString")s=Re(a.url,encodeURIComponent(o))+"?"+a.accountSas,i=me(new ge,n);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName parameter");super(s,i),this._containerName=this.getContainerNameFromUrl(),this.containerContext=new kc(this.storageClientContext)}get containerName(){return this._containerName}async create(e={}){const{span:r,updatedOptions:n}=T("ContainerClient-create",e);try{return await this.containerContext.create(Object.assign(Object.assign({},e),D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async createIfNotExists(e={}){var r,n;const{span:i,updatedOptions:s}=T("ContainerClient-createIfNotExists",e);try{const o=await this.create(s);return Object.assign(Object.assign({succeeded:!0},o),{_response:o._response})}catch(o){if(((r=o.details)===null||r===void 0?void 0:r.errorCode)==="ContainerAlreadyExists")return i.setStatus({code:w.ERROR,message:"Expected exception when creating a container only if it does not already exist."}),Object.assign(Object.assign({succeeded:!1},(n=o.response)===null||n===void 0?void 0:n.parsedHeaders),{_response:o.response});throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async exists(e={}){const{span:r,updatedOptions:n}=T("ContainerClient-exists",e);try{return await this.getProperties({abortSignal:e.abortSignal,tracingOptions:n.tracingOptions}),!0}catch(i){if(i.statusCode===404)return r.setStatus({code:w.ERROR,message:"Expected exception when checking container existence"}),!1;throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}getBlobClient(e){return new nr(Re(this.url,_l(e)),this.pipeline)}getAppendBlobClient(e){return new fd(Re(this.url,_l(e)),this.pipeline)}getBlockBlobClient(e){return new vd(Re(this.url,_l(e)),this.pipeline)}getPageBlobClient(e){return new gd(Re(this.url,_l(e)),this.pipeline)}async getProperties(e={}){e.conditions||(e.conditions={});const{span:r,updatedOptions:n}=T("ContainerClient-getProperties",e);try{return await this.containerContext.getProperties(Object.assign(Object.assign({abortSignal:e.abortSignal},e.conditions),D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async delete(e={}){e.conditions||(e.conditions={});const{span:r,updatedOptions:n}=T("ContainerClient-delete",e);try{return await this.containerContext.delete(Object.assign({abortSignal:e.abortSignal,leaseAccessConditions:e.conditions,modifiedAccessConditions:e.conditions},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async deleteIfExists(e={}){var r,n;const{span:i,updatedOptions:s}=T("ContainerClient-deleteIfExists",e);try{const o=await this.delete(s);return Object.assign(Object.assign({succeeded:!0},o),{_response:o._response})}catch(o){if(((r=o.details)===null||r===void 0?void 0:r.errorCode)==="ContainerNotFound")return i.setStatus({code:w.ERROR,message:"Expected exception when deleting a container only if it exists."}),Object.assign(Object.assign({succeeded:!1},(n=o.response)===null||n===void 0?void 0:n.parsedHeaders),{_response:o.response});throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async setMetadata(e,r={}){if(r.conditions||(r.conditions={}),r.conditions.ifUnmodifiedSince)throw new RangeError("the IfUnmodifiedSince must have their default values because they are ignored by the blob service");const{span:n,updatedOptions:i}=T("ContainerClient-setMetadata",r);try{return await this.containerContext.setMetadata(Object.assign({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:e,modifiedAccessConditions:r.conditions},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async getAccessPolicy(e={}){e.conditions||(e.conditions={});const{span:r,updatedOptions:n}=T("ContainerClient-getAccessPolicy",e);try{const i=await this.containerContext.getAccessPolicy(Object.assign({abortSignal:e.abortSignal,leaseAccessConditions:e.conditions},D(n))),s={_response:i._response,blobPublicAccess:i.blobPublicAccess,date:i.date,etag:i.etag,errorCode:i.errorCode,lastModified:i.lastModified,requestId:i.requestId,clientRequestId:i.clientRequestId,signedIdentifiers:[],version:i.version};for(const o of i){let a;o.accessPolicy&&(a={permissions:o.accessPolicy.permissions},o.accessPolicy.expiresOn&&(a.expiresOn=new Date(o.accessPolicy.expiresOn)),o.accessPolicy.startsOn&&(a.startsOn=new Date(o.accessPolicy.startsOn))),s.signedIdentifiers.push({accessPolicy:a,id:o.id})}return s}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async setAccessPolicy(e,r,n={}){n.conditions=n.conditions||{};const{span:i,updatedOptions:s}=T("ContainerClient-setAccessPolicy",n);try{const o=[];for(const a of r||[])o.push({accessPolicy:{expiresOn:a.accessPolicy.expiresOn?ae(a.accessPolicy.expiresOn):"",permissions:a.accessPolicy.permissions,startsOn:a.accessPolicy.startsOn?ae(a.accessPolicy.startsOn):""},id:a.id});return await this.containerContext.setAccessPolicy(Object.assign({abortSignal:n.abortSignal,access:e,containerAcl:o,leaseAccessConditions:n.conditions,modifiedAccessConditions:n.conditions},D(s)))}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}getBlobLeaseClient(e){return new N0(this,e)}async uploadBlockBlob(e,r,n,i={}){const{span:s,updatedOptions:o}=T("ContainerClient-uploadBlockBlob",i);try{const a=this.getBlockBlobClient(e),c=await a.upload(r,n,o);return{blockBlobClient:a,response:c}}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async deleteBlob(e,r={}){const{span:n,updatedOptions:i}=T("ContainerClient-deleteBlob",r);try{let s=this.getBlobClient(e);return r.versionId&&(s=s.withVersion(r.versionId)),await s.delete(i)}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async listBlobFlatSegment(e,r={}){const{span:n,updatedOptions:i}=T("ContainerClient-listBlobFlatSegment",r);try{const s=await this.containerContext.listBlobFlatSegment(Object.assign(Object.assign({marker:e},r),D(i)));return Object.assign(Object.assign({},s),{_response:Object.assign(Object.assign({},s._response),{parsedBody:$L(s._response.parsedBody)}),segment:Object.assign(Object.assign({},s.segment),{blobItems:s.segment.blobItems.map(a=>Object.assign(Object.assign({},a),{name:as(a.name),tags:uc(a.blobTags),objectReplicationSourceProperties:_u(a.objectReplicationMetadata)}))})})}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async listBlobHierarchySegment(e,r,n={}){var i;const{span:s,updatedOptions:o}=T("ContainerClient-listBlobHierarchySegment",n);try{const a=await this.containerContext.listBlobHierarchySegment(e,Object.assign(Object.assign({marker:r},n),D(o)));return Object.assign(Object.assign({},a),{_response:Object.assign(Object.assign({},a._response),{parsedBody:WL(a._response.parsedBody)}),segment:Object.assign(Object.assign({},a.segment),{blobItems:a.segment.blobItems.map(l=>Object.assign(Object.assign({},l),{name:as(l.name),tags:uc(l.blobTags),objectReplicationSourceProperties:_u(l.objectReplicationMetadata)})),blobPrefixes:(i=a.segment.blobPrefixes)===null||i===void 0?void 0:i.map(l=>Object.assign(Object.assign({},l),{name:as(l.name)}))})})}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}listSegments(e,r={}){return Et(this,arguments,function*(){let i;if(e||e===void 0)do i=yield W(this.listBlobFlatSegment(e,r)),e=i.continuationToken,yield yield W(yield W(i));while(e)})}listItems(e={}){return Et(this,arguments,function*(){var n,i;let s;try{for(var o=kt(this.listSegments(s,e)),a;a=yield W(o.next()),!a.done;){const c=a.value;yield W(yield*vs(kt(c.segment.blobItems)))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&(yield W(i.call(o)))}finally{if(n)throw n.error}}})}listBlobsFlat(e={}){const r=[];e.includeCopy&&r.push("copy"),e.includeDeleted&&r.push("deleted"),e.includeMetadata&&r.push("metadata"),e.includeSnapshots&&r.push("snapshots"),e.includeVersions&&r.push("versions"),e.includeUncommitedBlobs&&r.push("uncommittedblobs"),e.includeTags&&r.push("tags"),e.includeDeletedWithVersions&&r.push("deletedwithversions"),e.includeImmutabilityPolicy&&r.push("immutabilitypolicy"),e.includeLegalHold&&r.push("legalhold"),e.prefix===""&&(e.prefix=void 0);const n=Object.assign(Object.assign({},e),r.length>0?{include:r}:{}),i=this.listItems(n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(s={})=>this.listSegments(s.continuationToken,Object.assign({maxPageSize:s.maxPageSize},n))}}listHierarchySegments(e,r,n={}){return Et(this,arguments,function*(){let s;if(r||r===void 0)do s=yield W(this.listBlobHierarchySegment(e,r,n)),r=s.continuationToken,yield yield W(yield W(s));while(r)})}listItemsByHierarchy(e,r={}){return Et(this,arguments,function*(){var i,s;let o;try{for(var a=kt(this.listHierarchySegments(e,o,r)),c;c=yield W(a.next()),!c.done;){const u=c.value.segment;if(u.blobPrefixes)for(const d of u.blobPrefixes)yield yield W(Object.assign({kind:"prefix"},d));for(const d of u.blobItems)yield yield W(Object.assign({kind:"blob"},d))}}catch(l){i={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield W(s.call(a)))}finally{if(i)throw i.error}}})}listBlobsByHierarchy(e,r={}){if(e==="")throw new RangeError("delimiter should contain one or more characters");const n=[];r.includeCopy&&n.push("copy"),r.includeDeleted&&n.push("deleted"),r.includeMetadata&&n.push("metadata"),r.includeSnapshots&&n.push("snapshots"),r.includeVersions&&n.push("versions"),r.includeUncommitedBlobs&&n.push("uncommittedblobs"),r.includeTags&&n.push("tags"),r.includeDeletedWithVersions&&n.push("deletedwithversions"),r.includeImmutabilityPolicy&&n.push("immutabilitypolicy"),r.includeLegalHold&&n.push("legalhold"),r.prefix===""&&(r.prefix=void 0);const i=Object.assign(Object.assign({},r),n.length>0?{include:n}:{}),s=this.listItemsByHierarchy(e,i);return{async next(){return s.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.listHierarchySegments(e,o.continuationToken,Object.assign({maxPageSize:o.maxPageSize},i))}}async findBlobsByTagsSegment(e,r,n={}){const{span:i,updatedOptions:s}=T("ContainerClient-findBlobsByTagsSegment",n);try{const o=await this.containerContext.filterBlobs(Object.assign({abortSignal:n.abortSignal,where:e,marker:r,maxPageSize:n.maxPageSize},D(s)));return Object.assign(Object.assign({},o),{_response:o._response,blobs:o.blobs.map(c=>{var l;let u="";return((l=c.tags)===null||l===void 0?void 0:l.blobTagSet.length)===1&&(u=c.tags.blobTagSet[0].value),Object.assign(Object.assign({},c),{tags:uc(c.tags),tagValue:u})})})}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}findBlobsByTagsSegments(e,r,n={}){return Et(this,arguments,function*(){let s;if(r||r===void 0)do s=yield W(this.findBlobsByTagsSegment(e,r,n)),s.blobs=s.blobs||[],r=s.continuationToken,yield yield W(s);while(r)})}findBlobsByTagsItems(e,r={}){return Et(this,arguments,function*(){var i,s;let o;try{for(var a=kt(this.findBlobsByTagsSegments(e,o,r)),c;c=yield W(a.next()),!c.done;){const l=c.value;yield W(yield*vs(kt(l.blobs)))}}catch(l){i={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield W(s.call(a)))}finally{if(i)throw i.error}}})}findBlobsByTags(e,r={}){const n=Object.assign({},r),i=this.findBlobsByTagsItems(e,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(s={})=>this.findBlobsByTagsSegments(e,s.continuationToken,Object.assign({maxPageSize:s.maxPageSize},n))}}getContainerNameFromUrl(){let e;try{const r=He.parse(this.url);if(r.getHost().split(".")[1]==="blob"?e=r.getPath().split("/")[1]:Ev(r)?e=r.getPath().split("/")[2]:e=r.getPath().split("/")[1],e=decodeURIComponent(e),!e)throw new Error("Provided containerName is invalid.");return e}catch{throw new Error("Unable to extract containerName with provided information.")}}generateSasUrl(e){return new Promise(r=>{if(!(this.credential instanceof Le))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");const n=x0(Object.assign({containerName:this._containerName},e),this.credential).toString();r(Nv(this.url,n))})}getBlobBatchClient(){return new M0(this.url,this.pipeline)}}class Lc{constructor(){this.read=!1,this.write=!1,this.delete=!1,this.deleteVersion=!1,this.list=!1,this.add=!1,this.create=!1,this.update=!1,this.process=!1,this.tag=!1,this.filter=!1,this.setImmutabilityPolicy=!1,this.permanentDelete=!1}static parse(e){const r=new Lc;for(const n of e)switch(n){case"r":r.read=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"x":r.deleteVersion=!0;break;case"l":r.list=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"u":r.update=!0;break;case"p":r.process=!0;break;case"t":r.tag=!0;break;case"f":r.filter=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;default:throw new RangeError(`Invalid permission character: ${n}`)}return r}static from(e){const r=new Lc;return e.read&&(r.read=!0),e.write&&(r.write=!0),e.delete&&(r.delete=!0),e.deleteVersion&&(r.deleteVersion=!0),e.filter&&(r.filter=!0),e.tag&&(r.tag=!0),e.list&&(r.list=!0),e.add&&(r.add=!0),e.create&&(r.create=!0),e.update&&(r.update=!0),e.process&&(r.process=!0),e.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),e.permanentDelete&&(r.permanentDelete=!0),r}toString(){const e=[];return this.read&&e.push("r"),this.write&&e.push("w"),this.delete&&e.push("d"),this.deleteVersion&&e.push("x"),this.filter&&e.push("f"),this.tag&&e.push("t"),this.list&&e.push("l"),this.add&&e.push("a"),this.create&&e.push("c"),this.update&&e.push("u"),this.process&&e.push("p"),this.setImmutabilityPolicy&&e.push("i"),this.permanentDelete&&e.push("y"),e.join("")}}class Av{constructor(){this.service=!1,this.container=!1,this.object=!1}static parse(e){const r=new Av;for(const n of e)switch(n){case"s":r.service=!0;break;case"c":r.container=!0;break;case"o":r.object=!0;break;default:throw new RangeError(`Invalid resource type: ${n}`)}return r}toString(){const e=[];return this.service&&e.push("s"),this.container&&e.push("c"),this.object&&e.push("o"),e.join("")}}class yd{constructor(){this.blob=!1,this.file=!1,this.queue=!1,this.table=!1}static parse(e){const r=new yd;for(const n of e)switch(n){case"b":r.blob=!0;break;case"f":r.file=!0;break;case"q":r.queue=!0;break;case"t":r.table=!0;break;default:throw new RangeError(`Invalid service character: ${n}`)}return r}toString(){const e=[];return this.blob&&e.push("b"),this.table&&e.push("t"),this.queue&&e.push("q"),this.file&&e.push("f"),e.join("")}}function Kj(t,e){const r=t.version?t.version:xv;if(t.permissions&&t.permissions.setImmutabilityPolicy&&r<"2020-08-04")throw RangeError("'version' must be >= '2020-08-04' when provided 'i' permission.");if(t.permissions&&t.permissions.deleteVersion&&r<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when provided 'x' permission.");if(t.permissions&&t.permissions.permanentDelete&&r<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when provided 'y' permission.");if(t.permissions&&t.permissions.tag&&r<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when provided 't' permission.");if(t.permissions&&t.permissions.filter&&r<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when provided 'f' permission.");if(t.encryptionScope&&r<"2020-12-06")throw RangeError("'version' must be >= '2020-12-06' when provided 'encryptionScope' in SAS.");const n=Lc.parse(t.permissions.toString()),i=yd.parse(t.services).toString(),s=Av.parse(t.resourceTypes).toString();let o;r>="2020-12-06"?o=[e.accountName,n,i,s,t.startsOn?ae(t.startsOn,!1):"",ae(t.expiresOn,!1),t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",r,t.encryptionScope?t.encryptionScope:"",""].join(`
`):o=[e.accountName,n,i,s,t.startsOn?ae(t.startsOn,!1):"",ae(t.expiresOn,!1),t.ipRange?Vr(t.ipRange):"",t.protocol?t.protocol:"",r,""].join(`
`);const a=e.computeHMACSHA256(o);return new zi(r,a,n.toString(),i,s,t.protocol,t.startsOn,t.expiresOn,t.ipRange,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.encryptionScope)}class zu extends bv{constructor(e,r,n){let i;Ai(r)?i=r:ve&&r instanceof Le||r instanceof ge||Xt(r)?i=me(r,n):i=me(new ge,n),super(e,i),this.serviceContext=new p0(this.storageClientContext)}static fromConnectionString(e,r){r=r||{};const n=qs(e);if(n.kind==="AccountConnString")if(ve){const i=new Le(n.accountName,n.accountKey);r.proxyOptions||(r.proxyOptions=(n.proxyUri,void 0));const s=me(i,r);return new zu(n.url,s)}else throw new Error("Account connection string is only supported in Node.js environment");else if(n.kind==="SASConnString"){const i=me(new ge,r);return new zu(n.url+"?"+n.accountSas,i)}else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}getContainerClient(e){return new Wj(Re(this.url,encodeURIComponent(e)),this.pipeline)}async createContainer(e,r={}){const{span:n,updatedOptions:i}=T("BlobServiceClient-createContainer",r);try{const s=this.getContainerClient(e),o=await s.create(i);return{containerClient:s,containerCreateResponse:o}}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async deleteContainer(e,r={}){const{span:n,updatedOptions:i}=T("BlobServiceClient-deleteContainer",r);try{return await this.getContainerClient(e).delete(i)}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async undeleteContainer(e,r,n={}){const{span:i,updatedOptions:s}=T("BlobServiceClient-undeleteContainer",n);try{const o=this.getContainerClient(n.destinationContainerName||e),c=await new kc(o.storageClientContext).restore(Object.assign({deletedContainerName:e,deletedContainerVersion:r},s));return{containerClient:o,containerUndeleteResponse:c}}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}async renameContainer(e,r,n={}){var i;const{span:s,updatedOptions:o}=T("BlobServiceClient-renameContainer",n);try{const a=this.getContainerClient(r),l=await new kc(a.storageClientContext).rename(e,Object.assign(Object.assign({},o),{sourceLeaseId:(i=n.sourceCondition)===null||i===void 0?void 0:i.leaseId}));return{containerClient:a,containerRenameResponse:l}}catch(a){throw s.setStatus({code:w.ERROR,message:a.message}),a}finally{s.end()}}async getProperties(e={}){const{span:r,updatedOptions:n}=T("BlobServiceClient-getProperties",e);try{return await this.serviceContext.getProperties(Object.assign({abortSignal:e.abortSignal},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async setProperties(e,r={}){const{span:n,updatedOptions:i}=T("BlobServiceClient-setProperties",r);try{return await this.serviceContext.setProperties(e,Object.assign({abortSignal:r.abortSignal},D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async getStatistics(e={}){const{span:r,updatedOptions:n}=T("BlobServiceClient-getStatistics",e);try{return await this.serviceContext.getStatistics(Object.assign({abortSignal:e.abortSignal},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async getAccountInfo(e={}){const{span:r,updatedOptions:n}=T("BlobServiceClient-getAccountInfo",e);try{return await this.serviceContext.getAccountInfo(Object.assign({abortSignal:e.abortSignal},D(n)))}catch(i){throw r.setStatus({code:w.ERROR,message:i.message}),i}finally{r.end()}}async listContainersSegment(e,r={}){const{span:n,updatedOptions:i}=T("BlobServiceClient-listContainersSegment",r);try{return await this.serviceContext.listContainersSegment(Object.assign(Object.assign(Object.assign({abortSignal:r.abortSignal,marker:e},r),{include:typeof r.include=="string"?[r.include]:r.include}),D(i)))}catch(s){throw n.setStatus({code:w.ERROR,message:s.message}),s}finally{n.end()}}async findBlobsByTagsSegment(e,r,n={}){const{span:i,updatedOptions:s}=T("BlobServiceClient-findBlobsByTagsSegment",n);try{const o=await this.serviceContext.filterBlobs(Object.assign({abortSignal:n.abortSignal,where:e,marker:r,maxPageSize:n.maxPageSize},D(s)));return Object.assign(Object.assign({},o),{_response:o._response,blobs:o.blobs.map(c=>{var l;let u="";return((l=c.tags)===null||l===void 0?void 0:l.blobTagSet.length)===1&&(u=c.tags.blobTagSet[0].value),Object.assign(Object.assign({},c),{tags:uc(c.tags),tagValue:u})})})}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}findBlobsByTagsSegments(e,r,n={}){return Et(this,arguments,function*(){let s;if(r||r===void 0)do s=yield W(this.findBlobsByTagsSegment(e,r,n)),s.blobs=s.blobs||[],r=s.continuationToken,yield yield W(s);while(r)})}findBlobsByTagsItems(e,r={}){return Et(this,arguments,function*(){var i,s;let o;try{for(var a=kt(this.findBlobsByTagsSegments(e,o,r)),c;c=yield W(a.next()),!c.done;){const l=c.value;yield W(yield*vs(kt(l.blobs)))}}catch(l){i={error:l}}finally{try{c&&!c.done&&(s=a.return)&&(yield W(s.call(a)))}finally{if(i)throw i.error}}})}findBlobsByTags(e,r={}){const n=Object.assign({},r),i=this.findBlobsByTagsItems(e,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(s={})=>this.findBlobsByTagsSegments(e,s.continuationToken,Object.assign({maxPageSize:s.maxPageSize},n))}}listSegments(e,r={}){return Et(this,arguments,function*(){let i;if(e||e===void 0)do i=yield W(this.listContainersSegment(e,r)),i.containerItems=i.containerItems||[],e=i.continuationToken,yield yield W(yield W(i));while(e)})}listItems(e={}){return Et(this,arguments,function*(){var n,i;let s;try{for(var o=kt(this.listSegments(s,e)),a;a=yield W(o.next()),!a.done;){const c=a.value;yield W(yield*vs(kt(c.containerItems)))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&(yield W(i.call(o)))}finally{if(n)throw n.error}}})}listContainers(e={}){e.prefix===""&&(e.prefix=void 0);const r=[];e.includeDeleted&&r.push("deleted"),e.includeMetadata&&r.push("metadata"),e.includeSystem&&r.push("system");const n=Object.assign(Object.assign({},e),r.length>0?{include:r}:{}),i=this.listItems(n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(s={})=>this.listSegments(s.continuationToken,Object.assign({maxPageSize:s.maxPageSize},n))}}async getUserDelegationKey(e,r,n={}){const{span:i,updatedOptions:s}=T("BlobServiceClient-getUserDelegationKey",n);try{const o=await this.serviceContext.getUserDelegationKey({startsOn:ae(e,!1),expiresOn:ae(r,!1)},Object.assign({abortSignal:n.abortSignal},D(s))),a={signedObjectId:o.signedObjectId,signedTenantId:o.signedTenantId,signedStartsOn:new Date(o.signedStartsOn),signedExpiresOn:new Date(o.signedExpiresOn),signedService:o.signedService,signedVersion:o.signedVersion,value:o.value};return Object.assign({_response:o._response,requestId:o.requestId,clientRequestId:o.clientRequestId,version:o.version,date:o.date,errorCode:o.errorCode},a)}catch(o){throw i.setStatus({code:w.ERROR,message:o.message}),o}finally{i.end()}}getBlobBatchClient(){return new M0(this.url,this.pipeline)}generateAccountSasUrl(e,r=Lc.parse("r"),n="sco",i={}){if(!(this.credential instanceof Le))throw RangeError("Can only generate the account SAS when the client is initialized with a shared key credential");if(e===void 0){const o=new Date;e=new Date(o.getTime()+3600*1e3)}const s=Kj(Object.assign({permissions:r,expiresOn:e,resourceTypes:n,services:yd.parse("b").toString()},i),this.credential).toString();return Nv(this.url,s)}}const Vj="94f6ccf27eae4c3fa2055f6f97a8b0a2",Gj="southeastasia",Qj="iffco-original",Jj="BlobEndpoint=https://iffcoblob.blob.core.windows.net/;QueueEndpoint=https://iffcoblob.queue.core.windows.net/;FileEndpoint=https://iffcoblob.file.core.windows.net/;TableEndpoint=https://iffcoblob.table.core.windows.net/;SharedAccessSignature=sv=2022-11-02&ss=bfqt&srt=sco&sp=rwdlacupiytfx&se=2024-01-06T14:06:57Z&st=2024-01-04T06:06:57Z&spr=https&sig=%2FCdKOqifna6K12b7GIXSzv8YNn7Ixst4BZVOvkyJHzI%3D",Xj=zu.fromConnectionString(Jj),Yj=Xj.getContainerClient(Qj),Zj=()=>{const[t,e]=q.useState([]),[r,n]=q.useState(!1);q.useState();const i=a=>{e(a.target.files)},s=()=>{e([])},o=async()=>{if(t.length){n(!0);try{for(const a of t)await Yj.getBlockBlobClient(a.name).uploadBrowserData(a);s()}catch(a){console.log(a)}finally{n(!1)}}else alert("Please select a file first.")};return q.useEffect(()=>{(async()=>{})()},[]),O.jsx("div",{className:"absolute top-3 right-3",children:r?O.jsx("div",{className:"cursor-pointer bg-gray-400 text-white w-28 h-8 flex justify-center items-center rounded",title:"Loading",children:"Loading..."}):t.length?O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{title:"Cancel",onClick:s,className:"bg-red-500 w-8 rounded text-white hover:bg-red-600",children:"X"}),O.jsx("button",{title:"Upload",onClick:o,className:" bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600",children:"Upload"})]}):O.jsxs("div",{className:"relative cursor-pointer bg-blue-500 text-white w-28 h-8 flex justify-center items-center rounded hover:bg-blue-600",title:"Chose file",children:["Choose file",O.jsx("input",{type:"file",accept:".pdf",onChange:i,className:"absolute z-50 h-[100%] w-[100%] top-0 right-0 cursor-pointer opacity-0"})]})})};function eq(){return O.jsx(O.Fragment,{children:O.jsxs("header",{className:"flex flex-col justify-between lg:items-center bg-white p-3 border-b relative",children:[O.jsx("div",{className:"flex gap-10 mb-2",children:O.jsx("img",{src:zz,alt:"logo",className:"h-8"})}),O.jsx("p",{className:"text-3xl font-bold text-[#767676] text-center",children:"Generative AI Chatbot"}),O.jsx(Zj,{})]})})}const tq="/assets/bot-LOkVBiz6.png";var k0={exports:{}},rq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nq=rq,iq=nq;function D0(){}function B0(){}B0.resetWarningCache=D0;var sq=function(){function t(n,i,s,o,a,c){if(c!==iq){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:B0,resetWarningCache:D0};return r.PropTypes=r,r};k0.exports=sq();var oq=k0.exports;const dt=kP(oq),Kh=({chat:t,loading:e,showIcon:r,handleClick:n})=>{var i,s;return O.jsxs("div",{children:[t!=null&&t.userMessage?O.jsx("div",{className:"user message_section flex justify-end gap-2",children:O.jsx("div",{className:"user_message_container py-2.5 rounded-3xl flex px-4 bg-[#e7e7e700] rounded-br",children:O.jsx("p",{children:t==null?void 0:t.userMessage})})}):null,t!=null&&t.botMessage||e?O.jsxs("div",{className:"message_section flex gap-2",children:[r?O.jsx("div",{className:"h-[35px] w-[35px]"}):O.jsx("img",{src:tq,alt:"bot icon",className:"h-[35px] w-[35px] rounded-full mt-[3px] bg-[#288FFF] p-[2px]"}),O.jsx("div",{className:`bot_message_container py-2.5 rounded-3xl flex px-4 bg-[#bf65ffd6] rounded-tl overflow-hidden ${(t==null?void 0:t.id)==="1"?"rounded-bl":""}`,children:e?O.jsxs("div",{className:"w-8 flex justify-evenly",children:[O.jsx("li",{className:"ball"}),O.jsx("li",{className:"ball"}),O.jsx("li",{className:"ball"})]}):O.jsxs("div",{className:"text-white whitespace-pre-line",children:[O.jsx("p",{children:t==null?void 0:t.botMessage}),(i=t==null?void 0:t.urlsArray)!=null&&i.length?O.jsx("div",{className:"mt-2"}):null,(s=t==null?void 0:t.urlsArray)==null?void 0:s.map(o=>{const a=o.split("#page=").at(),c=a.split("/").at(-1),l=o.split("#page=").at(-1);return O.jsxs("div",{className:"flex gap-2",children:[O.jsxs("p",{children:["Source :"," ",O.jsx("span",{className:"underline text-blue-700 cursor-pointer hover:text-blue-500",onClick:()=>n(a,l),children:c}),","]}),O.jsx("p",{children:O.jsxs("span",{children:["Page no: ",l]})})]},o)})]})})]}):null]})};Kh.propTypes={chat:dt.shape({id:dt.string,userMessage:dt.string,botMessage:dt.string,urlsArray:dt.arrayOf(dt.string)}).isRequired,loading:dt.bool,showIcon:dt.bool,handleClick:dt.func};const L0=({chats:t,loading:e,handleClick:r})=>{const n=q.useRef(null);return q.useEffect(()=>{var i;(i=n.current)==null||i.scrollIntoView({behavior:"smooth"})},[t]),O.jsxs("div",{className:"h-28 flex-1 min-h-[50px] overflow-y-scroll bg-fixed bg-center bg-no-repeat scroll-smooth",children:[O.jsxs("div",{className:"px-4 py-3 flex flex-col gap-2",children:[t.map((i,s)=>{var o;return O.jsx(Kh,{chat:i,showIcon:!!(i!=null&&i.botMessage&&((o=t[s-1])!=null&&o.botMessage)),handleClick:r},i.id)}),e?O.jsx(Kh,{loading:e}):null]}),O.jsx("div",{ref:n})]})};L0.propTypes={chats:dt.arrayOf(dt.shape({id:dt.string.isRequired,userMessage:dt.string,botMessage:dt.string})).isRequired,loading:dt.bool,handleClick:dt.func};const aq=({pdfDetails:t,hidePdf:e})=>{const[r,n]=q.useState(60),[i,s]=q.useState(`${t.url}#toolbar=0&navpanes=0&page=${t.pageNo}&zoom=${r}`),o=a=>{n(c=>c+a),s(""),setTimeout(()=>{s(`${t.url}#toolbar=0&navpanes=0&page=${t.pageNo}&zoom=${r+a}`)},10)};return O.jsxs("div",{className:"h-[100%] w-[100%] overflow-hidden hidden md:block relative",children:[O.jsx("button",{className:"absolute top-0 right-0 bg-[#0000008e] text-white px-3 hover:bg-[#000000b1] rounded z-10",onClick:e,children:"X"}),O.jsxs("div",{className:"absolute bottom-5 left-0 z-10 rounded overflow-hidden",children:[O.jsx("button",{className:"bg-[#0000008e] text-white px-3 hover:bg-[#000000b1]",onClick:()=>o(10),children:"+"}),O.jsx("button",{className:"bg-[#0000008e] text-white px-3 hover:bg-[#000000b1]",onClick:()=>o(-10),children:"-"})]}),O.jsx("object",{title:"pdf",data:i,type:"application/pdf",width:"100%",height:"100%",children:O.jsxs("p",{children:["link ",O.jsx("a",{href:i,children:"to the PDF!"})]})})]})};var j0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cC=Lr.createContext&&Lr.createContext(j0),cq=["attr","size","title"];function lq(t,e){if(t==null)return{};var r=uq(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uq(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function lC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(r),!0).forEach(function(n){dq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dq(t,e,r){return e=pq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pq(t){var e=mq(t,"string");return typeof e=="symbol"?e:String(e)}function mq(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(t){return t&&t.map((e,r)=>Lr.createElement(e.tag,Mu({key:r},e.attr),q0(e.child)))}function zv(t){return e=>Lr.createElement(hq,Ou({attr:Mu({},t.attr)},e),q0(t.child))}function hq(t){var e=r=>{var{attr:n,size:i,title:s}=t,o=lq(t,cq),a=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Lr.createElement("svg",Ou({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Mu(Mu({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Lr.createElement("title",null,s),t.children)};return cC!==void 0?Lr.createElement(cC.Consumer,null,r=>e(r)):e(j0)}function fq(t){return zv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function vq(t){return zv({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"},child:[]}]})(t)}function gq(t){return zv({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},child:[]},{tag:"path",attr:{d:"M11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"},child:[]}]})(t)}var ri={},vm={},Cd={},gm={},Ee={},Fs={},Yt={};const yq=DP(Az);Object.defineProperty(Yt,"__esModule",{value:!0});Yt.createNoDashGuid=Yt.createGuid=void 0;const Cq=yq,H0=()=>Cq.v4();Yt.createGuid=H0;const Sq=()=>H0().replace(new RegExp("-","g"),"").toUpperCase();Yt.createNoDashGuid=Sq;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;const e=Yt;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.None=4]="None"})(t.EventType||(t.EventType={}));class r{constructor(i,s){this.privName=i,this.privEventId=e.createNoDashGuid(),this.privEventTime=new Date().toISOString(),this.privEventType=s,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}t.PlatformEvent=r})(Fs);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.AudioStreamNodeErrorEvent=Ee.AudioStreamNodeDetachedEvent=Ee.AudioStreamNodeAttachedEvent=Ee.AudioStreamNodeAttachingEvent=Ee.AudioStreamNodeEvent=Ee.AudioSourceErrorEvent=Ee.AudioSourceOffEvent=Ee.AudioSourceReadyEvent=Ee.AudioSourceInitializingEvent=Ee.AudioSourceEvent=void 0;const Vh=Fs;class $s extends Vh.PlatformEvent{constructor(e,r,n=Vh.EventType.Info){super(e,n),this.privAudioSourceId=r}get audioSourceId(){return this.privAudioSourceId}}Ee.AudioSourceEvent=$s;class Pq extends $s{constructor(e){super("AudioSourceInitializingEvent",e)}}Ee.AudioSourceInitializingEvent=Pq;class Rq extends $s{constructor(e){super("AudioSourceReadyEvent",e)}}Ee.AudioSourceReadyEvent=Rq;class xq extends $s{constructor(e){super("AudioSourceOffEvent",e)}}Ee.AudioSourceOffEvent=xq;class Nq extends $s{constructor(e,r){super("AudioSourceErrorEvent",e,Vh.EventType.Error),this.privError=r}get error(){return this.privError}}Ee.AudioSourceErrorEvent=Nq;class Xc extends $s{constructor(e,r,n){super(e,r),this.privAudioNodeId=n}get audioNodeId(){return this.privAudioNodeId}}Ee.AudioStreamNodeEvent=Xc;class Eq extends Xc{constructor(e,r){super("AudioStreamNodeAttachingEvent",e,r)}}Ee.AudioStreamNodeAttachingEvent=Eq;class wq extends Xc{constructor(e,r){super("AudioStreamNodeAttachedEvent",e,r)}}Ee.AudioStreamNodeAttachedEvent=wq;class bq extends Xc{constructor(e,r){super("AudioStreamNodeDetachedEvent",e,r)}}Ee.AudioStreamNodeDetachedEvent=bq;class Tq extends Xc{constructor(e,r,n){super("AudioStreamNodeErrorEvent",e,r),this.privError=n}get error(){return this.privError}}Ee.AudioStreamNodeErrorEvent=Tq;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.ConnectionMessageSentEvent=_e.ConnectionMessageReceivedEvent=_e.ConnectionEstablishErrorEvent=_e.ConnectionErrorEvent=_e.ConnectionClosedEvent=_e.ConnectionEstablishedEvent=_e.ConnectionStartEvent=_e.ConnectionEvent=_e.ServiceEvent=void 0;const Si=Fs;class Iq extends Si.PlatformEvent{constructor(e,r,n=Si.EventType.Info){super(e,n),this.privJsonResult=r}get jsonString(){return this.privJsonResult}}_e.ServiceEvent=Iq;class kn extends Si.PlatformEvent{constructor(e,r,n=Si.EventType.Info){super(e,n),this.privConnectionId=r}get connectionId(){return this.privConnectionId}}_e.ConnectionEvent=kn;class _q extends kn{constructor(e,r,n){super("ConnectionStartEvent",e),this.privUri=r,this.privHeaders=n}get uri(){return this.privUri}get headers(){return this.privHeaders}}_e.ConnectionStartEvent=_q;class Aq extends kn{constructor(e){super("ConnectionEstablishedEvent",e)}}_e.ConnectionEstablishedEvent=Aq;class zq extends kn{constructor(e,r,n){super("ConnectionClosedEvent",e,Si.EventType.Debug),this.privReason=n,this.privStatusCode=r}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}_e.ConnectionClosedEvent=zq;class Oq extends kn{constructor(e,r,n){super("ConnectionErrorEvent",e,Si.EventType.Debug),this.privMessage=r,this.privType=n}get message(){return this.privMessage}get type(){return this.privType}}_e.ConnectionErrorEvent=Oq;class Mq extends kn{constructor(e,r,n){super("ConnectionEstablishErrorEvent",e,Si.EventType.Error),this.privStatusCode=r,this.privReason=n}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}_e.ConnectionEstablishErrorEvent=Mq;class kq extends kn{constructor(e,r,n){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=r,this.privMessage=n}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}_e.ConnectionMessageReceivedEvent=kq;class Dq extends kn{constructor(e,r,n){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=r,this.privMessage=n}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}_e.ConnectionMessageSentEvent=Dq;var Ov={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.ObjectDisposedError=Ze.InvalidOperationError=Ze.ArgumentNullError=void 0;class Bq extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}Ze.ArgumentNullError=Bq;class Lq extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}Ze.InvalidOperationError=Lq;class jq extends Error{constructor(e,r){super(r),this.name=e+"ObjectDisposed",this.message=r}}Ze.ObjectDisposedError=jq;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessage=t.MessageType=void 0;const e=Ze,r=Yt;var n;(function(s){s[s.Text=0]="Text",s[s.Binary=1]="Binary"})(n=t.MessageType||(t.MessageType={}));class i{constructor(o,a,c,l){if(this.privBody=null,o===n.Text&&a&&typeof a!="string")throw new e.InvalidOperationError("Payload must be a string");if(o===n.Binary&&a&&!(a instanceof ArrayBuffer))throw new e.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=o,this.privBody=a,this.privHeaders=c||{},this.privId=l||r.createNoDashGuid(),this.messageType){case n.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case n.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===n.Binary)throw new e.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===n.Text)throw new e.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}t.ConnectionMessage=i})(Ov);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.ConnectionOpenResponse=void 0;class qq{constructor(e,r){this.privStatusCode=e,this.privReason=r}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}Sd.ConnectionOpenResponse=qq;var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.DeferralMap=void 0;class Hq{constructor(){this.privMap={}}add(e,r){this.privMap[e]=r}getId(e){return this.privMap[e]}complete(e,r){try{this.privMap[e].resolve(r)}catch(n){this.privMap[e].reject(n)}finally{this.privMap[e]=void 0}}}Pd.DeferralMap=Hq;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.SendingAgentContextMessageEvent=Pi.DialogEvent=void 0;const uC=Fs;class U0 extends uC.PlatformEvent{constructor(e,r=uC.EventType.Info){super(e,r)}}Pi.DialogEvent=U0;class Uq extends U0{constructor(e){super("SendingAgentContextMessageEvent"),this.privAgentConfig=e}get agentConfig(){return this.privAgentConfig}}Pi.SendingAgentContextMessageEvent=Uq;var Rd={},Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.EventSource=void 0;const Fq=Ze,$q=Yt;class Wq{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new Fq.ObjectDisposedError("EventSource");if(this.metadata)for(const r in this.metadata)r&&e.metadata&&(e.metadata[r]||(e.metadata[r]=this.metadata[r]));for(const r in this.privEventListeners)r&&this.privEventListeners[r]&&this.privEventListeners[r](e)}attach(e){const r=$q.createNoDashGuid();return this.privEventListeners[r]=e,{detach:()=>(delete this.privEventListeners[r],Promise.resolve())}}attachListener(e){return this.attach(r=>e.onEvent(r))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(r=>e.onEvent(r)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}Yc.EventSource=Wq;Object.defineProperty(Rd,"__esModule",{value:!0});Rd.Events=void 0;const Kq=Ze,Vq=Yc;class jc{static setEventSource(e){if(!e)throw new Kq.ArgumentNullError("eventSource");jc.privInstance=e}static get instance(){return jc.privInstance}}Rd.Events=jc;jc.privInstance=new Vq.EventSource;var F0={};Object.defineProperty(F0,"__esModule",{value:!0});var $0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))})($0);var W0={};Object.defineProperty(W0,"__esModule",{value:!0});var K0={};Object.defineProperty(K0,"__esModule",{value:!0});var V0={};Object.defineProperty(V0,"__esModule",{value:!0});var G0={};Object.defineProperty(G0,"__esModule",{value:!0});var Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});var J0={};Object.defineProperty(J0,"__esModule",{value:!0});var X0={};Object.defineProperty(X0,"__esModule",{value:!0});var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.List=void 0;const Gq=Ze;class rn{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const r of e)this.privList.push(r)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,r){this.throwIfDisposed(),e===0?this.privList.unshift(r):e===this.privList.length?this.privList.push(r):this.privList.splice(e,0,r),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,r){this.throwIfDisposed();const n=this.privList.splice(e,r);return this.triggerSubscriptions(this.privRemoveSubscriptions),n}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[r]=e,{detach:()=>(delete this.privAddSubscriptions[r],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[r]=e,{detach:()=>(delete this.privRemoveSubscriptions[r],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[r]=e,{detach:()=>(delete this.privDisposedSubscriptions[r],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach(r=>{e.push(r)}),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let r=0;r<this.length();r++)e(this.privList[r],r)}select(e){this.throwIfDisposed();const r=[];for(let n=0;n<this.privList.length;n++)r.push(e(this.privList[n],n));return new rn(r)}where(e){this.throwIfDisposed();const r=new rn;for(let n=0;n<this.privList.length;n++)e(this.privList[n],n)&&r.add(this.privList[n]);return r}orderBy(e){this.throwIfDisposed();const n=this.toArray().sort(e);return new rn(n)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy((r,n)=>e(n,r))}clone(){return this.throwIfDisposed(),new rn(this.toArray())}concat(e){return this.throwIfDisposed(),new rn(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new rn(this.privList.concat(e))}isDisposed(){return this.privList==null}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new Gq.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const r in e)r&&e[r]()}}Zc.List=rn;var Mv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.marshalPromiseToCallbacks=t.Sink=t.Deferred=t.PromiseResultEventSource=t.PromiseResult=t.PromiseState=void 0;var e;(function(a){a[a.None=0]="None",a[a.Resolved=1]="Resolved",a[a.Rejected=2]="Rejected"})(e=t.PromiseState||(t.PromiseState={}));class r{constructor(c){this.throwIfError=()=>{if(this.isError)throw this.error},c.on(l=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=l)},l=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=l)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}t.PromiseResult=r;class n{constructor(){this.setResult=c=>{this.privOnSetResult(c)},this.setError=c=>{this.privOnSetError(c)},this.on=(c,l)=>{this.privOnSetResult=c,this.privOnSetError=l}}}t.PromiseResultEventSource=n;class i{constructor(){this.resolve=c=>(this.privResolve(c),this),this.reject=c=>(this.privReject(c),this),this.privPromise=new Promise((c,l)=>{this.privResolve=c,this.privReject=l})}get promise(){return this.privPromise}}t.Deferred=i;class s{constructor(){this.privState=e.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new n,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(c){if(this.privState!==e.None)throw new Error("'Cannot resolve a completed promise'");this.privState=e.Resolved,this.privPromiseResultEvents.setResult(c);for(let l=0;l<this.privSuccessHandlers.length;l++)this.executeSuccessCallback(c,this.privSuccessHandlers[l],this.privErrorHandlers[l]);this.detachHandlers()}reject(c){if(this.privState!==e.None)throw new Error("'Cannot reject a completed promise'");this.privState=e.Rejected,this.privPromiseResultEvents.setError(c);for(const l of this.privErrorHandlers)this.executeErrorCallback(c,l);this.detachHandlers()}on(c,l){c==null&&(c=()=>{}),this.privState===e.None?(this.privSuccessHandlers.push(c),this.privErrorHandlers.push(l)):(this.privState===e.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,c,l):this.privState===e.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,l),this.detachHandlers())}executeSuccessCallback(c,l,u){try{l(c)}catch(d){this.executeErrorCallback(`'Unhandled callback error: ${d}'`,u)}}executeErrorCallback(c,l){if(l)try{l(c)}catch(u){throw new Error(`'Unhandled callback error: ${u}. InnerError: ${c}'`)}else throw new Error(`'Unhandled error: ${c}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}t.Sink=s;function o(a,c,l){a.then(u=>{try{c&&c(u)}catch(d){if(l)try{if(d instanceof Error){const p=d;l(p.name+": "+p.message)}else l(d)}catch{}}},u=>{if(l)try{if(u instanceof Error){const d=u;l(d.name+": "+d.message)}else l(u)}catch{}})}t.marshalPromiseToCallbacks=o})(Mv);var el={};Object.defineProperty(el,"__esModule",{value:!0});el.Queue=void 0;const ym=Ze,Cm=Zc,dC=Mv;var mc;(function(t){t[t.Dequeue=0]="Dequeue",t[t.Peek=1]="Peek"})(mc||(mc={}));class Qq{constructor(e){this.privPromiseStore=new Cm.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new Cm.List,this.privDetachables=[],this.privSubscribers=new Cm.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise(r=>r(e)))}enqueueFromPromise(e){this.throwIfDispose(),e.then(r=>{this.privList.add(r)},()=>{})}dequeue(){this.throwIfDispose();const e=new dC.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:mc.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new dC.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:mc.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(e,r){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=r,this.privIsDisposing=!0;const n=this.privSubscribers;if(n){for(;n.length()>0;)n.removeFirst().deferral.resolve(void 0);this.privSubscribers===n&&(this.privSubscribers=n)}for(const i of this.privDetachables)await i.detach();if(this.privPromiseStore.length()>0&&e){const i=[];return this.privPromiseStore.toArray().forEach(s=>{i.push(s)}),Promise.all(i).finally(()=>{this.privSubscribers=null,this.privList.forEach(s=>{e(s)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(e){await this.drainAndDispose(null,e)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,r=this.privList;if(e&&r){for(;r.length()>0&&e.length()>0&&!this.privIsDisposing;){const n=e.removeFirst();if(n.type===mc.Peek)n.deferral.resolve(r.first());else{const i=r.removeFirst();n.deferral.resolve(i)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===r&&(this.privList=r)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new ym.InvalidOperationError(this.privDisposeReason):new ym.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new ym.InvalidOperationError("Queue disposing")}}el.Queue=Qq;var xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.RawWebsocketMessage=void 0;const zl=Ov,co=Ze,Jq=Yt;class Xq{constructor(e,r,n){if(this.privPayload=null,!r)throw new co.ArgumentNullError("payload");if(e===zl.MessageType.Binary&&Object.getPrototypeOf(r).constructor.name!=="ArrayBuffer")throw new co.InvalidOperationError("Payload must be ArrayBuffer");if(e===zl.MessageType.Text&&typeof r!="string")throw new co.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=r,this.privId=n||Jq.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===zl.MessageType.Binary)throw new co.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===zl.MessageType.Text)throw new co.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}}xd.RawWebsocketMessage=Xq;var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.RiffPcmEncoder=void 0;class Yq{constructor(e,r){this.privActualSampleRate=e,this.privDesiredSampleRate=r}encode(e){const r=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!r)return null;const n=r.length*2,i=new ArrayBuffer(n),s=new DataView(i);return this.floatTo16BitPCM(s,0,r),i}setString(e,r,n){for(let i=0;i<n.length;i++)e.setUint8(r+i,n.charCodeAt(i))}floatTo16BitPCM(e,r,n){for(let i=0;i<n.length;i++,r+=2){const s=Math.max(-1,Math.min(1,n[i]));e.setInt16(r,s<0?s*32768:s*32767,!0)}}downSampleAudioFrame(e,r,n){if(!e)return null;if(n===r||n>r)return e;const i=r/n,s=Math.round(e.length/i),o=new Float32Array(s);let a=0,c=0;for(;c<s;){const l=Math.round((c+1)*i);let u=0,d=0;for(;a<l&&a<e.length;)u+=e[a++],d++;o[c++]=u/d}return o}}Nd.RiffPcmEncoder=Yq;var Ed={};Object.defineProperty(Ed,"__esModule",{value:!0});Ed.Stream=void 0;const pC=Ze,Zq=Yt,mC=el;class e2{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||Zq.createNoDashGuid(),this.privReaderQueue=new mC.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch{}}read(){if(this.privIsReadEnded)throw new pC.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async e=>((e===void 0||e.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),e))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new mC.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new pC.InvalidOperationError("Stream closed")}}Ed.Stream=e2;var wd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(t.TranslationStatus||(t.TranslationStatus={}))})(wd);var lo={},hC;function t2(){if(hC)return lo;hC=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.ChunkedArrayBufferStream=void 0;const t=U();let e=class extends t.Stream{constructor(n,i){super(i),this.privTargetChunkSize=n,this.privNextBufferReadyBytes=0}writeStreamChunk(n){if(n.isEnd||this.privNextBufferReadyBytes===0&&n.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(n);return}let i=0;for(;i<n.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=n.timeReceived);const s=Math.min(n.buffer.byteLength-i,this.privTargetChunkSize-this.privNextBufferReadyBytes),o=new Uint8Array(this.privNextBufferToWrite),a=new Uint8Array(n.buffer.slice(i,s+i));o.set(a,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=s,i+=s,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return lo.ChunkedArrayBufferStream=e,lo}var Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});var bd={};Object.defineProperty(bd,"__esModule",{value:!0});bd.Timeout=void 0;class pt{static load(){const e=new Map([[0,()=>{}]]),r=new Map,i="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),s=new Worker(i);return s.addEventListener("message",({data:c})=>{if(pt.isCallNotification(c)){const{params:{timerId:l}}=c,u=e.get(l);if(typeof u=="number"){const d=r.get(u);if(d===void 0||d!==l)throw new Error("The timer is in an undefined state.")}else if(typeof u<"u")u(),e.delete(l);else throw new Error("The timer is in an undefined state.")}else if(pt.isClearResponse(c)){const{id:l}=c,u=r.get(l);if(u===void 0)throw new Error("The timer is in an undefined state.");r.delete(l),e.delete(u)}else{const{error:{message:l}}=c;throw new Error(l)}}),{clearTimeout:c=>{const l=Math.random();r.set(l,c),e.set(c,l),s.postMessage({id:l,method:"clear",params:{timerId:c}})},setTimeout:(c,l)=>{const u=Math.random();return e.set(u,c),s.postMessage({id:null,method:"set",params:{delay:l,now:performance.now(),timerId:u}}),u}}}static loadWorkerTimers(){return()=>(pt.workerTimers!==null||(pt.workerTimers=pt.load()),pt.workerTimers)}static isCallNotification(e){return e.method!==void 0&&e.method==="call"}static isClearResponse(e){return e.error===null&&typeof e.id=="number"}}bd.Timeout=pt;pt.workerTimers=null;pt.clearTimeout=t=>pt.timers().clearTimeout(t);pt.setTimeout=(t,e)=>pt.timers().setTimeout(t,e);pt.timers=pt.loadWorkerTimers();var re={};Object.defineProperty(re,"__esModule",{value:!0});re.OCSPCacheUpdateErrorEvent=re.OCSPResponseRetrievedEvent=re.OCSPCacheFetchErrorEvent=re.OCSPVerificationFailedEvent=re.OCSPCacheHitEvent=re.OCSPCacheEntryNeedsRefreshEvent=re.OCSPCacheEntryExpiredEvent=re.OCSPWSUpgradeStartedEvent=re.OCSPStapleReceivedEvent=re.OCSPCacheUpdateCompleteEvent=re.OCSPDiskCacheStoreEvent=re.OCSPMemoryCacheStoreEvent=re.OCSPCacheUpdateNeededEvent=re.OCSPDiskCacheHitEvent=re.OCSPCacheMissEvent=re.OCSPMemoryCacheHitEvent=re.OCSPEvent=void 0;const rt=Fs;class nt extends rt.PlatformEvent{constructor(e,r,n){super(e,r),this.privSignature=n}}re.OCSPEvent=nt;class r2 extends nt{constructor(e){super("OCSPMemoryCacheHitEvent",rt.EventType.Debug,e)}}re.OCSPMemoryCacheHitEvent=r2;class n2 extends nt{constructor(e){super("OCSPCacheMissEvent",rt.EventType.Debug,e)}}re.OCSPCacheMissEvent=n2;class i2 extends nt{constructor(e){super("OCSPDiskCacheHitEvent",rt.EventType.Debug,e)}}re.OCSPDiskCacheHitEvent=i2;class s2 extends nt{constructor(e){super("OCSPCacheUpdateNeededEvent",rt.EventType.Debug,e)}}re.OCSPCacheUpdateNeededEvent=s2;class o2 extends nt{constructor(e){super("OCSPMemoryCacheStoreEvent",rt.EventType.Debug,e)}}re.OCSPMemoryCacheStoreEvent=o2;class a2 extends nt{constructor(e){super("OCSPDiskCacheStoreEvent",rt.EventType.Debug,e)}}re.OCSPDiskCacheStoreEvent=a2;class c2 extends nt{constructor(e){super("OCSPCacheUpdateCompleteEvent",rt.EventType.Debug,e)}}re.OCSPCacheUpdateCompleteEvent=c2;class l2 extends nt{constructor(){super("OCSPStapleReceivedEvent",rt.EventType.Debug,"")}}re.OCSPStapleReceivedEvent=l2;class u2 extends nt{constructor(e){super("OCSPWSUpgradeStartedEvent",rt.EventType.Debug,e)}}re.OCSPWSUpgradeStartedEvent=u2;class d2 extends nt{constructor(e,r){super("OCSPCacheEntryExpiredEvent",rt.EventType.Debug,e),this.privExpireTime=r}}re.OCSPCacheEntryExpiredEvent=d2;class p2 extends nt{constructor(e,r,n){super("OCSPCacheEntryNeedsRefreshEvent",rt.EventType.Debug,e),this.privExpireTime=n,this.privStartTime=r}}re.OCSPCacheEntryNeedsRefreshEvent=p2;class m2 extends nt{constructor(e,r,n){super("OCSPCacheHitEvent",rt.EventType.Debug,e),this.privExpireTime=n,this.privExpireTimeString=new Date(n).toLocaleDateString(),this.privStartTime=r,this.privStartTimeString=new Date(r).toLocaleTimeString()}}re.OCSPCacheHitEvent=m2;class h2 extends nt{constructor(e,r){super("OCSPVerificationFailedEvent",rt.EventType.Debug,e),this.privError=r}}re.OCSPVerificationFailedEvent=h2;class f2 extends nt{constructor(e,r){super("OCSPCacheFetchErrorEvent",rt.EventType.Debug,e),this.privError=r}}re.OCSPCacheFetchErrorEvent=f2;class v2 extends nt{constructor(e){super("OCSPResponseRetrievedEvent",rt.EventType.Debug,e)}}re.OCSPResponseRetrievedEvent=v2;class g2 extends nt{constructor(e,r){super("OCSPCacheUpdateErrorEvent",rt.EventType.Debug,e),this.privError=r}}re.OCSPCacheUpdateErrorEvent=g2;var uo={},fC;function y2(){if(fC)return uo;fC=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.BackgroundEvent=void 0;const t=U();class e extends t.PlatformEvent{constructor(n){super("BackgroundEvent",t.EventType.Error),this.privError=n}get error(){return this.privError}}return uo.BackgroundEvent=e,uo}var vC;function U(){return vC||(vC=1,function(t){var e=Y&&Y.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return s[o]}})}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=Y&&Y.__exportStar||function(i,s){for(var o in i)o!=="default"&&!s.hasOwnProperty(o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ee,t),r(_e,t),r(Ov,t),r(Sd,t),r(Pd,t),r(Pi,t),r(Ze,t),r(Rd,t),r(Yc,t),r(Yt,t),r(F0,t),r($0,t),r(W0,t),r(K0,t),r(V0,t),r(G0,t),r(Q0,t),r(J0,t),r(X0,t),r(Y0,t),r(Zc,t),r(Fs,t),r(Mv,t),r(el,t),r(xd,t),r(Nd,t),r(Ed,t);var n=wd;Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return n.TranslationStatus}}),r(t2(),t),r(Z0,t),r(bd,t),r(re,t),r(y2(),t)}(gm)),gm}var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.HeaderNames=void 0;class cr{}Ke.HeaderNames=cr;cr.AuthKey="Ocp-Apim-Subscription-Key";cr.Authorization="Authorization";cr.SpIDAuthKey="Apim-Subscription-Id";cr.ConnectionId="X-ConnectionId";cr.ContentType="Content-Type";cr.CustomCommandsAppId="X-CommandsAppId";cr.Path="Path";cr.RequestId="X-RequestId";cr.RequestStreamId="X-StreamId";cr.RequestTimestamp="X-Timestamp";var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.AuthInfo=void 0;class C2{constructor(e,r){this.privHeaderName=e,this.privToken=r}get headerName(){return this.privHeaderName}get token(){return this.privToken}}Ws.AuthInfo=C2;Object.defineProperty(Cd,"__esModule",{value:!0});Cd.CognitiveSubscriptionKeyAuthentication=void 0;const S2=U(),P2=Ke,R2=Ws;class x2{constructor(e){if(!e)throw new S2.ArgumentNullError("subscriptionKey");this.privAuthInfo=new R2.AuthInfo(P2.HeaderNames.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}Cd.CognitiveSubscriptionKeyAuthentication=x2;var Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.CognitiveTokenAuthentication=void 0;const gC=U(),yC=Ws,CC=Ke;class qc{constructor(e,r){if(!e)throw new gC.ArgumentNullError("fetchCallback");if(!r)throw new gC.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=r}fetch(e){return this.privFetchCallback(e).then(r=>new yC.AuthInfo(CC.HeaderNames.Authorization,r===void 0?void 0:qc.privTokenPrefix+r))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then(r=>new yC.AuthInfo(CC.HeaderNames.Authorization,r===void 0?void 0:qc.privTokenPrefix+r))}}Td.CognitiveTokenAuthentication=qc;qc.privTokenPrefix="Bearer ";var eT={};Object.defineProperty(eT,"__esModule",{value:!0});var tT={};Object.defineProperty(tT,"__esModule",{value:!0});var po={},Sm={},Id={};const Oi=DP(P0);var kv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0;const e=U();Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return e.EventType}})})(kv);var F={};Object.defineProperty(F,"__esModule",{value:!0});F.Contracts=void 0;class nn{static throwIfNullOrUndefined(e,r){if(e==null)throw new Error("throwIfNullOrUndefined:"+r)}static throwIfNull(e,r){if(e===null)throw new Error("throwIfNull:"+r)}static throwIfNullOrWhitespace(e,r){if(nn.throwIfNullOrUndefined(e,r),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+r)}static throwIfNullOrTooLong(e,r,n){if(nn.throwIfNullOrUndefined(e,r),(""+e).length>n)throw new Error("throwIfNullOrTooLong:"+r+" (more than "+n.toString()+" characters)")}static throwIfNullOrTooShort(e,r,n){if(nn.throwIfNullOrUndefined(e,r),(""+e).length<n)throw new Error("throwIfNullOrTooShort:"+r+" (less than "+n.toString()+" characters)")}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,r){if(nn.throwIfNullOrUndefined(e,r),e.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+r);for(const n of e)nn.throwIfNullOrWhitespace(n,r)}static throwIfFileDoesNotExist(e,r){nn.throwIfNullOrWhitespace(e,r)}static throwIfNotUndefined(e,r){if(e!==void 0)throw new Error("throwIfNotUndefined:"+r)}}F.Contracts=nn;var N2=Y&&Y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),E2=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w2=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&N2(e,t,r);return E2(e,t),e};Object.defineProperty(Id,"__esModule",{value:!0});Id.ConsoleLoggingListener=void 0;const SC=w2(Oi),mo=kv,b2=F;class T2{constructor(e=mo.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=e}set logPath(e){b2.Contracts.throwIfNullOrUndefined(SC.openSync,`
File System access not available`),this.privLogPath=e}set enableConsoleOutput(e){this.privEnableConsoleOutput=e}onEvent(e){if(e.eventType>=this.privLogLevelFilter){const r=this.toString(e);if(this.logCallback&&this.logCallback(r),this.privLogPath&&SC.writeFileSync(this.privLogPath,r+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(e.eventType){case mo.LogLevel.Debug:console.debug(r);break;case mo.LogLevel.Info:console.info(r);break;case mo.LogLevel.Warning:console.warn(r);break;case mo.LogLevel.Error:console.error(r);break;default:console.log(r);break}}}toString(e){const r=[`${e.eventTime}`,`${e.name}`],n=e;for(const i in n)if(i&&e.hasOwnProperty(i)&&i!=="eventTime"&&i!=="eventType"&&i!=="eventId"&&i!=="name"&&i!=="constructor"){const s=n[i];let o="<NULL>";s!=null&&(typeof s=="number"||typeof s=="string"?o=s.toString():o=JSON.stringify(s)),r.push(`${i}: ${o}`)}return r.join(" | ")}}Id.ConsoleLoggingListener=T2;var rT={};Object.defineProperty(rT,"__esModule",{value:!0});var Pm={},Dn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=t.AudioFormatTag=void 0;var e;(function(i){i[i.PCM=1]="PCM",i[i.MuLaw=2]="MuLaw",i[i.Siren=3]="Siren",i[i.MP3=4]="MP3",i[i.SILKSkype=5]="SILKSkype",i[i.OGG_OPUS=6]="OGG_OPUS",i[i.WEBM_OPUS=7]="WEBM_OPUS",i[i.ALaw=8]="ALaw",i[i.FLAC=9]="FLAC",i[i.OPUS=10]="OPUS"})(e=t.AudioFormatTag||(t.AudioFormatTag={}));class r{static getDefaultInputFormat(){return n.getDefaultInputFormat()}static getWaveFormat(s,o,a,c){return new n(s,o,a,c)}static getWaveFormatPCM(s,o,a){return new n(s,o,a)}}t.AudioStreamFormat=r;class n extends r{constructor(s=16e3,o=16,a=1,c=e.PCM){super();let l=!0;switch(c){case e.PCM:this.formatTag=1;break;case e.ALaw:this.formatTag=6;break;case e.MuLaw:this.formatTag=7;break;default:l=!1}if(this.bitsPerSample=o,this.samplesPerSec=s,this.channels=a,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),l){this.privHeader=new ArrayBuffer(44);const u=new DataView(this.privHeader);this.setString(u,0,"RIFF"),u.setUint32(4,0,!0),this.setString(u,8,"WAVEfmt "),u.setUint32(16,16,!0),u.setUint16(20,this.formatTag,!0),u.setUint16(22,this.channels,!0),u.setUint32(24,this.samplesPerSec,!0),u.setUint32(28,this.avgBytesPerSec,!0),u.setUint16(32,this.channels*(this.bitsPerSample/8),!0),u.setUint16(34,this.bitsPerSample,!0),this.setString(u,36,"data"),u.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new n}static getAudioContext(s){const o=window.AudioContext||window.webkitAudioContext||!1;if(o)return s!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new o({sampleRate:s}):new o;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(s,o,a){for(let c=0;c<a.length;c++)s.setUint8(o+c,a.charCodeAt(c))}}t.AudioStreamFormatImpl=n})(Dn);var PC;function I2(){return PC||(PC=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;const e=j(),r=U(),n=Dn;t.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class i{constructor(o,a,c,l){this.privRecorder=o,this.deviceId=a,this.privStreams={},this.privOutputChunkSize=i.AUDIOFORMAT.avgBytesPerSec/10,this.privId=c||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=l||null,this.privIsClosing=!1}get format(){return Promise.resolve(i.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(c){if(c instanceof Error){const l=c;this.privInitializeDeferral.reject(l.name+": "+l.message)}else this.privInitializeDeferral.reject(c);return this.privInitializeDeferral.promise}const o=window.navigator;let a=o.getUserMedia||o.webkitGetUserMedia||o.mozGetUserMedia||o.msGetUserMedia;if(o.mediaDevices&&(a=(c,l,u)=>{o.mediaDevices.getUserMedia(c).then(l).catch(u)}),a){const c=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):a({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},l=>{this.privMediaStream=l,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},l=>{const u=`Error occurred during microphone initialization: ${l}`;this.privInitializeDeferral.reject(u),this.onEvent(new r.AudioSourceErrorEvent(this.privId,u))})};this.privContext.state==="suspended"?this.privContext.resume().then(c).catch(l=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${l}`)}):c()}else{const c="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(c),this.onEvent(new r.AudioSourceErrorEvent(c,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(o){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,o)),this.listen(o).then(a=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,o)),{detach:async()=>(a.readEnded(),delete this.privStreams[o],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,o)),this.turnOff()),id:()=>o,read:()=>a.read()}))}detach(o){o&&this.privStreams[o]&&(this.privStreams[o].close(),delete this.privStreams[o],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,o)))}async turnOff(){for(const o in this.privStreams)if(o){const a=this.privStreams[o];a&&a.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(o=>({bitspersample:i.AUDIOFORMAT.bitsPerSample,channelcount:i.AUDIOFORMAT.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:o,samplerate:i.AUDIOFORMAT.samplesPerSec,type:e.type.Microphones}))}setProperty(o,a){if(o===t.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(a);else throw new Error("Property '"+o+"' is not supported on Microphone.")}getMicrophoneLabel(){const o="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(o);this.privMicrophoneLabel=o;const a=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(a===void 0)return Promise.resolve(this.privMicrophoneLabel);const c=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(l=>{for(const u of l)if(u.deviceId===a){this.privMicrophoneLabel=u.label;break}c.resolve(this.privMicrophoneLabel)},()=>c.resolve(this.privMicrophoneLabel)),c.promise}async listen(o){await this.turnOn();const a=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,o);this.privStreams[o]=a;try{this.privRecorder.record(this.privContext,this.privMediaStream,a)}catch(l){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,o,l)),l}return a}onEvent(o){this.privEvents.onEvent(o),r.Events.instance.onEvent(o)}createAudioContext(){this.privContext||(this.privContext=n.AudioStreamFormatImpl.getAudioContext(i.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let o=!1;"close"in this.privContext&&(o=!0),o?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}t.MicAudioSource=i,i.AUDIOFORMAT=n.AudioStreamFormat.getDefaultInputFormat()}(Pm)),Pm}var ho={},RC;function _2(){if(RC)return ho;RC=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.FileAudioSource=void 0;const t=j(),e=U(),r=Dn;let n=class{constructor(s,o,a){this.privStreams={},this.privHeaderEnd=44,this.privId=a||e.createNoDashGuid(),this.privEvents=new e.EventSource,this.privSource=s,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=s.name:this.privFilename=o||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const s=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new e.AudioSourceErrorEvent(s,"")),Promise.reject(s)}this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(s){this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,s));const o=await this.upload(s);return this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,s)),Promise.resolve({detach:async()=>{o.readEnded(),delete this.privStreams[s],this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,s)),await this.turnOff()},id:()=>s,read:()=>o.read()})}detach(s){s&&this.privStreams[s]&&(this.privStreams[s].close(),delete this.privStreams[s],this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,s)))}turnOff(){for(const s in this.privStreams)if(s){const o=this.privStreams[s];o&&!o.isClosed&&o.close()}return this.onEvent(new e.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(s=>Promise.resolve({bitspersample:s.bitsPerSample,channelcount:s.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:s.samplesPerSec,type:t.type.File}))}readHeader(){const o=this.privSource.slice(0,4296),a=new e.Deferred,c=l=>{const u=new DataView(l),d=f=>String.fromCharCode(u.getUint8(f),u.getUint8(f+1),u.getUint8(f+2),u.getUint8(f+3));if(d(0)!=="RIFF"){a.reject("Invalid WAV header in file, RIFF was not found");return}if(d(8)!=="WAVE"||d(12)!=="fmt "){a.reject("Invalid WAV header in file, WAVEfmt was not found");return}const p=u.getInt32(16,!0),m=u.getUint16(22,!0),h=u.getUint32(24,!0),v=u.getUint16(34,!0);let y=36+Math.max(p-16,0);for(;d(y)!=="data";y+=2)if(y>4288){a.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=y+8,a.resolve(r.AudioStreamFormat.getWaveFormatPCM(h,v,m))};if(typeof window<"u"&&typeof Blob<"u"&&o instanceof Blob){const l=new FileReader;l.onload=u=>{const d=u.target.result;c(d)},l.readAsArrayBuffer(o)}else{const l=o;c(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength))}return a.promise}async upload(s){const o=a=>{const c=`Error occurred while processing '${this.privFilename}'. ${a}`;throw this.onEvent(new e.AudioStreamNodeErrorEvent(this.privId,s,c)),new Error(c)};try{await this.turnOn();const a=await this.privAudioFormatPromise,c=new e.ChunkedArrayBufferStream(a.avgBytesPerSec/10,s);this.privStreams[s]=c;const l=this.privSource.slice(this.privHeaderEnd),u=d=>{c.isClosed||(c.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()}),c.close())};if(typeof window<"u"&&typeof Blob<"u"&&l instanceof Blob){const d=new FileReader;d.onerror=p=>o(p.toString()),d.onload=p=>{const m=p.target.result;u(m)},d.readAsArrayBuffer(l)}else{const d=l;u(d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength))}return c}catch(a){o(a)}}onEvent(s){this.privEvents.onEvent(s),e.Events.instance.onEvent(s)}};return ho.FileAudioSource=n,ho}var _d={};Object.defineProperty(_d,"__esModule",{value:!0});_d.PcmRecorder=void 0;const A2=U();class z2{constructor(e){this.privStopInputOnRelease=e}record(e,r,n){const s=new A2.RiffPcmEncoder(e.sampleRate,16e3),o=e.createMediaStreamSource(r),a=()=>{const l=(()=>{let u=0;try{return e.createScriptProcessor(u,1,1)}catch{u=2048;let p=e.sampleRate;for(;u<16384&&p>=32e3;)u<<=1,p>>=1;return e.createScriptProcessor(u,1,1)}})();l.onaudioprocess=u=>{const d=u.inputBuffer.getChannelData(0);if(n&&!n.isClosed){const p=s.encode(d);p&&n.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()})}},o.connect(l),l.connect(e.destination),this.privMediaResources={scriptProcessorNode:l,source:o,stream:r}},c=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(e.audioWorklet&&!c){if(!this.privSpeechProcessorScript){const l=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,u=new Blob([l],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(u)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const l=new AudioWorkletNode(e,"speech-processor");l.port.onmessage=u=>{const d=u.data;if(n&&!n.isClosed){const p=s.encode(d);p&&n.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()})}},o.connect(l),l.connect(e.destination),this.privMediaResources={scriptProcessorNode:l,source:o,stream:r}}).catch(()=>{a()})}else try{a()}catch(l){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${l}`)}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(r=>r.stop()),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}_d.PcmRecorder=z2;var Ad={},tl={},O2=Y&&Y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M2=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nT=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&O2(e,t,r);return M2(e,t),e},Dv=Y&&Y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tl,"__esModule",{value:!0});tl.WebsocketMessageAdapter=void 0;const k2=nT(Oi),D2=nT(Oi),B2=Dv(Oi),L2=Dv(Oi),j2=Dv(Oi),q2=Ke,G=U();class Hc{constructor(e,r,n,i,s,o){if(!e)throw new G.ArgumentNullError("uri");if(!n)throw new G.ArgumentNullError("messageFormatter");this.proxyInfo=i,this.privConnectionEvents=new G.EventSource,this.privConnectionId=r,this.privMessageFormatter=n,this.privConnectionState=G.ConnectionState.None,this.privUri=e,this.privHeaders=s,this.privEnableCompression=o,this.privHeaders[q2.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===G.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new G.Deferred,this.privCertificateValidatedDeferral=new G.Deferred,this.privConnectionState=G.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!Hc.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const e={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),e.agent=this.getAgent();let n=new URL(this.privUri).protocol;(n==null?void 0:n.toLocaleLowerCase())==="wss:"?n="https:":(n==null?void 0:n.toLocaleLowerCase())==="ws:"&&(n="http:"),e.agent.protocol=n,this.privWebsocketClient=new j2.default(this.privUri,e)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new G.Queue,this.privDisconnectDeferral=new G.Deferred,this.privSendMessageQueue=new G.Queue,this.processSendQueue().catch(e=>{G.Events.instance.onEvent(new G.BackgroundEvent(e))})}catch(e){return this.privConnectionEstablishDeferral.resolve(new G.ConnectionOpenResponse(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new G.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=G.ConnectionState.Connected,this.onEvent(new G.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new G.ConnectionOpenResponse(200,""))},e=>{this.privConnectionEstablishDeferral.reject(e)})},this.privWebsocketClient.onerror=e=>{this.onEvent(new G.ConnectionErrorEvent(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===G.ConnectionState.Connecting?(this.privConnectionState=G.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new G.ConnectionOpenResponse(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=G.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new G.ConnectionClosedEvent(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch(r=>{G.Events.instance.onEvent(new G.BackgroundEvent(r))})},this.privWebsocketClient.onmessage=e=>{const r=new Date().toISOString();if(this.privConnectionState===G.ConnectionState.Connected){const n=new G.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(n.promise),e.data instanceof ArrayBuffer){const i=new G.RawWebsocketMessage(G.MessageType.Binary,e.data);this.privMessageFormatter.toConnectionMessage(i).then(s=>{this.onEvent(new G.ConnectionMessageReceivedEvent(this.privConnectionId,r,s)),n.resolve(s)},s=>{n.reject(`Invalid binary message format. Error: ${s}`)})}else{const i=new G.RawWebsocketMessage(G.MessageType.Text,e.data);this.privMessageFormatter.toConnectionMessage(i).then(s=>{this.onEvent(new G.ConnectionMessageReceivedEvent(this.privConnectionId,r,s)),n.resolve(s)},s=>{n.reject(`Invalid text message format. Error: ${s}`)})}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==G.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${G.ConnectionState[this.privConnectionState]} state`);const r=new G.Deferred,n=new G.Deferred;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(e).then(i=>{n.resolve({Message:e,RawWebsocketMessage:i,sendStatusDeferral:r})},i=>{n.reject(`Error formatting the message. ${i}`)}),r.promise}read(){return this.privConnectionState!==G.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(e){if(this.privWebsocketClient)this.privConnectionState!==G.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(e){try{if(!e)return Promise.resolve();if(this.onEvent(new G.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),e.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(e.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+new Error().stack);return Promise.resolve()}catch(r){return Promise.reject(`websocket send error: ${r}`)}}async onClose(e,r){const n=`Connection closed. ${e}: ${r}`;this.privConnectionState=G.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},n),await this.privSendMessageQueue.drainAndDispose(i=>{i.sendStatusDeferral.reject(n)},n)}async processSendQueue(){for(;;){const r=await this.privSendMessageQueue.dequeue();if(!r)return;try{await this.sendRawMessage(r),r.sendStatusDeferral.resolve()}catch(n){r.sendStatusDeferral.reject(n)}}}onEvent(e){this.privConnectionEvents.onEvent(e),G.Events.instance.onEvent(e)}getAgent(){const e=new B2.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}static GetProxyAgent(e){const r={host:e.HostName,port:e.Port};return e.UserName?r.headers={"Proxy-Authentication":"Basic "+new Buffer(`${e.UserName}:${e.Password===void 0?"":e.Password}`).toString("base64")}:r.headers={},r.headers.requestOCSP="true",new L2.default(r)}createConnection(e,r){let n;if(r={...r,requestOCSP:!0,servername:r.host},this.proxyInfo){const s=Hc.GetProxyAgent(this.proxyInfo);n=new Promise((o,a)=>{s.callback(e,r,(c,l)=>{c?a(c):o(l)})})}else r.secureEndpoint?n=Promise.resolve(D2.connect(r)):n=Promise.resolve(k2.connect(r));return n}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}tl.WebsocketMessageAdapter=Hc;Hc.forceNpmWebSocket=!1;Object.defineProperty(Ad,"__esModule",{value:!0});Ad.WebsocketConnection=void 0;const Rm=U(),H2=tl;class U2{constructor(e,r,n,i,s,o=!1,a){if(this.privIsDisposed=!1,!e)throw new Rm.ArgumentNullError("uri");if(!i)throw new Rm.ArgumentNullError("messageFormatter");this.privMessageFormatter=i;let c="",l=0;if(r){for(const u in r)if(u){c+=l===0&&e.indexOf("?")===-1?"?":"&";const d=encodeURIComponent(u);c+=d;let p=r[u];p&&(p=encodeURIComponent(p),c+=`=${p}`),l++}}if(n){for(const u in n)if(u){c+=l===0&&e.indexOf("?")===-1?"?":"&";const d=encodeURIComponent(n[u]);c+=`${u}=${d}`,l++}}this.privUri=e+c,this.privId=a||Rm.createNoDashGuid(),this.privConnectionMessageAdapter=new H2.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,s,n,o)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}Ad.WebsocketConnection=U2;var zd={};Object.defineProperty(zd,"__esModule",{value:!0});zd.ReplayableAudioNode=void 0;class F2{constructor(e,r){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=r}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const e=this.privReplayOffset-this.privBufferStartOffset;let r=Math.round(e*this.privBytesPerSecond*1e-7);r%2!==0&&r++;let n=0;for(;n<this.privBuffers.length&&r>=this.privBuffers[n].chunk.buffer.byteLength;)r-=this.privBuffers[n++].chunk.buffer.byteLength;if(n<this.privBuffers.length){const i=this.privBuffers[n].chunk.buffer.slice(r);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,n===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:i,isEnd:!1,timeReceived:this.privBuffers[n].chunk.timeReceived})}}return this.privAudioNode.read().then(e=>(e&&e.buffer&&(this.privBuffers.push(new $2(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=e;const r=e-this.privBufferStartOffset;let n=Math.round(r*this.privBytesPerSecond*1e-7),i=0;for(;i<this.privBuffers.length&&n>=this.privBuffers[i].chunk.buffer.byteLength;)n-=this.privBuffers[i++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(i)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const r of this.privBuffers){const n=r.byteOffset/this.privBytesPerSecond*1e7,i=n+r.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=n&&e<=i)return r.chunk.timeReceived}return 0}}zd.ReplayableAudioNode=F2;class $2{constructor(e,r,n){this.chunk=e,this.serial=r,this.byteOffset=n}}var fo={},xm={},br={},rl={},W2=Y&&Y.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K2=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V2=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&W2(e,t,r);return K2(e,t),e};Object.defineProperty(rl,"__esModule",{value:!0});rl.AudioFileWriter=void 0;const vo=V2(Oi),Nm=F;class G2{constructor(e){Nm.Contracts.throwIfNullOrUndefined(vo.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=vo.openSync(e,"w")}set format(e){Nm.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let r=0;this.privAudioFormat.hasHeader&&(r=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=vo.createWriteStream("",{fd:this.privFd,start:r,autoClose:!1}))}write(e){Nm.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),vo.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),vo.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}}rl.AudioFileWriter=G2;var At={},xC;function iT(){if(xC)return At;xC=1,Object.defineProperty(At,"__esModule",{value:!0}),At.PullAudioInputStreamImpl=At.PullAudioInputStream=At.PushAudioInputStreamImpl=At.PushAudioInputStream=At.AudioInputStream=void 0;const t=j(),e=U(),r=Yt,n=N(),i=Dn;let s=class{constructor(){}static createPushStream(d){return o.create(d)}static createPullStream(d,p){return c.create(d,p)}};At.AudioInputStream=s;class o extends s{static create(d){return new a(d)}}At.PushAudioInputStream=o;class a extends o{constructor(d){super(),d===void 0?this.privFormat=i.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=d,this.privEvents=new e.EventSource,this.privId=r.createNoDashGuid(),this.privStream=new e.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(d){this.privStream.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}async attach(d){this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,d)),await this.turnOn();const p=this.privStream;return this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,d)),{detach:async()=>(this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,d)),this.turnOff()),id:()=>d,read:()=>p.read()}}detach(d){this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,d))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:t.type.Stream})}onEvent(d){this.privEvents.onEvent(d),e.Events.instance.onEvent(d)}toBuffer(d){const p=Buffer.alloc(d.byteLength),m=new Uint8Array(d);for(let h=0;h<p.length;++h)p[h]=m[h];return p}}At.PushAudioInputStreamImpl=a;class c extends s{constructor(){super()}static create(d,p){return new l(d,p)}}At.PullAudioInputStream=c;class l extends c{constructor(d,p){super(),p===void 0?this.privFormat=n.AudioStreamFormat.getDefaultInputFormat():this.privFormat=p,this.privEvents=new e.EventSource,this.privId=r.createNoDashGuid(),this.privCallback=d,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}async attach(d){return this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,d)),await this.turnOn(),this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,d)),{detach:()=>(this.privCallback.close(),this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,d)),this.turnOff()),id:()=>d,read:()=>{let p=0,m;for(;p<this.privBufferSize;){const h=new ArrayBuffer(this.privBufferSize-p),v=this.privCallback.read(h);if(m===void 0?m=h:new Int8Array(m).set(new Int8Array(h),p),v===0)break;p+=v}return Promise.resolve({buffer:m.slice(0,p),isEnd:this.privIsClosed||p===0,timeReceived:Date.now()})}}}detach(d){this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,d))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:t.type.Stream})}onEvent(d){this.privEvents.onEvent(d),e.Events.instance.onEvent(d)}}return At.PullAudioInputStreamImpl=l,At}var Xe={},Bn={},Bv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",e[e.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",e[e.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",e[e.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",e[e.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",e[e.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",e[e.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",e[e.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",e[e.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",e[e.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",e[e.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",e[e.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",e[e.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",e[e.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",e[e.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm"}(t.SpeechSynthesisOutputFormat||(t.SpeechSynthesisOutputFormat={}))})(Bv);Object.defineProperty(Bn,"__esModule",{value:!0});Bn.AudioOutputFormatImpl=void 0;const te=Bv,J=Dn;class $ extends J.AudioStreamFormatImpl{constructor(e,r,n,i,s,o,a,c,l){super(n,o,r,e),this.formatTag=e,this.avgBytesPerSec=i,this.blockAlign=s,this.priAudioFormatString=a,this.priRequestAudioFormatString=c,this.priHasHeader=l}static fromSpeechSynthesisOutputFormat(e){return e===void 0?$.getDefaultOutputFormat():$.fromSpeechSynthesisOutputFormatString($.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new $(J.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new $(J.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new $(J.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new $(J.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new $(J.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new $(J.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new $(J.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new $(J.AudioFormatTag.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new $(J.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new $(J.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new $(J.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new $(J.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new $(J.AudioFormatTag.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new $(J.AudioFormatTag.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new $(J.AudioFormatTag.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new $(J.AudioFormatTag.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new $(J.AudioFormatTag.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new $(J.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new $(J.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new $(J.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new $(J.AudioFormatTag.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);case"riff-16khz-16bit-mono-pcm":default:return new $(J.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return $.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const r=new DataView(this.privHeader);r.setUint32(4,e+this.privHeader.byteLength-8,!0),r.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(e){if(!this.hasHeader)return e;this.updateHeader(e.byteLength);const r=new Uint8Array(e.byteLength+this.header.byteLength);return r.set(new Uint8Array(this.header),0),r.set(new Uint8Array(e),this.header.byteLength),r.buffer}}Bn.AudioOutputFormatImpl=$;$.SpeechSynthesisOutputFormatToString={[te.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[te.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[te.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[te.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[te.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[te.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[te.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[te.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[te.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[te.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[te.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[te.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[te.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[te.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[te.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[te.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[te.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[te.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[te.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[te.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm"};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PushAudioOutputStreamImpl=Xe.PushAudioOutputStream=Xe.PullAudioOutputStreamImpl=Xe.PullAudioOutputStream=Xe.AudioOutputStream=void 0;const Gh=U(),Q2=F,J2=Bn;class Lv{constructor(){}static createPullStream(){return jv.create()}}Xe.AudioOutputStream=Lv;class jv extends Lv{static create(){return new sT}}Xe.PullAudioOutputStream=jv;class sT extends jv{constructor(){super(),this.privId=Gh.createNoDashGuid(),this.privStream=new Gh.Stream}set format(e){e==null&&(this.privFormat=J2.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(e){const r=new Int8Array(e);let n=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>e.byteLength)return r.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);r.set(this.privLastChunkView),n=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;n<e.byteLength&&!this.privStream.isReadEnded;){const i=await this.privStream.read();if(i!==void 0&&!i.isEnd){let s;i.buffer.byteLength>e.byteLength-n?(s=i.buffer.slice(0,e.byteLength-n),this.privLastChunkView=new Int8Array(i.buffer.slice(e.byteLength-n))):s=i.buffer,r.set(new Int8Array(s),n),n+=s.byteLength}else this.privStream.readEnded()}return n}write(e){Q2.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}Xe.PullAudioOutputStreamImpl=sT;class oT extends Lv{constructor(){super()}static create(e){return new aT(e)}}Xe.PushAudioOutputStream=oT;class aT extends oT{constructor(e){super(),this.privId=Gh.createNoDashGuid(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}Xe.PushAudioOutputStreamImpl=aT;var NC;function lT(){if(NC)return br;NC=1,Object.defineProperty(br,"__esModule",{value:!0}),br.AudioOutputConfigImpl=br.AudioConfigImpl=br.AudioConfig=void 0;const t=Ve(),e=F,r=N(),n=rl,i=iT(),s=Xe;let o=class cT{static fromDefaultMicrophoneInput(){const u=new t.PcmRecorder(!0);return new a(new t.MicAudioSource(u))}static fromMicrophoneInput(u){const d=new t.PcmRecorder(!0);return new a(new t.MicAudioSource(d,u))}static fromWavFileInput(u,d="unnamedBuffer.wav"){return new a(new t.FileAudioSource(u,d))}static fromStreamInput(u){if(u instanceof r.PullAudioInputStreamCallback)return new a(new i.PullAudioInputStreamImpl(u));if(u instanceof r.AudioInputStream)return new a(u);if(typeof MediaStream<"u"&&u instanceof MediaStream){const d=new t.PcmRecorder(!1);return new a(new t.MicAudioSource(d,null,null,u))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new c(new r.SpeakerAudioDestination)}static fromSpeakerOutput(u){if(u===void 0)return cT.fromDefaultSpeakerOutput();if(u instanceof r.SpeakerAudioDestination)return new c(u);throw new Error("Not Supported Type")}static fromAudioFileOutput(u){return new c(new n.AudioFileWriter(u))}static fromStreamOutput(u){if(u instanceof r.PushAudioOutputStreamCallback)return new c(new s.PushAudioOutputStreamImpl(u));if(u instanceof r.PushAudioOutputStream)return new c(u);if(u instanceof r.PullAudioOutputStream)return new c(u);throw new Error("Not Supported Type")}};br.AudioConfig=o;class a extends o{constructor(u){super(),this.privSource=u}get format(){return this.privSource.format}close(u,d){this.privSource.turnOff().then(()=>{u&&u()},p=>{d&&d(p)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(u){return this.privSource.attach(u)}detach(u){return this.privSource.detach(u)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(u,d){if(e.Contracts.throwIfNull(d,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(u,d);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(u,d){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(u,d);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}br.AudioConfigImpl=a;class c extends o{constructor(u){super(),this.privDestination=u}set format(u){this.privDestination.format=u}write(u){this.privDestination.write(u)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return br.AudioOutputConfigImpl=c,br}var uT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(t.CancellationReason||(t.CancellationReason={}))})(uT);var Od={};Object.defineProperty(Od,"__esModule",{value:!0});Od.PullAudioInputStreamCallback=void 0;class X2{}Od.PullAudioInputStreamCallback=X2;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.PushAudioOutputStreamCallback=void 0;class Y2{}Md.PushAudioOutputStreamCallback=Y2;var kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.KeywordRecognitionModel=void 0;const EC=F;class Z2{constructor(){this.privDisposed=!1}static fromFile(e){throw EC.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")}static fromStream(e){throw EC.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}}kd.KeywordRecognitionModel=Z2;var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.SessionEventArgs=void 0;class eH{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}Dd.SessionEventArgs=eH;var go={},wC;function tH(){if(wC)return go;wC=1,Object.defineProperty(go,"__esModule",{value:!0}),go.RecognitionEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privOffset=n}get offset(){return this.privOffset}};return go.RecognitionEventArgs=e,go}var dT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.OutputFormat||(t.OutputFormat={}))})(dT);var yo={},bC;function rH(){if(bC)return yo;bC=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.IntentRecognitionEventArgs=void 0;const t=N();let e=class extends t.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return yo.IntentRecognitionEventArgs=e,yo}var Bd={};Object.defineProperty(Bd,"__esModule",{value:!0});Bd.RecognitionResult=void 0;class nH{constructor(e,r,n,i,s,o,a,c,l,u){this.privResultId=e,this.privReason=r,this.privText=n,this.privDuration=i,this.privOffset=s,this.privLanguage=o,this.privLanguageDetectionConfidence=a,this.privErrorDetails=c,this.privJson=l,this.privProperties=u}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}Bd.RecognitionResult=nH;var Co={},TC;function iH(){if(TC)return Co;TC=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.SpeechRecognitionResult=void 0;const t=N();let e=class extends t.RecognitionResult{constructor(n,i,s,o,a,c,l,u,d,p,m){super(n,i,s,o,a,c,l,d,p,m),this.privSpeakerId=u}get speakerId(){return this.privSpeakerId}};return Co.SpeechRecognitionResult=e,Co}var So={},IC;function sH(){if(IC)return So;IC=1,Object.defineProperty(So,"__esModule",{value:!0}),So.IntentRecognitionResult=void 0;const t=N();let e=class extends t.SpeechRecognitionResult{constructor(n,i,s,o,a,c,l,u,d,p,m){super(i,s,o,a,c,l,u,void 0,d,p,m),this.privIntentId=n}get intentId(){return this.privIntentId}};return So.IntentRecognitionResult=e,So}var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.LanguageUnderstandingModelImpl=ys.LanguageUnderstandingModel=void 0;const Bi=F;class pT{constructor(){}static fromEndpoint(e){Bi.Contracts.throwIfNull(e,"uri"),Bi.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");const r=new Gl,n=e.host.indexOf(".");if(n===-1)throw new Error("Could not determine region from endpoint");r.region=e.host.substr(0,n);const i=e.pathname.lastIndexOf("/")+1;if(i===-1)throw new Error("Could not determine appId from endpoint");if(r.appId=e.pathname.substr(i),r.subscriptionKey=e.searchParams.get("subscription-key"),r.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return r}static fromAppId(e){Bi.Contracts.throwIfNullOrWhitespace(e,"appId");const r=new Gl;return r.appId=e,r}static fromSubscription(e,r,n){Bi.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),Bi.Contracts.throwIfNullOrWhitespace(r,"appId"),Bi.Contracts.throwIfNullOrWhitespace(n,"region");const i=new Gl;return i.appId=r,i.region=n,i.subscriptionKey=e,i}}ys.LanguageUnderstandingModel=pT;class Gl extends pT{}ys.LanguageUnderstandingModelImpl=Gl;var Tr={},_C;function oH(){if(_C)return Tr;_C=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.MeetingTranscriptionEventArgs=Tr.ConversationTranscriptionEventArgs=Tr.SpeechRecognitionEventArgs=void 0;const t=N();let e=class extends t.RecognitionEventArgs{constructor(s,o,a){super(o,a),this.privResult=s}get result(){return this.privResult}};Tr.SpeechRecognitionEventArgs=e;class r extends t.RecognitionEventArgs{constructor(s,o,a){super(o,a),this.privResult=s}get result(){return this.privResult}}Tr.ConversationTranscriptionEventArgs=r;class n extends e{}return Tr.MeetingTranscriptionEventArgs=n,Tr}var Po={},Ro={},AC;function nl(){if(AC)return Ro;AC=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.CancellationEventArgsBase=void 0;const t=N();let e=class extends t.RecognitionEventArgs{constructor(n,i,s,o,a){super(o,a),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=s}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Ro.CancellationEventArgsBase=e,Ro}var zC;function aH(){if(zC)return Po;zC=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.SpeechRecognitionCanceledEventArgs=void 0;const t=nl();let e=class extends t.CancellationEventArgsBase{};return Po.SpeechRecognitionCanceledEventArgs=e,Po}var xo={},OC;function cH(){if(OC)return xo;OC=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.TranslationRecognitionEventArgs=void 0;const t=N();let e=class extends t.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return xo.TranslationRecognitionEventArgs=e,xo}var No={},MC;function lH(){if(MC)return No;MC=1,Object.defineProperty(No,"__esModule",{value:!0}),No.TranslationSynthesisEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privResult=n}get result(){return this.privResult}};return No.TranslationSynthesisEventArgs=e,No}var Eo={},kC;function hT(){if(kC)return Eo;kC=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.TranslationRecognitionResult=void 0;const t=N();let e=class mT extends t.SpeechRecognitionResult{constructor(n,i,s,o,a,c,l,u,d,p,m){super(i,s,o,a,c,l,u,void 0,d,p,m),this.privTranslations=n}static fromSpeechRecognitionResult(n){return new mT(void 0,n.resultId,n.reason,n.text,n.duration,n.offset,n.language,n.languageDetectionConfidence,n.errorDetails,n.json,n.properties)}get translations(){return this.privTranslations}};return Eo.TranslationRecognitionResult=e,Eo}var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.TranslationSynthesisResult=void 0;class uH{constructor(e,r){this.privReason=e,this.privAudio=r}get audio(){return this.privAudio}get reason(){return this.privReason}}Ld.TranslationSynthesisResult=uH;var fT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizedKeyword=4]="RecognizedKeyword",e[e.RecognizingIntent=5]="RecognizingIntent",e[e.RecognizedIntent=6]="RecognizedIntent",e[e.TranslatingSpeech=7]="TranslatingSpeech",e[e.TranslatedSpeech=8]="TranslatedSpeech",e[e.SynthesizingAudio=9]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",e[e.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",e[e.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",e[e.RecognizedSpeakers=14]="RecognizedSpeakers",e[e.RecognizedSpeaker=15]="RecognizedSpeaker",e[e.ResetVoiceProfile=16]="ResetVoiceProfile",e[e.DeletedVoiceProfile=17]="DeletedVoiceProfile",e[e.VoicesListRetrieved=18]="VoicesListRetrieved",e[e.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",e[e.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",e[e.TranslatedInstantMessage=21]="TranslatedInstantMessage",e[e.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(t.ResultReason||(t.ResultReason={}))})(fT);var jn={},DC;function dH(){if(DC)return jn;DC=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.SpeechConfigImpl=jn.SpeechConfig=void 0;const t=j(),e=F,r=N();let n=class{constructor(){}static fromSubscription(o,a){e.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c}static fromEndpoint(o,a){e.Contracts.throwIfNull(o,"endpoint");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.href),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromHost(o,a){e.Contracts.throwIfNull(o,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,o.protocol+"//"+o.hostname+(o.port===""?"":":"+o.port)),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromAuthorizationToken(o,a){e.Contracts.throwIfNull(o,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),c.authorizationToken=o,c}close(){}};jn.SpeechConfig=n;class i extends n{constructor(){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,o)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,o)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(t.OutputFormatPropertyName,void 0)]}set outputFormat(o){this.privProperties.setProperty(t.OutputFormatPropertyName,r.OutputFormat[o])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,o)}setProperty(o,a){e.Contracts.throwIfNull(a,"value"),this.privProperties.setProperty(o,a)}getProperty(o,a){return this.privProperties.getProperty(o,a)}setProxy(o,a,c,l){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],o),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],l)}setServiceProperty(o,a){const c=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));c[o]=a,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[o])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(t.ForceDictationPropertyName,"true")}clone(){const o=new i;return o.privProperties=this.privProperties.clone(),o}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,o)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,o)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(o){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[o])}}return jn.SpeechConfigImpl=i,jn}var qn={},BC;function pH(){if(BC)return qn;BC=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.SpeechTranslationConfigImpl=qn.SpeechTranslationConfig=void 0;const t=j(),e=F,r=N();let n=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(o,a){e.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromAuthorizationToken(o,a){e.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromHost(o,a){e.Contracts.throwIfNull(o,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,o.protocol+"//"+o.hostname+(o.port===""?"":":"+o.port)),a!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromEndpoint(o,a){e.Contracts.throwIfNull(o,"endpoint"),e.Contracts.throwIfNull(a,"subscriptionKey");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.href),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}};qn.SpeechTranslationConfig=n;class i extends n{constructor(){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple}set authorizationToken(o){e.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}set speechRecognitionLanguage(o){e.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,o)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(t.OutputFormatPropertyName,void 0)]}set outputFormat(o){this.privSpeechProperties.setProperty(t.OutputFormatPropertyName,r.OutputFormat[o])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,o)}addTargetLanguage(o){e.Contracts.throwIfNullOrWhitespace(o,"value");const a=this.targetLanguages;a.includes(o)||(a.push(o),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,a.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(o){e.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,o)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}setProxy(o,a,c,l){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],o),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],l)}getProperty(o,a){return this.privSpeechProperties.getProperty(o,a)}setProperty(o,a){this.privSpeechProperties.setProperty(o,a)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(o,a){const c=JSON.parse(this.privSpeechProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));c[o]=a,this.privSpeechProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[o])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(t.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,o)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,o)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(o){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[o])}}return qn.SpeechTranslationConfigImpl=i,qn}var wo={},LC;function gT(){if(LC)return wo;LC=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.PropertyCollection=void 0;const t=N();let e=class vT{constructor(){this.privKeys=[],this.privValues=[]}getProperty(n,i){let s;typeof n=="string"?s=n:s=t.PropertyId[n];for(let o=0;o<this.privKeys.length;o++)if(this.privKeys[o]===s)return this.privValues[o];if(i!==void 0)return String(i)}setProperty(n,i){let s;typeof n=="string"?s=n:s=t.PropertyId[n];for(let o=0;o<this.privKeys.length;o++)if(this.privKeys[o]===s){this.privValues[o]=i;return}this.privKeys.push(s),this.privValues.push(i)}clone(){const n=new vT;for(let i=0;i<this.privKeys.length;i++)n.privKeys.push(this.privKeys[i]),n.privValues.push(this.privValues[i]);return n}mergeTo(n){this.privKeys.forEach(i=>{if(n.getProperty(i,void 0)===void 0){const s=this.getProperty(i);n.setProperty(i,s)}})}get keys(){return this.privKeys}};return wo.PropertyCollection=e,wo}var jd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=25]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",e[e.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceConnection_LanguageIdMode=34]="SpeechServiceConnection_LanguageIdMode",e[e.SpeechServiceConnection_RecognitionEndpointVersion=35]="SpeechServiceConnection_RecognitionEndpointVersion",e[e.SpeechServiceConnection_SpeakerIdMode=36]="SpeechServiceConnection_SpeakerIdMode",e[e.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",e[e.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",e[e.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",e[e.Conversation_ApplicationId=46]="Conversation_ApplicationId",e[e.Conversation_DialogType=47]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=49]="Conversation_From_Id",e[e.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",e[e.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",e[e.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",e[e.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=56]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=57]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=59]="ConversationTranslator_Token",e[e.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",e[e.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",e[e.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",e[e.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",e[e.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",e[e.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",e[e.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version",e[e.WebWorkerLoadType=67]="WebWorkerLoadType",e[e.TalkingAvatarService_WebRTC_SDP=68]="TalkingAvatarService_WebRTC_SDP"}(t.PropertyId||(t.PropertyId={}))})(jd);var bo={},jC;function mH(){if(jC)return bo;jC=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Recognizer=void 0;const t=j(),e=U(),r=F,n=N();let i=class yT{constructor(o,a,c){this.audioConfig=o!==void 0?o:n.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=a.clone(),this.privConnectionFactory=c,this.implCommonRecognizerSetup()}close(o,a){r.Contracts.throwIfDisposed(this.privDisposed),e.marshalPromiseToCallbacks(this.dispose(!0),o,a)}get internalData(){return this.privReco}async dispose(o){this.privDisposed||(this.privDisposed=!0,o&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return t.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(o){t.ServiceRecognizerBase.telemetryDataEnabled=o}implCommonRecognizerSetup(){let o=typeof window<"u"?"Browser":"Node",a="unknown",c="unknown";typeof navigator<"u"&&(o=o+"/"+navigator.platform,a=navigator.userAgent,c=navigator.appVersion);const l=this.createRecognizerConfig(new t.SpeechServiceConfig(new t.Context(new t.OS(o,a,c))));this.privReco=this.createServiceRecognizer(yT.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,l)}async recognizeOnceAsyncImpl(o){r.Contracts.throwIfDisposed(this.privDisposed);const a=new e.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(o,a.resolve,a.reject);const c=await a.promise;return await this.implRecognizerStop(),c}async startContinuousRecognitionAsyncImpl(o){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(o,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(o){const a=o.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0);return a&&a!==""?new t.CognitiveSubscriptionKeyAuthentication(a):new t.CognitiveTokenAuthentication(()=>{const l=o.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(l)},()=>{const l=o.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(l)})}};return bo.Recognizer=i,bo}var To={},qC;function hH(){if(qC)return To;qC=1,Object.defineProperty(To,"__esModule",{value:!0}),To.SpeechRecognizer=void 0;const t=j(),e=U(),r=F,n=N();let i=class CT extends n.Recognizer{constructor(o,a){const c=o;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new t.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(o,a,c){const l=o;return a.properties.mergeTo(l.properties),new CT(o,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(t.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(o,a){e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),o,a)}startContinuousRecognitionAsync(o,a){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}startKeywordRecognitionAsync(o,a,c){r.Contracts.throwIfNull(o,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(o){o&&o()}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),o,a)}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new t.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return new t.SpeechServiceRecognizer(o,a,u,l,this)}};return To.SpeechRecognizer=i,To}var Io={},HC;function fH(){if(HC)return Io;HC=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.IntentRecognizer=void 0;const t=j(),e=U(),r=F,n=N();let i=class extends n.Recognizer{constructor(o,a){r.Contracts.throwIfNullOrUndefined(o,"speechConfig");const c=o;r.Contracts.throwIfNullOrUndefined(c,"speechConfig"),super(a,c.properties,new t.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=c.properties,r.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get properties(){return this.privProperties}recognizeOnceAsync(o,a){if(r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),o,a)}startContinuousRecognitionAsync(o,a){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}startKeywordRecognitionAsync(o,a,c){r.Contracts.throwIfNull(o,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(o,a){if(o)try{o()}catch(c){a&&a(c)}}addIntent(o,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(a,"intentId"),r.Contracts.throwIfNullOrWhitespace(o,"simplePhrase"),this.privAddedIntents.push([a,o])}addIntentWithLanguageModel(o,a,c){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(o,"intentId"),r.Contracts.throwIfNull(a,"model");const l=a;r.Contracts.throwIfNullOrWhitespace(l.appId,"model.appId"),this.privAddedLmIntents[o]=new t.AddedLmIntent(l,c)}addAllIntents(o,a){r.Contracts.throwIfNull(o,"model");const c=o;r.Contracts.throwIfNullOrWhitespace(c.appId,"model.appId"),this.privUmbrellaIntent=new t.AddedLmIntent(c,a)}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),o,a)}createRecognizerConfig(o){return new t.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return new t.IntentServiceRecognizer(o,a,u,l,this)}async dispose(o){this.privDisposedIntentRecognizer||o&&(this.privDisposedIntentRecognizer=!0,await super.dispose(o))}buildSpeechContext(){let o,a,c;const l=[];this.privUmbrellaIntent!==void 0&&(o=this.privUmbrellaIntent.modelImpl.appId,a=this.privUmbrellaIntent.modelImpl.region,c=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const u of Object.keys(this.privAddedLmIntents)){const d=this.privAddedLmIntents[u];if(o===void 0)o=d.modelImpl.appId;else if(o!==d.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(a===void 0)a=d.modelImpl.region;else if(a!==d.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(c===void 0)c=d.modelImpl.subscriptionKey;else if(c!==d.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const p="luis/"+o+"-PRODUCTION#"+u;l.push(p)}return{Intent:{id:o,key:c===void 0?this.privProperties.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_Key]):c,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?l:["luis/"+o+"-PRODUCTION"]}}};return Io.IntentRecognizer=i,Io}var ST={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileType=void 0,function(e){e[e.TextIndependentIdentification=0]="TextIndependentIdentification",e[e.TextDependentVerification=1]="TextDependentVerification",e[e.TextIndependentVerification=2]="TextIndependentVerification"}(t.VoiceProfileType||(t.VoiceProfileType={}))})(ST);var _o={},Ao={},Hn={},UC;function PT(){if(UC)return Hn;UC=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.ConnectionMessageImpl=Hn.ConnectionMessage=void 0;const t=Ke,e=U(),r=gT(),n=jd;let i=class{};Hn.ConnectionMessage=i;class s{constructor(a){this.privConnectionMessage=a,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[t.HeaderNames.ConnectionId]&&this.privProperties.setProperty(n.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[t.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(c=>{this.privProperties.setProperty(c,this.privConnectionMessage.headers[c])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(a=>a.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===e.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===e.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return Hn.ConnectionMessageImpl=s,Hn}var FC;function RT(){if(FC)return Ao;FC=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Connection=void 0;const t=j(),e=U(),r=PT(),n=F,i=N();let s=class Qh{static fromRecognizer(a){const c=a.internalData,l=new Qh;return l.privInternalData=c,l.setupEvents(),l}static fromSynthesizer(a){const c=a.internalData,l=new Qh;return l.privInternalData=c,l.setupEvents(),l}openConnection(a,c){e.marshalPromiseToCallbacks(this.privInternalData.connect(),a,c)}closeConnection(a,c){if(this.privInternalData instanceof t.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");e.marshalPromiseToCallbacks(this.privInternalData.disconnect(),a,c)}setMessageProperty(a,c,l){if(n.Contracts.throwIfNullOrWhitespace(c,"propertyName"),this.privInternalData instanceof t.ServiceRecognizerBase){if(a.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(c,l)}else if(this.privInternalData instanceof t.SynthesisAdapterBase){if(a.toLowerCase()!=="synthesis.context")throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(c,l)}}sendMessageAsync(a,c,l,u){e.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(a,c),l,u)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(a=>{a.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message))):a.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(a=>{this.receivedServiceMessage&&this.receivedServiceMessage(new i.ServiceEventArgs(a.jsonString,a.name))})}};return Ao.Connection=s,Ao}var $C;function vH(){if($C)return _o;$C=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.TranslationRecognizer=void 0;const t=j(),e=U(),r=RT(),n=F,i=N();let s=class xT extends i.Recognizer{constructor(a,c,l){const u=a;n.Contracts.throwIfNull(u,"speechConfig"),super(c,u.properties,l||new t.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationVoice]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationToLanguages]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(a,c,l){const u=a;return c.properties.mergeTo(u.properties),new xT(a,l)}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}recognizeOnceAsync(a,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),a,c)}startContinuousRecognitionAsync(a,c){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,c)}stopContinuousRecognitionAsync(a,c){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,c)}removeTargetLanguage(a){if(n.Contracts.throwIfNullOrUndefined(a,"language to be removed"),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),l=c.indexOf(a);l>-1&&(c.splice(l,1),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")),this.updateLanguages(c))}}addTargetLanguage(a){n.Contracts.throwIfNullOrUndefined(a,"language to be added");let c=[];this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),c.includes(a)||(c.push(a),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")))):(this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,a),c=[a]),this.updateLanguages(c)}close(a,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),a,c)}onConnection(){}async dispose(a){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,a&&(await this.implRecognizerStop(),await super.dispose(a)))}createRecognizerConfig(a){return new t.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,c,l,u){const d=l;return new t.TranslationServiceRecognizer(a,c,d,u,this)}updateLanguages(a){const c=r.Connection.fromRecognizer(this);c&&(c.setMessageProperty("speech.context","translationcontext",{to:a}),c.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:a})))}};return _o.TranslationRecognizer=s,_o}var zo={},WC;function gH(){if(WC)return zo;WC=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.Translations=void 0;const t=N();let e=class{constructor(){this.privMap=new t.PropertyCollection}get languages(){return this.privMap.keys}get(n,i){return this.privMap.getProperty(n,i)}set(n,i){this.privMap.setProperty(n,i)}};return zo.Translations=e,zo}var NT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,function(e){e[e.NotRecognized=0]="NotRecognized",e[e.InitialSilenceTimeout=1]="InitialSilenceTimeout",e[e.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(t.NoMatchReason||(t.NoMatchReason={}))})(NT);var Oo={},KC;function yH(){if(KC)return Oo;KC=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.NoMatchDetails=void 0;const t=j(),e=N();let r=class ET{constructor(i){this.privReason=i}static fromResult(i){const s=t.SimpleSpeechPhrase.fromJSON(i.json);let o=e.NoMatchReason.NotRecognized;switch(s.RecognitionStatus){case t.RecognitionStatus.BabbleTimeout:o=e.NoMatchReason.InitialBabbleTimeout;break;case t.RecognitionStatus.InitialSilenceTimeout:o=e.NoMatchReason.InitialSilenceTimeout;break;default:o=e.NoMatchReason.NotRecognized;break}return new ET(o)}get reason(){return this.privReason}};return Oo.NoMatchDetails=r,Oo}var qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.TranslationRecognitionCanceledEventArgs=void 0;class CH{constructor(e,r,n,i,s){this.privCancelReason=r,this.privErrorDetails=n,this.privResult=s,this.privSessionId=e,this.privErrorCode=i}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}qd.TranslationRecognitionCanceledEventArgs=CH;var Mo={},VC;function SH(){if(VC)return Mo;VC=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.IntentRecognitionCanceledEventArgs=void 0;const t=N();let e=class extends t.IntentRecognitionEventArgs{constructor(n,i,s,o,a,c){super(o,a,c),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=s}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Mo.IntentRecognitionCanceledEventArgs=e,Mo}var il={};Object.defineProperty(il,"__esModule",{value:!0});il.CancellationDetailsBase=void 0;class PH{constructor(e,r,n){this.privReason=e,this.privErrorDetails=r,this.privErrorCode=n}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}il.CancellationDetailsBase=PH;var ko={},GC;function RH(){if(GC)return ko;GC=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.CancellationDetails=void 0;const t=j(),e=il,r=N();let n=class wT extends e.CancellationDetailsBase{constructor(s,o,a){super(s,o,a)}static fromResult(s){let o=r.CancellationReason.Error,a=r.CancellationErrorCode.NoError;if(s instanceof r.RecognitionResult&&s.json){const c=t.SimpleSpeechPhrase.fromJSON(s.json);o=t.EnumTranslation.implTranslateCancelResult(c.RecognitionStatus)}return s.properties&&(a=r.CancellationErrorCode[s.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new wT(o,s.errorDetails||t.EnumTranslation.implTranslateErrorDetails(a),a)}};return ko.CancellationDetails=n,ko}var bT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError",e[e.Forbidden=8]="Forbidden"}(t.CancellationErrorCode||(t.CancellationErrorCode={}))})(bT);var Do={},QC;function xH(){if(QC)return Do;QC=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.ConnectionEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{};return Do.ConnectionEventArgs=e,Do}var Bo={},JC;function NH(){if(JC)return Bo;JC=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.ServiceEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{constructor(n,i,s){super(s),this.privJsonResult=n,this.privEventName=i}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return Bo.ServiceEventArgs=e,Bo}var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.PhraseListGrammar=void 0;class qv{constructor(e){this.privGrammerBuilder=e.dynamicGrammar}static fromRecognizer(e){const r=e.internalData;return new qv(r)}addPhrase(e){this.privGrammerBuilder.addPhrase(e)}addPhrases(e){this.privGrammerBuilder.addPhrase(e)}clear(){this.privGrammerBuilder.clearPhrases()}}Hd.PhraseListGrammar=qv;var Un={},XC;function Hv(){if(XC)return Un;XC=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.DialogServiceConfigImpl=Un.DialogServiceConfig=void 0;const t=F,e=N();let r=class{constructor(){}set applicationId(s){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};Un.DialogServiceConfig=r;class n extends r{constructor(){super(),this.privSpeechConfig=new e.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(s){t.Contracts.throwIfNullOrWhitespace(s,"value"),this.privSpeechConfig.speechRecognitionLanguage=s}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(s){this.privSpeechConfig.outputFormat=s}setProperty(s,o){this.privSpeechConfig.setProperty(s,o)}getProperty(s,o){return this.privSpeechConfig.getProperty(s)}setProxy(s,o,a,c){this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName,s),this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyPort,`${o}`),a&&this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName,a),c&&this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword,c)}setServiceProperty(s,o,a){this.privSpeechConfig.setServiceProperty(s,o)}close(){}}return Un.DialogServiceConfigImpl=n,Un}var Lo={},YC;function EH(){if(YC)return Lo;YC=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.BotFrameworkConfig=void 0;const t=F,e=Hv(),r=N();let n=class extends e.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(s,o,a){t.Contracts.throwIfNullOrWhitespace(s,"subscription"),t.Contracts.throwIfNullOrWhitespace(o,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,o),a&&c.setProperty(r.PropertyId.Conversation_ApplicationId,a),c}static fromAuthorizationToken(s,o,a){t.Contracts.throwIfNullOrWhitespace(s,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(o,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,o),a&&c.setProperty(r.PropertyId.Conversation_ApplicationId,a),c}static fromHost(s,o,a){t.Contracts.throwIfNullOrUndefined(s,"host");const c=s instanceof URL?s:new URL(`wss://${s}.convai.speech.azure.us`);t.Contracts.throwIfNullOrUndefined(c,"resolvedHost");const l=new e.DialogServiceConfigImpl;return l.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),l.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.toString()),o!==void 0&&l.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),l}static fromEndpoint(s,o){t.Contracts.throwIfNull(s,"endpoint");const a=new e.DialogServiceConfigImpl;return a.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,s.toString()),o!==void 0&&a.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),a}};return Lo.BotFrameworkConfig=n,Lo}var jo={},ZC;function wH(){if(ZC)return jo;ZC=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.CustomCommandsConfig=void 0;const t=F,e=Hv(),r=N();let n=class extends e.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(s,o,a){t.Contracts.throwIfNullOrWhitespace(s,"applicationId"),t.Contracts.throwIfNullOrWhitespace(o,"subscription"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}static fromAuthorizationToken(s,o,a){t.Contracts.throwIfNullOrWhitespace(s,"applicationId"),t.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),c}set applicationId(s){t.Contracts.throwIfNullOrWhitespace(s,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,s)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return jo.CustomCommandsConfig=n,jo}var qo={},Ho={},Uo={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.QueryParameterNames=void 0;class be{}lr.QueryParameterNames=be;be.BotId="botid";be.CustomSpeechDeploymentId="cid";be.CustomVoiceDeploymentId="deploymentId";be.EnableAudioLogging="storeAudio";be.EnableLanguageId="lidEnabled";be.EnableWordLevelTimestamps="wordLevelTimestamps";be.EndSilenceTimeoutMs="endSilenceTimeoutMs";be.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs";be.Format="format";be.InitialSilenceTimeoutMs="initialSilenceTimeoutMs";be.Language="language";be.Profanity="profanity";be.RequestBotStatusMessages="enableBotMessageStatus";be.StableIntermediateThreshold="stableIntermediateThreshold";be.StableTranslation="stableTranslation";be.TestHooks="testhooks";be.Postprocessing="postprocessing";be.CtsMeetingId="meetingId";be.CtsDeviceId="deviceId";be.CtsIsParticipant="isParticipant";be.EnableAvatar="enableTalkingAvatar";var eS;function ur(){if(eS)return Uo;eS=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.ConnectionFactoryBase=void 0;const t=j(),e=N(),r=lr;let n=class{static getHostSuffix(s){if(s){if(s.toLowerCase().startsWith("china"))return".azure.cn";if(s.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(s,o,a){new Map([[e.PropertyId.Speech_SegmentationSilenceTimeoutMs,r.QueryParameterNames.SegmentationSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_EnableAudioLogging,r.QueryParameterNames.EnableAudioLogging],[e.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,r.QueryParameterNames.EndSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,r.QueryParameterNames.InitialSilenceTimeoutMs],[e.PropertyId.SpeechServiceResponse_PostProcessingOption,r.QueryParameterNames.Postprocessing],[e.PropertyId.SpeechServiceResponse_ProfanityOption,r.QueryParameterNames.Profanity],[e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,r.QueryParameterNames.EnableWordLevelTimestamps],[e.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,r.QueryParameterNames.StableIntermediateThreshold]]).forEach((u,d)=>{this.setUrlParameter(d,u,s,o,a)});const l=JSON.parse(s.parameters.getProperty(t.ServicePropertiesPropertyName,"{}"));Object.keys(l).forEach(u=>{o[u]=l[u]})}setUrlParameter(s,o,a,c,l){const u=a.parameters.getProperty(s,void 0);u&&(!l||l.search(o)===-1)&&(c[o]=u.toLocaleLowerCase())}};return Uo.ConnectionFactoryBase=n,Uo}var tS;function bH(){if(tS)return Ho;tS=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.DialogConnectionFactory=void 0;const t=Ve(),e=j(),r=N(),n=ur(),i=j(),s=Ke,o=lr;class a extends n.ConnectionFactoryBase{create(l,u,d){const p=l.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),m=l.parameters.getProperty(r.PropertyId.Conversation_DialogType),h=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),v=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),y=l.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),f={};f[s.HeaderNames.ConnectionId]=d,f[o.QueryParameterNames.Format]=l.parameters.getProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),f[o.QueryParameterNames.Language]=v,f[o.QueryParameterNames.RequestBotStatusMessages]=y,p&&(f[o.QueryParameterNames.BotId]=p,m===r.DialogServiceConfig.DialogTypes.CustomCommands&&(f[s.HeaderNames.CustomCommandsAppId]=p));const g=m===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",C=m===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":m===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",S={};u.token!=null&&u.token!==""&&(S[u.headerName]=u.token);let P=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!P){const b=n.ConnectionFactoryBase.getHostSuffix(h),x=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${h}.${a.BaseUrl}${b}`);P=`${x.endsWith("/")?x:x+"/"}${g}${a.ApiKey}/${C}`}this.setCommonUrlParams(l,f,P);const R=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(P,f,S,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),R,d)}}return Ho.DialogConnectionFactory=a,a.ApiKey="api",a.BaseUrl="convai.speech",Ho}var rS;function TH(){if(rS)return qo;rS=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.DialogServiceConnector=void 0;const t=bH(),e=j(),r=U(),n=F,i=N(),s=jd;let o=class extends i.Recognizer{constructor(c,l){const u=c;n.Contracts.throwIfNull(c,"dialogConfig"),super(l,u.properties,new t.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=u.properties.clone();const d=this.buildAgentConfig();this.privReco.agentConfig.set(d)}connect(c,l){r.marshalPromiseToCallbacks(this.privReco.connect(),c,l)}disconnect(c,l){r.marshalPromiseToCallbacks(this.privReco.disconnect(),c,l)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){n.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,c)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(s.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(c){this.properties.setProperty(s.PropertyId.Conversation_Speech_Activity_Template,c)}listenOnceAsync(c,l){if(this.isTurnComplete){n.Contracts.throwIfDisposed(this.privIsDisposed);const d=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const p=new r.Deferred;await this.privReco.recognize(e.RecognitionMode.Conversation,p.resolve,p.reject);const m=await p.promise;return await this.implRecognizerStop(),m})();d.catch(()=>{this.dispose(!0).catch(()=>{})}),r.marshalPromiseToCallbacks(d.finally(()=>{this.isTurnComplete=!0}),c,l)}}sendActivityAsync(c,l,u){r.marshalPromiseToCallbacks(this.privReco.sendMessage(c),l,u)}close(c,l){n.Contracts.throwIfDisposed(this.privIsDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),c,l)}async dispose(c){this.privIsDisposed||c&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,l,u,d){const p=u;return new e.DialogServiceAdapter(c,l,p,d,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(s.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(s.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(s.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return qo.DialogServiceConnector=o,qo}var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.ActivityReceivedEventArgs=void 0;class IH{constructor(e,r){this.privActivity=e,this.privAudioStream=r}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}}Ud.ActivityReceivedEventArgs=IH;var Fd={},$d={};Object.defineProperty($d,"__esModule",{value:!0});$d.TurnStatusResponsePayload=void 0;class Uv{constructor(e){this.privMessageStatusResponse=JSON.parse(e)}static fromJSON(e){return new Uv(e)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}$d.TurnStatusResponsePayload=Uv;Object.defineProperty(Fd,"__esModule",{value:!0});Fd.TurnStatusReceivedEventArgs=void 0;const _H=$d;class AH{constructor(e){this.privTurnStatus=_H.TurnStatusResponsePayload.fromJSON(e)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}}Fd.TurnStatusReceivedEventArgs=AH;var TT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,function(e){e[e.UriQueryParameter=0]="UriQueryParameter"}(t.ServicePropertyChannel||(t.ServicePropertyChannel={}))})(TT);var IT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(t.ProfanityOption||(t.ProfanityOption={}))})(IT);var Fo={},nS;function zH(){if(nS)return Fo;nS=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.BaseAudioPlayer=void 0;const t=Ze,e=N(),r=Dn;let n=class{constructor(s){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,s===void 0&&(s=e.AudioStreamFormat.getDefaultInputFormat()),this.init(s)}playAudioSample(s,o,a){try{this.ensureInitializedContext();const c=this.formatAudioData(s),l=new Float32Array(this.samples.length+c.length);l.set(this.samples,0),l.set(c,this.samples.length),this.samples=l,o&&o()}catch(c){a&&a(c)}}stopAudio(s,o){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{s&&s()},a=>{o&&o(a)}),this.audioContext=null)}init(s){this.audioFormat=s,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const s=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},s)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(s){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(s),128);case 16:return this.formatArrayBuffer(new Int16Array(s),32768);case 32:return this.formatArrayBuffer(new Int32Array(s),2147483648);default:throw new t.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(s,o){const a=new Float32Array(s.length);for(let c=0;c<s.length;c++)a[c]=s[c]/o;return a}updateAudioBuffer(){if(this.samples.length===0)return;const s=this.audioFormat.channels,o=this.audioContext.createBufferSource(),a=this.samples.length/s,c=this.audioContext.createBuffer(s,a,this.audioFormat.samplesPerSec);for(let l=0;l<s;l++){let u=l;const d=c.getChannelData(l);for(let p=0;p<this.samples.length;p++,u+=s)d[p]=this.samples[u]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),o.buffer=c,o.connect(this.gainNode),o.start(this.startTime),this.startTime+=c.duration,this.samples=new Float32Array}async playAudio(s){this.audioContext===null&&this.createAudioContext();const o=this.audioContext.createBufferSource(),a=this.audioContext.destination;await this.audioContext.decodeAudioData(s,c=>{o.buffer=c,o.connect(a),o.start(0)})}};return Fo.BaseAudioPlayer=n,Fo}var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.ConnectionMessageEventArgs=void 0;class OH{constructor(e){this.privConnectionMessage=e}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}}Wd.ConnectionMessageEventArgs=OH;var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});Kd.VoiceProfile=void 0;class MH{constructor(e,r){this.privId=e,this.privProfileType=r}get profileId(){return this.privId}get profileType(){return this.privProfileType}}Kd.VoiceProfile=MH;var Fn={},iS;function kH(){if(iS)return Fn;iS=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.VoiceProfileEnrollmentCancellationDetails=Fn.VoiceProfileEnrollmentResult=void 0;const t=j(),e=N();let r=class Jh{constructor(s,o,a){this.privReason=s,this.privProperties=new e.PropertyCollection,this.privReason!==e.ResultReason.Canceled?o&&(this.privDetails=JSON.parse(o),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=e.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=a,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[e.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(s){const o=[];for(const a of s.value){const c=a.enrollmentStatus.toLowerCase()==="enrolling"?e.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?e.ResultReason.EnrolledVoiceProfile:e.ResultReason.Canceled,l=new Jh(c,null,null);l.privDetails=this.getIdentificationDetails(a),o.push(l)}return o}static FromVerificationProfileList(s){const o=[];for(const a of s.value){const c=a.enrollmentStatus.toLowerCase()==="enrolling"?e.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?e.ResultReason.EnrolledVoiceProfile:e.ResultReason.Canceled,l=new Jh(c,null,null);l.privDetails=this.getVerificationDetails(a),o.push(l)}return o}static getIdentificationDetails(s){return{audioLength:s.audioLength?parseFloat(s.audioLength):0,audioSpeechLength:s.audioSpeechLength?parseFloat(s.audioSpeechLength):0,enrollmentStatus:s.enrollmentStatus,enrollmentsCount:s.enrollmentsCount||0,enrollmentsLength:s.enrollmentsLength?parseFloat(s.enrollmentsLength):0,enrollmentsSpeechLength:s.enrollmentsSpeechLength?parseFloat(s.enrollmentsSpeechLength):0,profileId:s.profileId||s.identificationProfileId,remainingEnrollmentsSpeechLength:s.remainingEnrollmentsSpeechLength?parseFloat(s.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(s){return{audioLength:s.audioLength?parseFloat(s.audioLength):0,audioSpeechLength:s.audioSpeechLength?parseFloat(s.audioSpeechLength):0,enrollmentStatus:s.enrollmentStatus,enrollmentsCount:s.enrollmentsCount,enrollmentsLength:s.enrollmentsLength?parseFloat(s.enrollmentsLength):0,enrollmentsSpeechLength:s.enrollmentsSpeechLength?parseFloat(s.enrollmentsSpeechLength):0,profileId:s.profileId||s.verificationProfileId,remainingEnrollmentsCount:s.remainingEnrollments||s.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:s.remainingEnrollmentsSpeechLength?parseFloat(s.remainingEnrollmentsSpeechLength):0}}};Fn.VoiceProfileEnrollmentResult=r;class n extends e.CancellationDetailsBase{constructor(s,o,a){super(s,o,a)}static fromResult(s){const o=e.CancellationReason.Error;let a=e.CancellationErrorCode.NoError;return s.properties&&(a=e.CancellationErrorCode[s.properties.getProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[e.CancellationErrorCode.NoError])]),new n(o,s.errorDetails,a)}}return Fn.VoiceProfileEnrollmentCancellationDetails=n,Fn}var $n={},sS;function DH(){if(sS)return $n;sS=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.VoiceProfileCancellationDetails=$n.VoiceProfileResult=void 0;const t=j(),e=F,r=N();let n=class{constructor(o,a){this.privReason=o,this.privProperties=new r.PropertyCollection,o===r.ResultReason.Canceled&&(e.Contracts.throwIfNullOrUndefined(a,"statusText"),this.privErrorDetails=a,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};$n.VoiceProfileResult=n;class i extends r.CancellationDetailsBase{constructor(o,a,c){super(o,a,c)}static fromResult(o){const a=r.CancellationReason.Error;let c=r.CancellationErrorCode.NoError;return o.properties&&(c=r.CancellationErrorCode[o.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new i(a,o.errorDetails,c)}}return $n.VoiceProfileCancellationDetails=i,$n}var $o={},oS;function BH(){if(oS)return $o;oS=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.VoiceProfilePhraseResult=void 0;const t=F,e=N();let r=class extends e.VoiceProfileResult{constructor(i,s,o,a){super(i,s),this.privPhrases=[],t.Contracts.throwIfNullOrUndefined(a,"phrase array"),this.privType=o,a&&a[0]&&(this.privPhrases=a)}get phrases(){return this.privPhrases}get type(){return this.privType}};return $o.VoiceProfilePhraseResult=r,$o}var Wo={},aS;function LH(){if(aS)return Wo;aS=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.VoiceProfileClient=void 0;const t=j(),e=lT(),r=F,n=N();let i=class extends n.Recognizer{constructor(o){r.Contracts.throwIfNullOrUndefined(o,"speechConfig");const a=o;r.Contracts.throwIfNull(a,"speechConfig"),super(e.AudioConfig.fromStreamInput(n.AudioInputStream.createPushStream()),a.properties,new t.VoiceProfileConnectionFactory),this.privProperties=a.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}async createProfileAsync(o,a){const c=await this.privVoiceAdapter.createProfile(o,a);return new n.VoiceProfile(c[0],o)}async retrieveEnrollmentResultAsync(o){return this.privVoiceAdapter.retrieveEnrollmentResult(o)}async getAllProfilesAsync(o){return this.privVoiceAdapter.getAllProfiles(o)}async getActivationPhrasesAsync(o,a){return this.privVoiceAdapter.getActivationPhrases(o,a)}async enrollProfileAsync(o,a){const c=a;return r.Contracts.throwIfNullOrUndefined(c,"audioConfig"),this.audioConfig=a,this.privVoiceAdapter.SpeakerAudioSource=c,this.privVoiceAdapter.enrollProfile(o)}async deleteProfileAsync(o){return this.privVoiceAdapter.deleteProfile(o)}async resetProfileAsync(o){return this.privVoiceAdapter.resetProfile(o)}async close(){await this.dispose(!0)}createServiceRecognizer(o,a,c,l){const u=c;return new t.VoiceServiceRecognizer(o,a,u,l,this)}async dispose(o){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,o&&await super.dispose(o))}createRecognizerConfig(o){return new t.RecognizerConfig(o,this.properties)}getResult(o,a){return new n.VoiceProfileResult(o.ok?a:n.ResultReason.Canceled,o.statusText)}};return Wo.VoiceProfileClient=i,Wo}var Ko={},cS;function jH(){if(cS)return Ko;cS=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.SpeakerRecognizer=void 0;const t=j(),e=F,r=N();let n=class extends r.Recognizer{constructor(s,o){e.Contracts.throwIfNullOrUndefined(s,"speechConfig");const a=s;e.Contracts.throwIfNullOrUndefined(a,"speechConfig"),super(o,a.properties,new t.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=o,e.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=a.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(s){e.Contracts.throwIfNullOrWhitespace(s,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,s)}get properties(){return this.privProperties}async recognizeOnceAsync(s){return e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(s)}async close(){e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(s){e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const o=await this.privReco.recognizeSpeaker(s);return await this.implRecognizerStop(),o}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(s){return new t.RecognizerConfig(s,this.privProperties)}createServiceRecognizer(s,o,a,c){const l=a;return new t.SpeakerServiceRecognizer(s,o,l,c,this)}async dispose(s){this.privDisposedSpeakerRecognizer||s&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(s))}};return Ko.SpeakerRecognizer=n,Ko}var Vo={},lS;function qH(){if(lS)return Vo;lS=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.SpeakerIdentificationModel=void 0;const t=F,e=N();let r=class _T{constructor(i){if(this.privVoiceProfiles=[],this.privProfileIds=[],t.Contracts.throwIfNullOrUndefined(i,"VoiceProfiles"),i.length===0)throw new Error("Empty Voice Profiles array");for(const s of i){if(s.profileType!==e.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+s.profileId);this.privVoiceProfiles.push(s),this.privProfileIds.push(s.profileId)}}static fromProfiles(i){return new _T(i)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return Vo.SpeakerIdentificationModel=r,Vo}var Go={},uS;function HH(){if(uS)return Go;uS=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.SpeakerVerificationModel=void 0;const t=F,e=N();let r=class AT{constructor(i){if(t.Contracts.throwIfNullOrUndefined(i,"VoiceProfile"),i.profileType===e.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=i}static fromProfile(i){return new AT(i)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===e.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return Go.SpeakerVerificationModel=r,Go}var Qo={},Fv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageIdMode=void 0,function(e){e[e.AtStart=0]="AtStart",e[e.Continuous=1]="Continuous"}(t.LanguageIdMode||(t.LanguageIdMode={}))})(Fv);var dS;function UH(){if(dS)return Qo;dS=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.AutoDetectSourceLanguageConfig=void 0;const t=j(),e=F,r=N(),n=Fv;let i=class Ql{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=n.LanguageIdMode.AtStart}static fromOpenRange(){const o=new Ql;return o.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,t.AutoDetectSourceLanguagesOpenRangeOptionName),o}static fromLanguages(o){e.Contracts.throwIfArrayEmptyOrWhitespace(o,"languages");const a=new Ql;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,o.join()),a}static fromSourceLanguageConfigs(o){if(o.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const a=new Ql,c=[];return o.forEach(l=>{if(c.push(l.language),l.endpointId!==void 0&&l.endpointId!==""){const u=l.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();a.properties.setProperty(u,l.endpointId)}}),a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c.join()),a}get properties(){return this.privProperties}set mode(o){o===n.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=o}};return Qo.AutoDetectSourceLanguageConfig=i,Qo}var Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.AutoDetectSourceLanguageResult=void 0;const pS=F;class ku{constructor(e,r){pS.Contracts.throwIfNullOrUndefined(e,"language"),pS.Contracts.throwIfNullOrUndefined(r,"languageDetectionConfidence"),this.privLanguage=e,this.privLanguageDetectionConfidence=r}static fromResult(e){return new ku(e.language,e.languageDetectionConfidence)}static fromConversationTranscriptionResult(e){return new ku(e.language,e.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}Vd.AutoDetectSourceLanguageResult=ku;var Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.SourceLanguageConfig=void 0;const FH=F;class $v{constructor(e,r){FH.Contracts.throwIfNullOrUndefined(e,"language"),this.privLanguage=e,this.privEndpointId=r}static fromLanguage(e,r){return new $v(e,r)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}}Gd.SourceLanguageConfig=$v;var Em={},mS;function $H(){return mS||(mS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionCancellationDetails=t.SpeakerRecognitionResult=t.SpeakerRecognitionResultType=void 0;const e=j(),r=N();var n;(function(o){o[o.Verify=0]="Verify",o[o.Identify=1]="Identify"})(n=t.SpeakerRecognitionResultType||(t.SpeakerRecognitionResultType={}));class i{constructor(a,c=r.ResultReason.RecognizedSpeaker,l=r.CancellationErrorCode.NoError,u=""){this.privProperties=new r.PropertyCollection;const d=a.scenario==="TextIndependentIdentification"?n.Identify:n.Verify;this.privReason=c,this.privReason!==r.ResultReason.Canceled?d===n.Identify?(this.privProfileId=a.identificationResult.identifiedProfile.profileId,this.privScore=a.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=a.verificationResult.score,a.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),a.verificationResult.profileId!==void 0&&a.verificationResult.profileId!==""&&(this.privProfileId=a.verificationResult.profileId)):(this.privErrorDetails=u,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[l])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(a))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}t.SpeakerRecognitionResult=i;class s extends r.CancellationDetailsBase{constructor(a,c,l){super(a,c,l)}static fromResult(a){const c=r.CancellationReason.Error;let l=r.CancellationErrorCode.NoError;return a.properties&&(l=r.CancellationErrorCode[a.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new s(c,a.errorDetails,l)}}t.SpeakerRecognitionCancellationDetails=s}(Em)),Em}var wm={},Wn={},hS;function zT(){if(hS)return Wn;hS=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.ConversationImpl=Wn.Conversation=void 0;const t=j(),e=U(),r=F,n=N();let i=class{constructor(){}static createConversationAsync(a,c,l,u){r.Contracts.throwIfNullOrUndefined(a,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let d,p,m;return typeof c=="string"?(d=new s(a,c),e.marshalPromiseToCallbacks((async()=>{})(),l,u)):(d=new s(a),p=c,m=l,d.createConversationAsync(()=>{p&&p()},h=>{m&&m(h)})),d}};Wn.Conversation=i;class s extends i{constructor(a,c){if(super(),this.privErrors=t.ConversationConnectionConfig.restErrors,this.onConnected=d=>{var p;this.privIsConnected=!0;try{(p=this.privConversationTranslator)!=null&&p.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,d)}catch{}},this.onDisconnected=d=>{var p;try{(p=this.privConversationTranslator)!=null&&p.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,d)}catch{}finally{this.close(!1)}},this.onCanceled=(d,p)=>{var m;try{(m=this.privConversationTranslator)!=null&&m.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,p)}catch{}},this.onParticipantUpdateCommandReceived=(d,p)=>{try{const m=this.privParticipants.getParticipant(p.id);if(m!==void 0){switch(p.key){case t.ConversationTranslatorCommandTypes.changeNickname:m.displayName=p.value;break;case t.ConversationTranslatorCommandTypes.setUseTTS:m.isUsingTts=p.value;break;case t.ConversationTranslatorCommandTypes.setProfanityFiltering:m.profanity=p.value;break;case t.ConversationTranslatorCommandTypes.setMute:m.isMuted=p.value;break;case t.ConversationTranslatorCommandTypes.setTranslateToLanguages:m.translateToLanguages=p.value;break}this.privParticipants.addOrUpdateParticipant(m),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(m)],p.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(d,p)=>{try{this.privParticipants.participants.forEach(m=>m.isMuted=m.isHost?!1:p.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),p.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(d,p)=>{try{const m=this.privParticipants.addOrUpdateParticipant(p.participant);m!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(m)],p.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(d,p)=>{try{const m=this.privParticipants.getParticipant(p.participant.id);m!==void 0&&(this.privParticipants.deleteParticipant(p.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(m)],p.sessionId)))}catch{}},this.onTranslationReceived=(d,p)=>{try{switch(p.command){case t.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break;case t.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break;case t.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break}}catch{}},this.onParticipantsListReceived=(d,p)=>{var m;try{if(p.sessionToken!==void 0&&p.sessionToken!==null&&(this.privRoom.token=p.sessionToken),this.privParticipants.participants=[...p.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),p.sessionId)),this.me.isHost){const h=(m=this.privConversationTranslator)==null?void 0:m.properties.getProperty(n.PropertyId.ConversationTranslator_Name);h!==void 0&&h.length>0&&h!==this.me.displayName&&this.changeNicknameAsync(h)}}catch{}},this.onConversationExpiration=(d,p)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,p)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new t.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],t.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),c)this.privConversationId=c;else{a.targetLanguages.length===0&&a.addTargetLanguage(this.privLanguage),a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceResponse_ProfanityOption])||a.setProfanity(n.ProfanityOption.Masked);let p=a.getProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name]);p==null&&(p="Host"),r.Contracts.throwIfNullOrTooLong(p,"nickname",50),r.Contracts.throwIfNullOrTooShort(p,"nickname",2),a.setProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name],p)}this.privConfig=a;const u=a;r.Contracts.throwIfNull(u,"speechConfig"),this.privProperties=u.properties.clone(),this.privIsConnected=!1,this.privParticipants=new t.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,c;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const a=this.conversationId,c=this.participants.map(d=>({id:d.id,preferredLanguage:d.preferredLanguage,voice:d.voice})),l={};for(const d of t.ConversationConnectionConfig.transcriptionEventKeys){const p=this.properties.getProperty(d,"");p!==""&&(l[d]=p)}return{id:a,participants:c,conversationProperties:l}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}set conversationTranslator(a){this.privConversationTranslator=a}onToken(a){this.privConversationTranslator.onToken(a)}createConversationAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,l=>{l||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=l,this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}startConversationAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=t.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}addParticipantAsync(a,c,l){r.Contracts.throwIfNullOrUndefined(a,"Participant"),e.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),c,l)}joinConversationAsync(a,c,l,u,d){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,p=>{r.Contracts.throwIfNullOrUndefined(p,this.privErrors.permissionDeniedConnect),this.privRoom=p,this.privConfig.authorizationToken=p.cognitiveSpeechAuthToken,u&&u(p.cognitiveSpeechAuthToken)},p=>{this.handleError(p,d)})}catch(p){this.handleError(p,d)}}deleteConversationAsync(a,c){e.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),a,c)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(a,c){e.marshalPromiseToCallbacks(this.endConversationImplAsync(),a,c)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}catch(u){this.handleError(u,l)}}removeParticipantAsync(a,c,l){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))e.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),c,l);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),l);let u="";typeof a=="string"?u=a:a.hasOwnProperty("id")?u=a.id:a.hasOwnProperty("userId")&&(u=a.userId),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(p=>p.id===u)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(u),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}}catch(u){this.handleError(u,l)}}unlockConversationAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}catch(u){this.handleError(u,l)}}sendTextMessageAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}setTranslatedLanguagesAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}changeNicknameAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const l=this.conversationInfo;return l.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(l,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const c=this.conversationInfo;return c.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(c,"leave")}async close(a){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(l){throw l}a&&this.dispose()}handleCallback(a,c){if(a){try{a()}catch(l){c&&c(l)}a=void 0}}handleError(a,c){if(c)if(a instanceof Error){const l=a;c(l.name+": "+l.message)}else c(a)}toParticipants(a){const c=this.privParticipants.participants.map(l=>this.toParticipant(l));return a?c:c.filter(l=>l.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:t.ConversationTranslatorMessageTypes.instantMessage})}}return Wn.ConversationImpl=s,Wn}var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});Qd.ConversationCommon=void 0;class WH{constructor(e){this.privAudioConfig=e}handleCallback(e,r){if(e){try{e()}catch(n){r&&r(n)}e=void 0}}handleError(e,r){if(r)if(e instanceof Error){const n=e;r(n.name+": "+n.message)}else r(e)}}Qd.ConversationCommon=WH;var Jo={},fS;function KH(){if(fS)return Jo;fS=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.ConversationExpirationEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privExpirationTime=n}get expirationTime(){return this.privExpirationTime}};return Jo.ConversationExpirationEventArgs=e,Jo}var Xo={},vS;function VH(){if(vS)return Xo;vS=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ConversationParticipantsChangedEventArgs=void 0;const t=N();let e=class extends t.SessionEventArgs{constructor(n,i,s){super(s),this.privReason=n,this.privParticipant=i}get reason(){return this.privReason}get participants(){return this.privParticipant}};return Xo.ConversationParticipantsChangedEventArgs=e,Xo}var Yo={},gS;function GH(){if(gS)return Yo;gS=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.ConversationTranslationCanceledEventArgs=void 0;const t=nl();let e=class extends t.CancellationEventArgsBase{};return Yo.ConversationTranslationCanceledEventArgs=e,Yo}var Zo={},yS;function QH(){if(yS)return Zo;yS=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ConversationTranslationEventArgs=void 0;const t=N();let e=class extends t.RecognitionEventArgs{constructor(n,i,s){super(i,s),this.privResult=n}get result(){return this.privResult}};return Zo.ConversationTranslationEventArgs=e,Zo}var ea={},CS;function JH(){if(CS)return ea;CS=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.ConversationTranslationResult=void 0;const t=hT();let e=class extends t.TranslationRecognitionResult{constructor(n,i,s,o,a,c,l,u,d,p,m){super(i,o,a,c,l,u,void 0,void 0,d,p,m),this.privId=n,this.privOrigLang=s}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return ea.ConversationTranslationResult=e,ea}var bm={},ta={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.StringUtils=void 0;class XH{static formatString(e,r){if(!e)return"";if(!r)return e;let n="",i="";const s=c=>{n+=c},o=c=>{i+=c};let a=s;for(let c=0;c<e.length;c++){const l=e[c],u=c+1<e.length?e[c+1]:"";switch(l){case"{":u==="{"?(a("{"),c++):a=o;break;case"}":u==="}"?(a("}"),c++):(r.hasOwnProperty(i)&&(n+=r[i]),a=s,i="");break;default:a(l);break}}return n}}sl.StringUtils=XH;var SS;function YH(){if(SS)return ta;SS=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.ConversationTranslatorConnectionFactory=void 0;const t=Ve(),e=sl,r=F,n=N(),i=Ke,s=lr,o=ur(),a=j();let c=class OT extends o.ConnectionFactoryBase{constructor(u){super(),r.Contracts.throwIfNullOrUndefined(u,"convGetter"),this.privConvGetter=u}create(u,d,p){const m=u.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",h=this.privConvGetter().room,v=h.cognitiveSpeechRegion||u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Region,""),y={hostSuffix:o.ConnectionFactoryBase.getHostSuffix(v),path:OT.CTS_VIRT_MIC_PATH,region:encodeURIComponent(v)};y[s.QueryParameterNames.Language]=encodeURIComponent(u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage,"")),y[s.QueryParameterNames.CtsMeetingId]=encodeURIComponent(h.roomId),y[s.QueryParameterNames.CtsDeviceId]=encodeURIComponent(h.participantId),y[s.QueryParameterNames.CtsIsParticipant]=h.isHost?"":"&"+s.QueryParameterNames.CtsIsParticipant;let f="";const g={},C={};if(m){f=u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Endpoint),f||(f="wss://"+u.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),f=e.StringUtils.formatString(f,y);const P=new URL(f);P.searchParams.forEach((b,x)=>{g[x]=b}),new a.TranscriberConnectionFactory().setQueryParams(g,u,f),g[s.QueryParameterNames.CtsMeetingId]=y[s.QueryParameterNames.CtsMeetingId],g[s.QueryParameterNames.CtsDeviceId]=y[s.QueryParameterNames.CtsDeviceId],h.isHost||(g[s.QueryParameterNames.CtsIsParticipant]=""),s.QueryParameterNames.Format in g||(g[s.QueryParameterNames.Format]="simple"),P.searchParams.forEach((b,x)=>{P.searchParams.set(x,g[x]),delete g[x]}),f=P.toString()}else{const P=new a.TranslationConnectionFactory;f=P.getEndpointUrl(u,!0),f=e.StringUtils.formatString(f,y),P.setQueryParams(g,u,f)}C[i.HeaderNames.ConnectionId]=p,C[t.RestConfigBase.configParams.token]=h.token,d.token&&(C[d.headerName]=d.token);const S=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return new t.WebsocketConnection(f,g,C,new a.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),S,p)}};return ta.ConversationTranslatorConnectionFactory=c,c.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",ta}var PS;function ZH(){return PS||(PS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslator=t.SpeechState=void 0;const e=j(),r=YH(),n=U(),i=F,s=N(),o=zT(),a=Wv();var c;(function(d){d[d.Inactive=0]="Inactive",d[d.Connecting=1]="Connecting",d[d.Connected=2]="Connected"})(c=t.SpeechState||(t.SpeechState={}));class l extends s.TranslationRecognizer{constructor(p,m,h,v){super(p,m,new r.ConversationTranslatorConnectionFactory(v)),this.privSpeechState=c.Inactive,h&&(this.privTranslator=h,this.sessionStarted=()=>{this.privSpeechState=c.Connected},this.sessionStopped=()=>{this.privSpeechState=c.Inactive},this.recognizing=(y,f)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,f)},this.recognized=async(y,f)=>{var g;(g=f.result)!=null&&g.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(f.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,f)},this.canceled=async()=>{if(this.privSpeechState!==c.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=c.Inactive}})}get state(){return this.privSpeechState}set state(p){this.privSpeechState=p}set authentication(p){this.privReco.authentication=p}onConnection(){this.privSpeechState=c.Connected}async onCancelSpeech(){this.privSpeechState=c.Inactive,await this.cancelSpeech()}fireCancelEvent(p){try{if(this.privTranslator.canceled){const m=new a.ConversationTranslationCanceledEventArgs(s.CancellationReason.Error,p,s.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,m)}}catch{}}async cancelSpeech(){var p;try{this.stopContinuousRecognitionAsync(),await((p=this.privReco)==null?void 0:p.disconnect()),this.privSpeechState=c.Inactive}catch{}}}class u extends a.ConversationCommon{constructor(p){super(p),this.privErrors=e.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new s.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var p;return(p=this.privConversation)==null?void 0:p.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===c.Connected||this.privCTRecognizer.state===c.Connecting||this.privConversation.isMutedByHost)}onToken(p){this.privCTRecognizer.authentication=p}setServiceProperty(p,m){const h=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));h[p]=m,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(h))}joinConversationAsync(p,m,h,v,y){try{if(typeof p=="string"){i.Contracts.throwIfNullOrUndefined(p,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),y);let f=h;(f==null||f==="")&&(f=e.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=s.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(s.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(f),this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],f),this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name],m);const g=[s.PropertyId.SpeechServiceConnection_Host,s.PropertyId.ConversationTranslator_Host,s.PropertyId.SpeechServiceConnection_Endpoint,s.PropertyId.SpeechServiceConnection_ProxyHostName,s.PropertyId.SpeechServiceConnection_ProxyPassword,s.PropertyId.SpeechServiceConnection_ProxyPort,s.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const S of g){const P=this.privProperties.getProperty(S);if(P){const R=typeof S=="string"?S:s.PropertyId[S];this.privSpeechTranslationConfig.setProperty(R,P)}}const C=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));for(const S of Object.keys(C))this.privSpeechTranslationConfig.setServiceProperty(S,C[S],s.ServicePropertyChannel.UriQueryParameter);this.privConversation=new o.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(p,m,f,S=>{S||this.handleError(new Error(this.privErrors.permissionDeniedConnect),y),this.privSpeechTranslationConfig.authorizationToken=S,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync(()=>{this.handleCallback(v,y)},P=>{this.handleError(P,y)})},S=>{this.handleError(S,y)})}else typeof p=="object"?(i.Contracts.throwIfNullOrUndefined(p,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(s.PropertyId.ConversationTranslator_Name,m),this.privConversation=p,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=p.config,this.handleCallback(h,v)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),v)}catch(f){this.handleError(f,typeof h=="string"?y:v)}}leaveConversationAsync(p,m){n.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),p,m)}sendTextMessageAsync(p,m,h){try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrWhitespace(p,this.privErrors.invalidArgs.replace("{arg}",p)),this.privConversation.sendTextMessageAsync(p,m,h)}catch(v){this.handleError(v,h)}}startTranscribingAsync(p,m){n.marshalPromiseToCallbacks((async()=>{try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),i.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),m),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(h){throw this.privIsSpeaking=!1,await this.cancelSpeech(),h}})(),p,m)}stopTranscribingAsync(p,m){n.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((h,v)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(h,v)})}catch{await this.cancelSpeech()}})(),p,m)}isDisposed(){return this.privIsDisposed}dispose(p,m,h){n.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),m,h)}async cancelSpeech(){var p;try{this.privIsSpeaking=!1,await((p=this.privCTRecognizer)==null?void 0:p.onCancelSpeech()),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=s.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key],"");const p=()=>this.privConversation;this.privCTRecognizer=new l(this.privSpeechTranslationConfig,this.privAudioConfig,this,p)}catch(p){throw await this.cancelSpeech(),p}}startContinuousRecognition(){return new Promise((p,m)=>{this.privCTRecognizer.startContinuousRecognitionAsync(p,m)})}}t.ConversationTranslator=u}(bm)),bm}var ra={},RS;function eU(){if(RS)return ra;RS=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.ConversationTranscriber=void 0;const t=j(),e=U(),r=F,n=N();let i=class MT extends n.Recognizer{constructor(o,a){const c=o;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new t.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(n.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(o,a,c){const l=o;return a.properties.mergeTo(l.properties),new MT(o,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){r.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,o)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(t.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(o,a){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),o,a)}stopTranscribingAsync(o,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}close(o,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),o,a)}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new t.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,c,l){const u=c;return l.isSpeakerDiarizationEnabled=!0,new t.ConversationTranscriptionServiceRecognizer(o,a,u,l,this)}};return ra.ConversationTranscriber=i,ra}var Kn={},xS;function tU(){if(xS)return Kn;xS=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.Participant=Kn.User=void 0;const t=N();class e{constructor(i){this.privUserId=i}get userId(){return this.privUserId}}Kn.User=e;class r{constructor(i,s,o,a,c,l,u,d){this.privId=i,this.privAvatar=s,this.privDisplayName=o,this.privIsHost=a,this.privIsMuted=c,this.privIsUsingTts=l,this.privPreferredLanguage=u,this.privVoice=d,this.privProperties=new t.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(i,s,o){return new r(i,"",i,!1,!1,!1,s,o)}}return Kn.Participant=r,Kn}var kT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,function(e){e[e.JoinedConversation=0]="JoinedConversation",e[e.LeftConversation=1]="LeftConversation",e[e.Updated=2]="Updated"}(t.ParticipantChangedReason||(t.ParticipantChangedReason={}))})(kT);var Vn={},NS;function rU(){if(NS)return Vn;NS=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.MeetingImpl=Vn.Meeting=void 0;const t=j(),e=U(),r=F,n=N();let i=class{constructor(){}static createMeetingAsync(a,c,l,u){if(r.Contracts.throwIfNullOrUndefined(a,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(c,"meetingId"),c.length===0)throw new Error("meetingId cannot be empty");!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const d=new s(a,c);return e.marshalPromiseToCallbacks((async()=>{})(),l,u),d}};Vn.Meeting=i;class s extends i{constructor(a,c){super(),this.privErrors=t.ConversationConnectionConfig.restErrors,this.onConnected=d=>{var p;this.privIsConnected=!0;try{(p=this.privConversationTranslator)!=null&&p.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,d)}catch{}},this.onDisconnected=d=>{var p;try{(p=this.privConversationTranslator)!=null&&p.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,d)}catch{}finally{this.close(!1)}},this.onCanceled=(d,p)=>{var m;try{(m=this.privConversationTranslator)!=null&&m.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,p)}catch{}},this.onParticipantUpdateCommandReceived=(d,p)=>{try{const m=this.privParticipants.getParticipant(p.id);if(m!==void 0){switch(p.key){case t.ConversationTranslatorCommandTypes.changeNickname:m.displayName=p.value;break;case t.ConversationTranslatorCommandTypes.setUseTTS:m.isUsingTts=p.value;break;case t.ConversationTranslatorCommandTypes.setProfanityFiltering:m.profanity=p.value;break;case t.ConversationTranslatorCommandTypes.setMute:m.isMuted=p.value;break;case t.ConversationTranslatorCommandTypes.setTranslateToLanguages:m.translateToLanguages=p.value;break}this.privParticipants.addOrUpdateParticipant(m),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(m)],p.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(d,p)=>{try{this.privParticipants.participants.forEach(m=>m.isMuted=m.isHost?!1:p.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),p.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(d,p)=>{try{const m=this.privParticipants.addOrUpdateParticipant(p.participant);m!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(m)],p.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(d,p)=>{try{const m=this.privParticipants.getParticipant(p.participant.id);m!==void 0&&(this.privParticipants.deleteParticipant(p.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(m)],p.sessionId)))}catch{}},this.onTranslationReceived=(d,p)=>{try{switch(p.command){case t.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break;case t.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break;case t.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(p.payload,void 0,p.sessionId));break}}catch{}},this.onParticipantsListReceived=(d,p)=>{var m;try{if(p.sessionToken!==void 0&&p.sessionToken!==null&&(this.privRoom.token=p.sessionToken),this.privParticipants.participants=[...p.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),p.sessionId)),this.me.isHost){const h=(m=this.privConversationTranslator)==null?void 0:m.properties.getProperty(n.PropertyId.ConversationTranslator_Name);h!==void 0&&h.length>0&&h!==this.me.displayName&&this.changeNicknameAsync(h)}}catch{}},this.onConversationExpiration=(d,p)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,p)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new t.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],t.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=c,this.privConfig=a;const u=a;r.Contracts.throwIfNull(u,"speechConfig"),this.privProperties=u.properties.clone(),this.privIsConnected=!1,this.privParticipants=new t.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,c;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const a=this.meetingId,c=this.participants.map(d=>({id:d.id,preferredLanguage:d.preferredLanguage,voice:d.voice})),l={};for(const d of t.ConversationConnectionConfig.transcriptionEventKeys){const p=this.properties.getProperty(d,"");p!==""&&(l[d]=p)}return{id:a,participants:c,meetingProperties:l}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}createMeetingAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,l=>{l||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=l,this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}startMeetingAsync(a,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}addParticipantAsync(a,c,l){r.Contracts.throwIfNullOrUndefined(a,"Participant"),e.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),c,l)}joinMeetingAsync(a,c,l,u,d){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,p=>{r.Contracts.throwIfNullOrUndefined(p,this.privErrors.permissionDeniedConnect),this.privRoom=p,this.privConfig.authorizationToken=p.cognitiveSpeechAuthToken,u&&u(p.cognitiveSpeechAuthToken)},p=>{this.handleError(p,d)})}catch(p){this.handleError(p,d)}}deleteMeetingAsync(a,c){e.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),a,c)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(a,c){e.marshalPromiseToCallbacks(this.endMeetingImplAsync(),a,c)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}muteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}catch(u){this.handleError(u,l)}}removeParticipantAsync(a,c,l){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))e.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),c,l);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),l);let u="";typeof a=="string"?u=a:a.hasOwnProperty("id")?u=a.id:a.hasOwnProperty("userId")&&(u=a.userId),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(p=>p.id===u)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(u),()=>{this.handleCallback(c,l)},p=>{this.handleError(p,l)})}}catch(u){this.handleError(u,l)}}unlockMeetingAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteAllParticipantsAsync(a,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,c)},l=>{this.handleError(l,c)})}catch(l){this.handleError(l,c)}}unmuteParticipantAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),l),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(c,l)},d=>{this.handleError(d,l)})}catch(u){this.handleError(u,l)}}sendTextMessageAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}setTranslatedLanguagesAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}changeNicknameAsync(a,c,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),l),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(c,l)},u=>{this.handleError(u,l)})}catch(u){this.handleError(u,l)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const l=this.meetingInfo;return l.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(l,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const c=this.meetingInfo;return c.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(c,"leave")}async close(a){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(l){throw l}a&&this.dispose()}handleCallback(a,c){if(a){try{a()}catch(l){c&&c(l)}a=void 0}}handleError(a,c){if(c)if(a instanceof Error){const l=a;c(l.name+": "+l.message)}else c(a)}toParticipants(a){const c=this.privParticipants.participants.map(l=>this.toParticipant(l));return a?c:c.filter(l=>l.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:t.ConversationTranslatorMessageTypes.instantMessage})}}return Vn.MeetingImpl=s,Vn}var na={},ES;function nU(){if(ES)return na;ES=1,Object.defineProperty(na,"__esModule",{value:!0}),na.MeetingTranscriptionCanceledEventArgs=void 0;const t=nl();class e extends t.CancellationEventArgsBase{}return na.MeetingTranscriptionCanceledEventArgs=e,na}var ia={},wS;function iU(){if(wS)return ia;wS=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.MeetingTranscriber=void 0;const t=j(),e=U(),r=F,n=N(),i=Wv();let s=class{constructor(a){this.privAudioConfig=a,this.privProperties=new n.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return n.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}joinMeetingAsync(a,c,l){const u=a;r.Contracts.throwIfNullOrUndefined(i.MeetingImpl,"Meeting"),this.privRecognizer=new t.TranscriberRecognizer(a.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),e.marshalPromiseToCallbacks(u.connectTranscriberRecognizer(this.privRecognizer),c,l)}startTranscribingAsync(a,c){this.privRecognizer.startContinuousRecognitionAsync(a,c)}stopTranscribingAsync(a,c){this.privRecognizer.stopContinuousRecognitionAsync(a,c)}leaveMeetingAsync(a,c){this.privRecognizer.disconnectCallbacks(),e.marshalPromiseToCallbacks((async()=>{})(),a,c)}close(a,c){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),a,c)}async dispose(a){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),a&&(this.privDisposedRecognizer=!0))}};return ia.MeetingTranscriber=s,ia}var sa={},bS;function sU(){if(bS)return sa;bS=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.ConversationTranscriptionResult=void 0;const t=N();let e=class extends t.RecognitionResult{constructor(n,i,s,o,a,c,l,u,d,p,m){super(n,i,s,o,a,c,l,d,p,m),this.privSpeakerId=u}get speakerId(){return this.privSpeakerId}};return sa.ConversationTranscriptionResult=e,sa}var TS;function Wv(){return TS||(TS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=zT();Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return e.Conversation}}),Object.defineProperty(t,"ConversationImpl",{enumerable:!0,get:function(){return e.ConversationImpl}});var r=Qd;Object.defineProperty(t,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var n=KH();Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return n.ConversationExpirationEventArgs}});var i=VH();Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return i.ConversationParticipantsChangedEventArgs}});var s=GH();Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return s.ConversationTranslationCanceledEventArgs}});var o=QH();Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return o.ConversationTranslationEventArgs}});var a=JH();Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return a.ConversationTranslationResult}});var c=ZH();Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return c.ConversationTranslator}});var l=eU();Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return l.ConversationTranscriber}});var u=tU();Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return u.Participant}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return u.User}});var d=kT;Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return d.ParticipantChangedReason}});var p=rU();Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return p.Meeting}}),Object.defineProperty(t,"MeetingImpl",{enumerable:!0,get:function(){return p.MeetingImpl}});var m=nU();Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return m.MeetingTranscriptionCanceledEventArgs}});var h=iU();Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return h.MeetingTranscriber}});var v=sU();Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return v.ConversationTranscriptionResult}})}(wm)),wm}var Gn={},IS;function Kv(){if(IS)return Gn;IS=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.SynthesisRequest=Gn.Synthesizer=void 0;const t=j(),e=U(),r=F,n=N();let i=class DT{constructor(a){const c=a;r.Contracts.throwIfNull(c,"speechConfig"),this.privProperties=c.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new e.Queue}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(n.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===t.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(a){const c={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-JennyNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let l=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),u=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthVoice,""),d=DT.XMLEncode(a);return this.autoDetectSourceLanguage?l="en-US":u=u||c[l],u&&(d=`<voice name='${u}'>${d}</voice>`),d=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${l}'>${d}</speak>`,d}async dispose(a){this.privDisposed||(a&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const a=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(a.text,a.isSSML,a.requestId,a.cb,a.err,a.dataStream)}}createSynthesizerConfig(a){return new t.SynthesizerConfig(a,this.privProperties)}implCommonSynthesizeSetup(){let a=typeof window<"u"?"Browser":"Node",c="unknown",l="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,c=navigator.userAgent,l=navigator.appVersion);const u=this.createSynthesizerConfig(new t.SpeechServiceConfig(new t.Context(new t.OS(a,c,l)))),d=this.privProperties.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0),p=d&&d!==""?new t.CognitiveSubscriptionKeyAuthentication(d):new t.CognitiveTokenAuthentication(()=>{const m=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(m)},()=>{const m=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(m)});this.privAdapter=this.createSynthesisAdapter(p,this.privConnectionFactory,u),this.privRestAdapter=this.createRestSynthesisAdapter(p,u)}static XMLEncode(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};Gn.Synthesizer=i;class s{constructor(a,c,l,u,d,p){this.requestId=a,this.text=c,this.isSSML=l,this.cb=u,this.err=d,this.dataStream=p}}return Gn.SynthesisRequest=s,Gn}var oa={},_S;function oU(){if(_S)return oa;_S=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.SpeechSynthesizer=void 0;const t=j(),e=U(),r=rl,n=Bn,i=Xe,s=F,o=N(),a=Kv();let c=class BT extends o.Synthesizer{constructor(u,d){super(u),d!==null&&(d===void 0?this.audioConfig=typeof window>"u"?void 0:o.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=d),this.privConnectionFactory=new t.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(u,d,p){const m=u;return d.properties.mergeTo(m.properties),new BT(u,p)}speakTextAsync(u,d,p,m){this.speakImpl(u,!1,d,p,m)}speakSsmlAsync(u,d,p,m){this.speakImpl(u,!0,d,p,m)}async getVoicesAsync(u=""){return this.getVoices(u)}close(u,d){s.Contracts.throwIfDisposed(this.privDisposed),e.marshalPromiseToCallbacks(this.dispose(!0),u,d)}get internalData(){return this.privAdapter}createSynthesisAdapter(u,d,p){return new t.SpeechSynthesisAdapter(u,d,p,this,this.audioConfig)}createRestSynthesisAdapter(u,d){return new t.SynthesisRestAdapter(d,u)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(o.SpeechSynthesisOutputFormat[this.properties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(u,d,p,m,h){try{s.Contracts.throwIfDisposed(this.privDisposed);const v=e.createNoDashGuid();let y;h instanceof o.PushAudioOutputStreamCallback?y=new i.PushAudioOutputStreamImpl(h):h instanceof o.PullAudioOutputStream?y=h:h!==void 0?y=new r.AudioFileWriter(h):y=void 0,this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(v,u,d,f=>{if(this.privSynthesizing=!1,p)try{p(f)}catch(g){m&&m(g)}p=void 0,this.adapterSpeak().catch(()=>{})},f=>{m&&m(f)},y)),this.adapterSpeak().catch(()=>{})}catch(v){if(m)if(v instanceof Error){const y=v;m(y.name+": "+y.message)}else m(v);this.dispose(!0).catch(()=>{})}}async getVoices(u){const d=e.createNoDashGuid(),p=await this.privRestAdapter.getVoicesList(d);if(p.ok&&Array.isArray(p.json)){let m=p.json;return u&&u.length>0&&(m=m.filter(h=>!!h.Locale&&h.Locale.toLowerCase()===u.toLowerCase())),new o.SynthesisVoicesResult(d,m,void 0)}else return new o.SynthesisVoicesResult(d,void 0,`Error: ${p.status}: ${p.statusText}`)}};return oa.SpeechSynthesizer=c,oa}var Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.SynthesisResult=void 0;class aU{constructor(e,r,n,i){this.privResultId=e,this.privReason=r,this.privErrorDetails=n,this.privProperties=i}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}Jd.SynthesisResult=aU;var aa={},AS;function cU(){if(AS)return aa;AS=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.SpeechSynthesisResult=void 0;const t=N();let e=class extends t.SynthesisResult{constructor(n,i,s,o,a,c){super(n,i,o,a),this.privAudioData=s,this.privAudioDuration=c}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return aa.SpeechSynthesisResult=e,aa}var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.SpeechSynthesisEventArgs=void 0;class lU{constructor(e){this.privResult=e}get result(){return this.privResult}}Xd.SpeechSynthesisEventArgs=lU;var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});Yd.SpeechSynthesisWordBoundaryEventArgs=void 0;class uU{constructor(e,r,n,i,s,o){this.privAudioOffset=e,this.privDuration=r,this.privText=n,this.privWordLength=i,this.privTextOffset=s,this.privBoundaryType=o}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}Yd.SpeechSynthesisWordBoundaryEventArgs=uU;var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.SpeechSynthesisBookmarkEventArgs=void 0;class dU{constructor(e,r){this.privAudioOffset=e,this.privText=r}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}Zd.SpeechSynthesisBookmarkEventArgs=dU;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.SpeechSynthesisVisemeEventArgs=void 0;class pU{constructor(e,r,n){this.privAudioOffset=e,this.privVisemeId=r,this.privAnimation=n}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}ep.SpeechSynthesisVisemeEventArgs=pU;var LT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBoundaryType=void 0,function(e){e.Word="WordBoundary",e.Punctuation="PunctuationBoundary",e.Sentence="SentenceBoundary"}(t.SpeechSynthesisBoundaryType||(t.SpeechSynthesisBoundaryType={}))})(LT);var ca={},zS;function mU(){if(zS)return ca;zS=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.SynthesisVoicesResult=void 0;const t=N();let e=class extends t.SynthesisResult{constructor(n,i,s){if(Array.isArray(i)){super(n,t.ResultReason.VoicesListRetrieved,void 0,new t.PropertyCollection),this.privVoices=[];for(const o of i)this.privVoices.push(new t.VoiceInfo(o))}else super(n,t.ResultReason.Canceled,s||"Error information unavailable",new t.PropertyCollection)}get voices(){return this.privVoices}};return ca.SynthesisVoicesResult=e,ca}var jT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceInfo=t.SynthesisVoiceType=t.SynthesisVoiceGender=void 0;var e;(function(s){s[s.Unknown=0]="Unknown",s[s.Female=1]="Female",s[s.Male=2]="Male",s[s.Neutral=3]="Neutral"})(e=t.SynthesisVoiceGender||(t.SynthesisVoiceGender={}));var r;(function(s){s[s.OnlineNeural=1]="OnlineNeural",s[s.OnlineStandard=2]="OnlineStandard",s[s.OfflineNeural=3]="OfflineNeural",s[s.OfflineStandard=4]="OfflineStandard"})(r=t.SynthesisVoiceType||(t.SynthesisVoiceType={}));const n={[e[e.Neutral]]:e.Neutral,[e[e.Male]]:e.Male,[e[e.Female]]:e.Female};class i{constructor(o){if(this.privStyleList=[],o){if(this.privName=o.Name,this.privLocale=o.Locale,this.privShortName=o.ShortName,this.privLocaleName=o.LocaleName,this.privDisplayName=o.DisplayName,this.privLocalName=o.LocalName,this.privVoiceType=o.VoiceType.endsWith("Standard")?r.OnlineStandard:r.OnlineNeural,this.privGender=n[o.Gender]||e.Unknown,o.StyleList&&Array.isArray(o.StyleList))for(const a of o.StyleList)this.privStyleList.push(a);this.privSampleRateHertz=o.SampleRateHertz,this.privStatus=o.Status,o.ExtendedPropertyMap&&(this.privExtendedPropertyMap=o.ExtendedPropertyMap),this.privWordsPerMinute=o.WordsPerMinute,Array.isArray(o.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...o.SecondaryLocaleList]),Array.isArray(o.RolePlayList)&&(this.privRolePlayList=[...o.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}t.VoiceInfo=i})(jT);var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.SpeakerAudioDestination=void 0;const Qn=U(),hU=Xe,Ft=Dn,fU=60*30,OS={[Ft.AudioFormatTag.PCM]:"audio/wav",[Ft.AudioFormatTag.MuLaw]:"audio/x-wav",[Ft.AudioFormatTag.MP3]:"audio/mpeg",[Ft.AudioFormatTag.OGG_OPUS]:"audio/ogg",[Ft.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[Ft.AudioFormatTag.ALaw]:"audio/x-wav",[Ft.AudioFormatTag.FLAC]:"audio/flac"};class vU{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||Qn.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,r,n){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then(()=>{r&&r()},i=>{n&&n(i)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,r){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{e&&e()},n=>{r&&r(n)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===Ft.AudioFormatTag.PCM||this.privFormat.formatTag===Ft.AudioFormatTag.MuLaw||this.privFormat.formatTag===Ft.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let n=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(n).then(()=>{n=this.privFormat.addHeader(n);const i=new Blob([n],{type:OS[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(i),this.notifyPlayback().then(()=>{e&&e()},s=>{r&&r(s)})},i=>{r&&r(i)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=e;const r=OS[this.privFormat.formatTag];r===void 0?console.warn(`Unknown mimeType for format ${Ft.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(r)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=fU,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(r),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(n=>{Qn.Events.instance.onEvent(new Qn.BackgroundEvent(n))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(n=>{Qn.Events.instance.onEvent(new Qn.BackgroundEvent(n))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(n=>{Qn.Events.instance.onEvent(new Qn.BackgroundEvent(n))})):(console.warn(`Format ${Ft.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new hU.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var e;return((e=this.privAudio)==null?void 0:e.volume)??-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,r){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{e&&e()},n=>{r&&r(n)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const e=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(e)}catch{this.privAudioBuffer.unshift(e),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}}tp.SpeakerAudioDestination=vU;var la={},MS;function gU(){if(MS)return la;MS=1,Object.defineProperty(la,"__esModule",{value:!0}),la.ConversationTranscriptionCanceledEventArgs=void 0;const t=nl();let e=class extends t.CancellationEventArgsBase{};return la.ConversationTranscriptionCanceledEventArgs=e,la}var ua={},kS;function yU(){if(kS)return ua;kS=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.MeetingTranscriptionCanceledEventArgs=void 0;const t=nl();let e=class extends t.CancellationEventArgsBase{};return ua.MeetingTranscriptionCanceledEventArgs=e,ua}var qT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGradingSystem=void 0,function(e){e[e.FivePoint=1]="FivePoint",e[e.HundredMark=2]="HundredMark"}(t.PronunciationAssessmentGradingSystem||(t.PronunciationAssessmentGradingSystem={}))})(qT);var HT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGranularity=void 0,function(e){e[e.Phoneme=1]="Phoneme",e[e.Word=2]="Word",e[e.FullText=3]="FullText"}(t.PronunciationAssessmentGranularity||(t.PronunciationAssessmentGranularity={}))})(HT);var da={},DS;function CU(){if(DS)return da;DS=1,Object.defineProperty(da,"__esModule",{value:!0}),da.PronunciationAssessmentConfig=void 0;const t=F,e=N();let r=class UT{constructor(i,s=e.PronunciationAssessmentGradingSystem.FivePoint,o=e.PronunciationAssessmentGranularity.Phoneme,a=!1){t.Contracts.throwIfNullOrUndefined(i,"referenceText"),this.privProperties=new e.PropertyCollection,this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_ReferenceText,i),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_GradingSystem,e.PronunciationAssessmentGradingSystem[s]),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_Granularity,e.PronunciationAssessmentGranularity[o]),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,String(a))}static fromJSON(i){t.Contracts.throwIfNullOrUndefined(i,"json");const s=new UT("");return s.privProperties=new e.PropertyCollection,s.properties.setProperty(e.PropertyId.PronunciationAssessment_Json,i),s}toJSON(){return this.updateJson(),this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Params)}applyTo(i){this.updateJson();const s=i.internalData;s.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,s.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(e.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,s.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(e.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(i){t.Contracts.throwIfNullOrWhitespace(i,"referenceText"),this.properties.setProperty(e.PropertyId.PronunciationAssessment_ReferenceText,i)}set phonemeAlphabet(i){t.Contracts.throwIfNullOrWhitespace(i,"phonemeAlphabet"),this.privPhonemeAlphabet=i}set enableMiscue(i){const s=i?"true":"false";this.properties.setProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,s)}get enableMiscue(){return this.properties.getProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(i){this.privNBestPhonemeCount=i}set enableProsodyAssessment(i){this.privEnableProsodyAssessment=i}enableContentAssessmentWithTopic(i){this.privContentAssessmentTopic=i}get properties(){return this.privProperties}updateJson(){const i=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Json,"{}"),s=JSON.parse(i),o=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_ReferenceText);o&&(s.referenceText=o);const a=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_GradingSystem);a&&(s.gradingSystem=a);const c=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Granularity);c&&(s.granularity=c),this.privPhonemeAlphabet&&(s.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(s.nbestPhonemeCount=this.privNBestPhonemeCount),s.enableProsodyAssessment=this.privEnableProsodyAssessment,s.dimension="Comprehensive",this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_EnableMiscue)&&(s.enableMiscue=this.enableMiscue),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_Params,JSON.stringify(s))}};return da.PronunciationAssessmentConfig=r,da}var Jn={},BS;function SU(){if(BS)return Jn;BS=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.PronunciationAssessmentResult=Jn.ContentAssessmentResult=void 0;const t=F,e=N();class r{constructor(s){this.privPronJson=s}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}Jn.ContentAssessmentResult=r;let n=class FT{constructor(s){const o=JSON.parse(s);t.Contracts.throwIfNullOrUndefined(o.NBest[0],"NBest"),this.privPronJson=o.NBest[0]}static fromResult(s){t.Contracts.throwIfNullOrUndefined(s,"result");const o=s.properties.getProperty(e.PropertyId.SpeechServiceResponse_JsonResult);return t.Contracts.throwIfNullOrUndefined(o,"json"),new FT(o)}get detailResult(){return this.privPronJson}get accuracyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.AccuracyScore}get pronunciationScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.PronScore}get completenessScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.CompletenessScore}get fluencyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.FluencyScore}get prosodyScore(){var s;return(s=this.detailResult.PronunciationAssessment)==null?void 0:s.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return Jn.PronunciationAssessmentResult=n,Jn}var pa={},LS;function PU(){if(LS)return pa;LS=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.AvatarConfig=void 0;const t=F,e=N();let r=class{constructor(i,s,o){this.privCustomized=!1,t.Contracts.throwIfNullOrWhitespace(i,"character"),this.character=i,this.style=s,o===void 0&&(o=new e.AvatarVideoFormat),this.videoFormat=o}get customized(){return this.privCustomized}set customized(i){this.privCustomized=i}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(i){this.privBackgroundColor=i}};return pa.AvatarConfig=r,pa}var $T={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarEventArgs=t.AvatarEventTypes=void 0,function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"}(t.AvatarEventTypes||(t.AvatarEventTypes={}));class e{constructor(n,i){this.privOffset=n,this.privDescription=i}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}t.AvatarEventArgs=e})($T);var ma={},ha={},jS;function WT(){if(jS)return ha;jS=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.SpeechSynthesisConnectionFactory=void 0;const t=Ve(),e=N(),r=ur(),n=j(),i=Ke,s=lr;let o=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(c,l,u){let d=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const p=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,void 0),m=r.ConnectionFactoryBase.getHostSuffix(p),h=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),v=h===void 0?"tts":"voice",y=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+p+"."+v+".speech"+m),f={},g={};l.token!==void 0&&l.token!==""&&(g[l.headerName]=l.token),g[i.HeaderNames.ConnectionId]=u,h!==void 0&&h!==""&&(!d||d.search(s.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(f[s.QueryParameterNames.CustomVoiceDeploymentId]=h),c.avatarEnabled&&(!d||d.search(s.QueryParameterNames.EnableAvatar)===-1)&&(f[s.QueryParameterNames.EnableAvatar]="true"),d||(d=y+this.synthesisUri),c.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,d);const C=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(d,f,g,new n.WebsocketMessageFormatter,t.ProxyInfo.fromParameters(c.parameters),C,u)}};return ha.SpeechSynthesisConnectionFactory=o,ha}var qS;function RU(){if(qS)return ma;qS=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.AvatarSynthesizer=void 0;const t=WT(),e=j(),r=U(),n=Bn,i=N(),s=F,o=Kv();let a=class extends i.Synthesizer{constructor(l,u){super(l),s.Contracts.throwIfNullOrUndefined(u,"avatarConfig"),this.privConnectionFactory=new t.SpeechSynthesisConnectionFactory,this.privAvatarConfig=u,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(i.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(l){s.Contracts.throwIfNullOrUndefined(l,"peerConnection"),this.privIceServers=l.getConfiguration().iceServers,s.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const u=new r.Deferred;l.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+l.iceGatheringState,r.EventType.Debug)),l.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),u.resolve())},l.onicecandidate=v=>{v.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+v.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),u.resolve())},setTimeout(()=>{l.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),u.resolve())},2e3);const d=await l.createOffer();await l.setLocalDescription(d),await u.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(l.localDescription));const p=await this.speak("",!1);if(p.reason!==i.ResultReason.SynthesizingAudioCompleted)return new i.SynthesisResult(p.resultId,p.reason,p.errorDetails,p.properties);const m=atob(p.properties.getProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP)),h=new RTCSessionDescription(JSON.parse(m));return await l.setRemoteDescription(h),new i.SynthesisResult(p.resultId,p.reason,void 0,p.properties)}async speakTextAsync(l){const u=await this.speak(l,!1);return new i.SynthesisResult(u.resultId,u.reason,u.errorDetails,u.properties)}async speakSsmlAsync(l){const u=await this.speak(l,!0);return new i.SynthesisResult(u.resultId,u.reason,u.errorDetails,u.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return s.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(l,u,d){return new e.AvatarSynthesisAdapter(l,u,d,this,this.privAvatarConfig)}createRestSynthesisAdapter(l,u){}createSynthesizerConfig(l){const u=super.createSynthesizerConfig(l);return u.avatarEnabled=!0,u}async speak(l,u){const d=r.createNoDashGuid(),p=new r.Deferred;return this.synthesisRequestQueue.enqueue(new o.SynthesisRequest(d,l,u,m=>{p.resolve(m),this.privSynthesizing=!1,this.adapterSpeak()},m=>{p.reject(m),this.privSynthesizing=!1})),this.adapterSpeak(),p.promise}};return ma.AvatarSynthesizer=a,ma}var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.AvatarVideoFormat=Cs.Coordinate=void 0;class xU{constructor(e,r){this.x=e,this.y=r}}Cs.Coordinate=xU;class NU{constructor(e="H264",r=2e6,n=1920,i=1080){this.codec=e,this.bitrate=r,this.width=n,this.height=i}setCropRange(e,r){this.cropRange={bottomRight:r,topLeft:e}}}Cs.AvatarVideoFormat=NU;var fa={},HS;function EU(){if(HS)return fa;HS=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.AvatarWebRTCConnectionResult=void 0;const t=N();let e=class extends t.SynthesisResult{constructor(n,i,s,o,a){super(i,s,o,a),this.privSDPAnswer=n}get SDPAnswer(){return this.privSDPAnswer}};return fa.AvatarWebRTCConnectionResult=e,fa}var va={},US;function wU(){if(US)return va;US=1,Object.defineProperty(va,"__esModule",{value:!0}),va.Diagnostics=void 0;const t=Ve(),e=U();let r=class{static SetLoggingLevel(i){this.privListener=new t.ConsoleLoggingListener(i),e.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(i){if(typeof window>"u")this.privListener&&(this.privListener.logPath=i);else throw new Error("File system logging not available in browser.")}static set onLogOutput(i){this.privListener&&(this.privListener.logCallback=i)}};return va.Diagnostics=r,r.privListener=void 0,va}var FS;function N(){return FS||(FS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=lT();Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return e.AudioConfig}});var r=Dn;Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(t,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var n=iT();Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return n.AudioInputStream}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return n.PullAudioInputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return n.PushAudioInputStream}});var i=Xe;Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return i.AudioOutputStream}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return i.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return i.PushAudioOutputStream}});var s=uT;Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return s.CancellationReason}});var o=Od;Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return o.PullAudioInputStreamCallback}});var a=Md;Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return a.PushAudioOutputStreamCallback}});var c=kd;Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return c.KeywordRecognitionModel}});var l=Dd;Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return l.SessionEventArgs}});var u=tH();Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return u.RecognitionEventArgs}});var d=dT;Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return d.OutputFormat}});var p=rH();Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return p.IntentRecognitionEventArgs}});var m=Bd;Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return m.RecognitionResult}});var h=iH();Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return h.SpeechRecognitionResult}});var v=sH();Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return v.IntentRecognitionResult}});var y=ys;Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return y.LanguageUnderstandingModel}});var f=oH();Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return f.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return f.ConversationTranscriptionEventArgs}}),Object.defineProperty(t,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return f.MeetingTranscriptionEventArgs}});var g=aH();Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return g.SpeechRecognitionCanceledEventArgs}});var C=cH();Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return C.TranslationRecognitionEventArgs}});var S=lH();Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return S.TranslationSynthesisEventArgs}});var P=hT();Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return P.TranslationRecognitionResult}});var R=Ld;Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return R.TranslationSynthesisResult}});var b=fT;Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return b.ResultReason}});var x=dH();Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return x.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return x.SpeechConfigImpl}});var X=pH();Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return X.SpeechTranslationConfig}}),Object.defineProperty(t,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return X.SpeechTranslationConfigImpl}});var K=gT();Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return K.PropertyCollection}});var it=jd;Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return it.PropertyId}});var dr=mH();Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return dr.Recognizer}});var Me=hH();Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return Me.SpeechRecognizer}});var Vs=fH();Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return Vs.IntentRecognizer}});var Pp=ST;Object.defineProperty(t,"VoiceProfileType",{enumerable:!0,get:function(){return Pp.VoiceProfileType}});var Gs=vH();Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return Gs.TranslationRecognizer}});var Qs=gH();Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return Qs.Translations}});var M=NT;Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return M.NoMatchReason}});var V=yH();Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return V.NoMatchDetails}});var Q=qd;Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return Q.TranslationRecognitionCanceledEventArgs}});var Se=SH();Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return Se.IntentRecognitionCanceledEventArgs}});var Ie=il;Object.defineProperty(t,"CancellationDetailsBase",{enumerable:!0,get:function(){return Ie.CancellationDetailsBase}});var Mi=RH();Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return Mi.CancellationDetails}});var Er=bT;Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return Er.CancellationErrorCode}});var Js=xH();Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return Js.ConnectionEventArgs}});var wr=NH();Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return wr.ServiceEventArgs}});var ki=RT();Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return ki.Connection}});var iI=Hd;Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return iI.PhraseListGrammar}});var sI=Hv();Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return sI.DialogServiceConfig}});var oI=EH();Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return oI.BotFrameworkConfig}});var aI=wH();Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return aI.CustomCommandsConfig}});var cI=TH();Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return cI.DialogServiceConnector}});var lI=Ud;Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return lI.ActivityReceivedEventArgs}});var uI=Fd;Object.defineProperty(t,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return uI.TurnStatusReceivedEventArgs}});var dI=TT;Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return dI.ServicePropertyChannel}});var pI=IT;Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return pI.ProfanityOption}});var mI=zH();Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return mI.BaseAudioPlayer}});var hI=Wd;Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return hI.ConnectionMessageEventArgs}});var fI=PT();Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return fI.ConnectionMessage}});var vI=Kd;Object.defineProperty(t,"VoiceProfile",{enumerable:!0,get:function(){return vI.VoiceProfile}});var og=kH();Object.defineProperty(t,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return og.VoiceProfileEnrollmentResult}}),Object.defineProperty(t,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return og.VoiceProfileEnrollmentCancellationDetails}});var ag=DH();Object.defineProperty(t,"VoiceProfileResult",{enumerable:!0,get:function(){return ag.VoiceProfileResult}}),Object.defineProperty(t,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return ag.VoiceProfileCancellationDetails}});var gI=BH();Object.defineProperty(t,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return gI.VoiceProfilePhraseResult}});var yI=LH();Object.defineProperty(t,"VoiceProfileClient",{enumerable:!0,get:function(){return yI.VoiceProfileClient}});var CI=jH();Object.defineProperty(t,"SpeakerRecognizer",{enumerable:!0,get:function(){return CI.SpeakerRecognizer}});var SI=qH();Object.defineProperty(t,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return SI.SpeakerIdentificationModel}});var PI=HH();Object.defineProperty(t,"SpeakerVerificationModel",{enumerable:!0,get:function(){return PI.SpeakerVerificationModel}});var RI=UH();Object.defineProperty(t,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return RI.AutoDetectSourceLanguageConfig}});var xI=Vd;Object.defineProperty(t,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return xI.AutoDetectSourceLanguageResult}});var NI=Gd;Object.defineProperty(t,"SourceLanguageConfig",{enumerable:!0,get:function(){return NI.SourceLanguageConfig}});var Rp=$H();Object.defineProperty(t,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return Rp.SpeakerRecognitionResult}}),Object.defineProperty(t,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return Rp.SpeakerRecognitionResultType}}),Object.defineProperty(t,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return Rp.SpeakerRecognitionCancellationDetails}});var xt=Wv();Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return xt.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return xt.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return xt.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return xt.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return xt.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return xt.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return xt.ConversationTranslator}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return xt.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return xt.ConversationTranscriptionResult}}),Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return xt.Meeting}}),Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return xt.MeetingTranscriber}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return xt.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return xt.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return xt.User}});var EI=Kv();Object.defineProperty(t,"Synthesizer",{enumerable:!0,get:function(){return EI.Synthesizer}});var wI=Bv;Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return wI.SpeechSynthesisOutputFormat}});var bI=oU();Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return bI.SpeechSynthesizer}});var TI=Jd;Object.defineProperty(t,"SynthesisResult",{enumerable:!0,get:function(){return TI.SynthesisResult}});var II=cU();Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return II.SpeechSynthesisResult}});var _I=Xd;Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return _I.SpeechSynthesisEventArgs}});var AI=Yd;Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return AI.SpeechSynthesisWordBoundaryEventArgs}});var zI=Zd;Object.defineProperty(t,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return zI.SpeechSynthesisBookmarkEventArgs}});var OI=ep;Object.defineProperty(t,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return OI.SpeechSynthesisVisemeEventArgs}});var MI=LT;Object.defineProperty(t,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return MI.SpeechSynthesisBoundaryType}});var kI=mU();Object.defineProperty(t,"SynthesisVoicesResult",{enumerable:!0,get:function(){return kI.SynthesisVoicesResult}});var DI=jT;Object.defineProperty(t,"VoiceInfo",{enumerable:!0,get:function(){return DI.VoiceInfo}});var BI=tp;Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return BI.SpeakerAudioDestination}});var LI=gU();Object.defineProperty(t,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return LI.ConversationTranscriptionCanceledEventArgs}});var jI=yU();Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return jI.MeetingTranscriptionCanceledEventArgs}});var qI=qT;Object.defineProperty(t,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return qI.PronunciationAssessmentGradingSystem}});var HI=HT;Object.defineProperty(t,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return HI.PronunciationAssessmentGranularity}});var UI=CU();Object.defineProperty(t,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return UI.PronunciationAssessmentConfig}});var FI=SU();Object.defineProperty(t,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return FI.PronunciationAssessmentResult}});var $I=Fv;Object.defineProperty(t,"LanguageIdMode",{enumerable:!0,get:function(){return $I.LanguageIdMode}});var WI=PU();Object.defineProperty(t,"AvatarConfig",{enumerable:!0,get:function(){return WI.AvatarConfig}});var KI=$T;Object.defineProperty(t,"AvatarEventArgs",{enumerable:!0,get:function(){return KI.AvatarEventArgs}});var VI=RU();Object.defineProperty(t,"AvatarSynthesizer",{enumerable:!0,get:function(){return VI.AvatarSynthesizer}});var cg=Cs;Object.defineProperty(t,"AvatarVideoFormat",{enumerable:!0,get:function(){return cg.AvatarVideoFormat}}),Object.defineProperty(t,"Coordinate",{enumerable:!0,get:function(){return cg.Coordinate}});var GI=EU();Object.defineProperty(t,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return GI.AvatarWebRTCConnectionResult}});var QI=wU();Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return QI.Diagnostics}});var JI=kv;Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return JI.LogLevel}})}(xm)),xm}var $S;function bU(){if($S)return fo;$S=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.ProxyInfo=void 0;const t=N();let e=class KT{constructor(n,i,s,o){this.privProxyHostName=n,this.privProxyPort=i,this.privProxyUserName=s,this.privProxyPassword=o}static fromParameters(n){return new KT(n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyPort),10),n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName),n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(n){return this.fromParameters(n.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return fo.ProxyInfo=e,fo}var VT={};const TU=new Set(["json","buffer","string"]);var IU=t=>(...e)=>{const r=new Set;let n,i,s,o="";return e.forEach(a=>{if(typeof a=="string")if(a.toUpperCase()===a)if(n){const c=`Can't set method to ${a}, already set to ${n}.`;throw new Error(c)}else n=a;else if(a.startsWith("http:")||a.startsWith("https:"))o=a;else if(TU.has(a))i=a;else throw new Error(`Unknown encoding, ${a}`);else if(typeof a=="number")r.add(a);else if(typeof a=="object")if(Array.isArray(a)||a instanceof Set)a.forEach(c=>r.add(c));else{if(s)throw new Error("Cannot set headers twice.");s=a}else throw new Error(`Unknown type: ${typeof a}`)}),n||(n="GET"),r.size===0&&r.add(200),t(r,n,i,s,o)};const _U=IU;class Vv extends Error{constructor(e,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,Vv),this.name="StatusError",this.message=e.statusMessage,this.statusCode=e.status,this.res=e,this.json=e.json.bind(e),this.text=e.text.bind(e),this.arrayBuffer=e.arrayBuffer.bind(e);let n;Object.defineProperty(this,"responseBody",{get:()=>(n||(n=this.arrayBuffer()),n)}),this.headers={};for(const[s,o]of e.headers.entries())this.headers[s.toLowerCase()]=o}}const AU=(t,e,r,n,i)=>async(s,o,a={})=>{s=i+(s||"");let c=new URL(s);if(n||(n={}),c.username&&(n.Authorization="Basic "+btoa(c.username+":"+c.password),c=new URL(c.protocol+"//"+c.host+c.pathname+c.search)),c.protocol!=="https:"&&c.protocol!=="http:")throw new Error(`Unknown protocol, ${c.protocol}`);if(o&&!(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="string"))if(typeof o=="object")o=JSON.stringify(o),n["Content-Type"]="application/json";else throw new Error("Unknown body type.");a=new Headers({...n||{},...a});const l=await fetch(c,{method:e,headers:a,body:o});if(l.statusCode=l.status,!t.has(l.status))throw new Vv(l);return r==="json"?l.json():r==="buffer"?l.arrayBuffer():r==="string"?l.text():l};var zU=_U(AU);(function(t){var e=Y&&Y.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.RestMessageAdapter=t.RestRequestType=void 0;const r=e(zU),n=U();var i;(function(o){o.Get="GET",o.Post="POST",o.Delete="DELETE",o.File="file"})(i=t.RestRequestType||(t.RestRequestType={}));class s{constructor(a){if(!a)throw new n.ArgumentNullError("configParams");this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}static extractHeaderValue(a,c){let l="";try{const u=c.trim().split(/[\r\n]+/),d={};u.forEach(p=>{const m=p.split(": "),h=m.shift().toLowerCase(),v=m.join(": ");d[h]=v}),l=d[a.toLowerCase()]}catch{}return l}set options(a){this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}setHeaders(a,c){this.privHeaders[a]=c}request(a,c,l={},u=null){const d=new n.Deferred,p=a===i.File?"POST":a,m=(v,y={})=>{const f=v;return{data:JSON.stringify(y),headers:JSON.stringify(v.headers),json:y,ok:v.statusCode>=200&&v.statusCode<300,status:v.statusCode,statusText:y.error?y.error.message:f.statusText?f.statusText:f.statusMessage}},h=v=>{const y=r.default(c,p,this.privHeaders,200,201,202,204,400,401,402,403,404),f=this.queryParams(l)===""?"":`?${this.queryParams(l)}`;y(f,v).then(async g=>{if(a===i.Delete||g.statusCode===204)d.resolve(m(g));else try{const C=await g.json();d.resolve(m(g,C))}catch{d.resolve(m(g))}}).catch(g=>{d.reject(g)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),a===i.Post&&u&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),h(u),d.promise}queryParams(a={}){return Object.keys(a).map(c=>encodeURIComponent(c)+"="+encodeURIComponent(a[c])).join("&")}}t.RestMessageAdapter=s})(VT);var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.RestConfigBase=void 0;class Cn{static get requestOptions(){return Cn.privDefaultRequestOptions}static get configParams(){return Cn.privDefaultParams}static get restErrors(){return Cn.privRestErrors}}ol.RestConfigBase=Cn;Cn.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4};Cn.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."};Cn.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"};var WS;function Ve(){return WS||(WS=1,function(t){var e=Y&&Y.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Y&&Y.__exportStar||function(n,i){for(var s in n)s!=="default"&&!i.hasOwnProperty(s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Id,t),r(rT,t),r(I2(),t),r(_2(),t),r(_d,t),r(Ad,t),r(tl,t),r(zd,t),r(bU(),t),r(VT,t),r(ol,t)}(Sm)),Sm}var KS;function OU(){if(KS)return po;KS=1,Object.defineProperty(po,"__esModule",{value:!0}),po.IntentConnectionFactory=void 0;const t=Ve(),e=N(),r=ur(),n=j(),i=Ke;let s=class extends r.ConnectionFactoryBase{create(a,c,l){let u=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint);if(!u){const h=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_IntentRegion),v=r.ConnectionFactoryBase.getHostSuffix(h);u=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+h+".sr.speech"+v)+"/speech/recognition/interactive/cognitiveservices/v1"}const d={format:"simple",language:a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(a,d,u);const p={};c.token!==void 0&&c.token!==""&&(p[c.headerName]=c.token),p[i.HeaderNames.ConnectionId]=l,a.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,u);const m=a.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(u,d,p,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(a),m,l)}getSpeechRegionFromIntentRegion(a){switch(a){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return a}}};return po.IntentConnectionFactory=s,po}var Xn={},VS;function MU(){if(VS)return Xn;VS=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.VoiceProfileConnectionFactory=Xn.SpeakerRecognitionConnectionFactory=void 0;const t=Ve(),e=N(),r=ur(),n=j(),i=Ke;class s extends r.ConnectionFactoryBase{create(l,u,d,p){let m=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint);if(!m){const f=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region),g=r.ConnectionFactoryBase.getHostSuffix(f),C=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,`wss://${f}.spr-frontend.speech${g}`),S=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");m=`${C}/speaker/ws/${this.scenarioToPath(S)}/${d}`}const h={format:"simple",language:l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(l,h,m);const v={};u.token!==void 0&&u.token!==""&&(v[u.headerName]=u.token),v[i.HeaderNames.ConnectionId]=p,v[i.HeaderNames.SpIDAuthKey]=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Key),l.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,m);const y=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(m,h,v,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),y,p)}scenarioToPath(l){switch(l){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let o=class extends s{create(l,u,d){return super.create(l,u,"recognition",d)}};Xn.SpeakerRecognitionConnectionFactory=o;class a extends s{create(l,u,d){return super.create(l,u,"profile",d)}}return Xn.VoiceProfileConnectionFactory=a,Xn}var rp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.RecognitionStartedEvent=t.ConnectingToServiceEvent=t.ListeningStartedEvent=t.RecognitionTriggeredEvent=t.SpeechRecognitionEvent=void 0;const e=U();class r extends e.PlatformEvent{constructor(u,d,p,m=e.EventType.Info){super(u,m),this.privRequestId=d,this.privSessionId=p}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}t.SpeechRecognitionEvent=r;class n extends r{constructor(u,d,p,m){super("RecognitionTriggeredEvent",u,d),this.privAudioSourceId=p,this.privAudioNodeId=m}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}t.RecognitionTriggeredEvent=n;class i extends r{constructor(u,d,p,m){super("ListeningStartedEvent",u,d),this.privAudioSourceId=p,this.privAudioNodeId=m}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}t.ListeningStartedEvent=i;class s extends r{constructor(u,d,p){super("ConnectingToServiceEvent",u,p),this.privAuthFetchEventid=d}get authFetchEventid(){return this.privAuthFetchEventid}}t.ConnectingToServiceEvent=s;class o extends r{constructor(u,d,p,m,h){super("RecognitionStartedEvent",u,h),this.privAudioSourceId=d,this.privAudioNodeId=p,this.privAuthFetchEventId=m}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}t.RecognitionStartedEvent=o;var a;(function(l){l[l.Success=0]="Success",l[l.AudioSourceError=1]="AudioSourceError",l[l.AudioSourceTimeout=2]="AudioSourceTimeout",l[l.AuthTokenFetchError=3]="AuthTokenFetchError",l[l.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",l[l.UnAuthorized=5]="UnAuthorized",l[l.ConnectTimeout=6]="ConnectTimeout",l[l.ConnectError=7]="ConnectError",l[l.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",l[l.UnknownError=9]="UnknownError"})(a=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));class c extends r{constructor(u,d,p,m,h,v,y,f){super("RecognitionEndedEvent",u,h,y===a.Success?e.EventType.Info:e.EventType.Error),this.privAudioSourceId=d,this.privAudioNodeId=p,this.privAuthFetchEventId=m,this.privStatus=y,this.privError=f,this.privServiceTag=v}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}t.RecognitionEndedEvent=c})(rp);var ga={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.SpeechConnectionMessage=void 0;const Tm=U(),Ir=Ke;class Gv extends Tm.ConnectionMessage{constructor(e,r,n,i,s,o,a,c){if(!r)throw new Tm.ArgumentNullError("path");if(!n)throw new Tm.ArgumentNullError("requestId");const l={};if(l[Ir.HeaderNames.Path]=r,l[Ir.HeaderNames.RequestId]=n,l[Ir.HeaderNames.RequestTimestamp]=new Date().toISOString(),i&&(l[Ir.HeaderNames.ContentType]=i),o&&(l[Ir.HeaderNames.RequestStreamId]=o),a)for(const u in a)u&&(l[u]=a[u]);c?super(e,s,l,c):super(e,s,l),this.privPath=r,this.privRequestId=n,this.privContentType=i,this.privStreamId=o,this.privAdditionalHeaders=a}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let r=null,n=null,i=null,s=null;const o={};if(e.headers)for(const a in e.headers)a&&(a.toLowerCase()===Ir.HeaderNames.Path.toLowerCase()?r=e.headers[a]:a.toLowerCase()===Ir.HeaderNames.RequestId.toLowerCase()?n=e.headers[a]:a.toLowerCase()===Ir.HeaderNames.ContentType.toLowerCase()?i=e.headers[a]:a.toLowerCase()===Ir.HeaderNames.RequestStreamId.toLowerCase()?s=e.headers[a]:o[a]=e.headers[a]);return new Gv(e.messageType,r,n,i,e.body,s,o,e.id)}}Xr.SpeechConnectionMessage=Gv;var GS;function kU(){if(GS)return ga;GS=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.ServiceRecognizerBase=void 0;const t=Ve(),e=U(),r=N(),n=j(),i=Xr;let s=class Ya{constructor(a,c,l,u,d){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!a)throw new e.ArgumentNullError("authentication");if(!c)throw new e.ArgumentNullError("connectionFactory");if(!l)throw new e.ArgumentNullError("audioSource");if(!u)throw new e.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=u.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=a,this.privConnectionFactory=c,this.privAudioSource=l,this.privRecognizerConfig=u,this.privIsDisposed=!1,this.privRecognizer=d,this.privRequestSession=new n.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privDynamicGrammar=new n.DynamicGrammarBuilder,this.privSpeechContext=new n.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new n.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=e.Timeout.setTimeout:typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),this.connectionEvents.attach(m=>{if(m.name==="ConnectionClosedEvent"){const h=m;(h.statusCode===1003||h.statusCode===1007||h.statusCode===1002||h.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,h.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${h.reason} websocket error code: ${h.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=e.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(a!==void 0){const c=a.split(","),l=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),u=l!==void 0?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:u},output:{interimResults:{mode:"Always"}},targetLanguages:c}),l!==void 0){const d={};for(const p of c)d[p]=l;this.privSpeechContext.setSection("synthesis",{defaultVoices:d})}}}setSpeechSegmentationTimeoutJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0);if(a!==void 0){const c=this.recognitionMode===n.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===n.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",l=parseInt(a,10),u=this.privSpeechContext.getSection("phraseDetection");u.mode=c,u[c]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:l}},this.privSpeechContext.setSection("phraseDetection",u)}}setLanguageIdJson(){const a=this.privSpeechContext.getSection("phraseDetection");if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const l=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let u;this.privRecognizerConfig.languageIdMode==="Continuous"?u="DetectContinuous":u="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:l,mode:u,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const d=this.privRecognizerConfig.sourceLanguageModels;d!==void 0&&(a.customModels=d,a.onInterim={action:"None"},a.onSuccess={action:"None"})}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&(a.onInterim={action:"Translate"},a.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",a)}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(n.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,a)}set voiceProfileType(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,a)}set authentication(a){this.privAuthentication=a}isDisposed(){return this.privIsDisposed}async dispose(a){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{await(await this.privConnectionConfigurationPromise).dispose(a)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(a,c,l){if(this.recognizeOverride!==void 0){await this.recognizeOverride(a,c,l);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=a,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=c,this.privErrorCallback=l,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const u=this.connectImpl();let d;try{const h=await this.audioSource.attach(this.privRequestSession.audioNodeId),v=await this.audioSource.format,y=await this.audioSource.deviceInfo;this.privIsLiveAudio=y.type&&y.type===n.type.Microphones,d=new t.ReplayableAudioNode(h,v.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(d,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:y}}catch(h){throw await this.privRequestSession.onStopRecognizing(),h}try{await u}catch(h){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,h);return}const p=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,p),this.receiveMessage(),this.sendAudio(d).catch(async h=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,h)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(a,c){this.connectImpl().then(()=>{try{a&&a()}catch(l){c&&c(l)}},l=>{try{c&&c(l)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(a){}async sendNetworkMessage(a,c){const l=typeof c=="string"?e.MessageType.Text:e.MessageType.Binary,u=typeof c=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(l,a,this.privRequestSession.requestId,u,c))}set activityTemplate(a){this.privActivityTemplate=a}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(a){this.privExpectContentAssessmentResponse=a}async sendTelemetryData(){const a=this.privRequestSession.getTelemetry();if(Ya.telemetryDataEnabled!==!0||this.privIsDisposed||a===null)return;if(Ya.telemetryData)try{Ya.telemetryData(a)}catch{}await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",a))}async cancelRecognitionLocal(a,c,l){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a,c,l))}async receiveMessage(){try{if(this.privIsDisposed)return;let a=await this.fetchConnection();const c=await a.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!c)return this.receiveMessage();this.privServiceHasSentMessage=!0;const l=i.SpeechConnectionMessage.fromConnectionMessage(c);if(l.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(l.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const u=n.SpeechDetected.fromJSON(l.textBody),d=new r.RecognitionEventArgs(u.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,d);break;case"speech.enddetected":let p;l.textBody.length>0?p=l.textBody:p="{ Offset: 0 }";const m=n.SpeechDetected.fromJSON(p),h=new r.RecognitionEventArgs(m.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,h);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const v=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,v);return}else a=await this.fetchConnection(),await this.sendPrePayloadJSON(a);break;default:await this.processTypeSpecificMessages(l)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(l.path.toLowerCase(),l.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const c=this.privRequestSession.recognitionBytesSent/this.privAverageBytesPerMs;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(c)}sendSpeechContext(a,c){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const l=this.speechContext.toJSON();if(c&&this.privRequestSession.onSpeechContext(),l)return a.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",l))}noOp(){}async sendPrePayloadJSON(a,c=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(a);await this.sendSpeechContext(a,c),await this.sendWaveHeader(a)}async sendWaveHeader(a){const c=await this.audioSource.format;return a.send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",c.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(a=>a.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(a,c,l){if(c.onSpeechContext(),Ya.telemetryDataEnabled!==!0){const d={context:{system:JSON.parse(l).context.system}};l=JSON.stringify(d)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const u=JSON.parse(l);u.context.DisableReferenceChannel="True",u.context.MicSpec="1_0_0",l=JSON.stringify(u)}if(l)return a.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.config",c.requestId,"application/json",l))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(a=>a.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(a){const c=await this.audioSource.format;this.privAverageBytesPerMs=c.avgBytesPerSec/1e3;let l=Date.now();const u=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),d=c.avgBytesPerSec/1e3*parseInt(u,10),p=this.privRequestSession.recogNumber,m=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===p){const h=await this.fetchConnection(),v=await a.read();if(this.privRequestSession.isSpeechEnded)return;let y,f;if(!v||v.isEnd?(y=null,f=0):(y=v.buffer,this.privRequestSession.onAudioSent(y.byteLength),d>=this.privRequestSession.bytesSent?f=0:f=Math.max(0,l-Date.now())),f!==0&&await this.delay(f),y!==null&&(l=Date.now()+y.byteLength*1e3/(c.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===p)if(h.send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,null,y)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),v!=null&&v.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return m()}};return m()}async retryableConnect(){let a=!1;this.privAuthFetchEventId=e.createNoDashGuid();const c=this.privRequestSession.sessionId;this.privConnectionId=c!==void 0?c:e.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let l=0,u="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const p=await(a?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const m=this.privConnectionFactory.create(this.privRecognizerConfig,p,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(m.events),m.events.attach(v=>{this.connectionEvents.onEvent(v)});const h=await m.open();if(h.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(h.statusCode),Promise.resolve(m);h.statusCode===1006&&(a=!0),l=h.statusCode,u=h.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(l,u),Promise.reject(`Unable to contact server. StatusCode: ${l}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${u}`)}delay(a){return new Promise(c=>this.privSetTimeout(c,a))}writeBufferToConsole(a){let c="Buffer Size: ";if(a===null)c+="null";else{const l=new Uint8Array(a);c+=`${a.byteLength}\r
`;for(let u=0;u<a.byteLength;u++)c+=l[u].toString(16).padStart(2,"0")+" ",(u+1)%16===0&&(console.info(c),c="")}console.info(c)}async sendFinalAudio(){await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const a=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(a):(await this.sendSpeechServiceConfig(a,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(a,!1),a)}};return ga.ServiceRecognizerBase=s,s.telemetryDataEnabled=!0,ga}var ya={},QS;function DU(){if(QS)return ya;QS=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.ConversationServiceRecognizer=void 0;const t=N(),e=j();let r=class extends e.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.handleSpeechPhraseMessage=async l=>this.handleSpeechPhrase(l),this.handleSpeechHypothesisMessage=l=>this.handleSpeechHypothesis(l)}processTypeSpecificMessages(i){}handleRecognizedCallback(i,s,o){}handleRecognizingCallback(i,s,o){}async processSpeechMessages(i){let s=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(i.textBody),s=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(i.textBody),s=!0;break}return s}cancelRecognition(i,s,o,a,c){}async handleSpeechPhrase(i){const s=e.SimpleSpeechPhrase.fromJSON(i),o=e.EnumTranslation.implTranslateRecognitionResult(s.RecognitionStatus);let a;const c=new t.PropertyCollection;c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i);const l=s.Offset+this.privRequestSession.currentTurnAudioOffset;let u=l;if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+s.Offset+s.Duration),t.ResultReason.Canceled===o){const d=e.EnumTranslation.implTranslateCancelResult(s.RecognitionStatus),p=e.EnumTranslation.implTranslateCancelErrorCode(s.RecognitionStatus);await this.cancelRecognitionLocal(d,p,e.EnumTranslation.implTranslateErrorDetails(p))}else if(!(this.privRequestSession.isSpeechEnded&&o===t.ResultReason.NoMatch&&s.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])a=new t.SpeechRecognitionResult(this.privRequestSession.requestId,o,s.DisplayText,s.Duration,l,s.Language,s.LanguageDetectionConfidence,s.SpeakerId,void 0,i,c);else{const d=e.DetailedSpeechPhrase.fromJSON(i),p=d.Offset+this.privRequestSession.currentTurnAudioOffset,m=d.getJsonWithCorrectedOffsets(p);a=new t.SpeechRecognitionResult(this.privRequestSession.requestId,o,d.Text,d.Duration,p,d.Language,d.LanguageDetectionConfidence,d.SpeakerId,void 0,m,c),u=a.offset}this.handleRecognizedCallback(a,u,this.privRequestSession.sessionId)}}handleSpeechHypothesis(i){const s=e.SpeechHypothesis.fromJSON(i),o=s.Offset+this.privRequestSession.currentTurnAudioOffset,a=new t.PropertyCollection;a.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i);const c=new t.SpeechRecognitionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,s.Text,s.Duration,o,s.Language,s.LanguageDetectionConfidence,s.SpeakerId,void 0,i,a);this.privRequestSession.onHypothesis(o),this.handleRecognizingCallback(c,s.Duration,this.privRequestSession.sessionId)}};return ya.ConversationServiceRecognizer=r,ya}var Im={},JS;function BU(){return JS||(JS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognizerConfig=t.SpeechResultFormat=t.RecognitionMode=void 0;const e=N(),r=j();var n;(function(s){s[s.Interactive=0]="Interactive",s[s.Conversation=1]="Conversation",s[s.Dictation=2]="Dictation"})(n=t.RecognitionMode||(t.RecognitionMode={})),function(s){s[s.Simple=0]="Simple",s[s.Detailed=1]="Detailed"}(t.SpeechResultFormat||(t.SpeechResultFormat={}));class i{constructor(o,a){this.privSpeechServiceConfig=o||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=a,this.privMaxRetryCount=parseInt(a.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=a.getProperty(e.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(o){this.privRecognitionMode=o,this.privRecognitionActivityTimeout=o===n.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=n[o]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==n.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(e.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const o=[];let a=!1;if(this.autoDetectSourceLanguages!==void 0)for(const c of this.autoDetectSourceLanguages.split(",")){const l=c+e.PropertyId.SpeechServiceConnection_EndpointId.toString(),u=this.parameters.getProperty(l,void 0);u!==void 0?(o.push({language:c,endpoint:u}),a=!0):o.push({language:c,endpoint:""})}return a?o:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(o){this.privEnableSpeakerId=o}}t.RecognizerConfig=i}(Im)),Im}var GT={};Object.defineProperty(GT,"__esModule",{value:!0});var np={};Object.defineProperty(np,"__esModule",{value:!0});np.WebsocketMessageFormatter=void 0;const Ut=U(),XS=`\r
`;class LU{toConnectionMessage(e){const r=new Ut.Deferred;try{if(e.messageType===Ut.MessageType.Text){const n=e.textContent;let i={},s=null;if(n){const o=n.split(`\r
\r
`);o&&o.length>0&&(i=this.parseHeaders(o[0]),o.length>1&&(s=o[1]))}r.resolve(new Ut.ConnectionMessage(e.messageType,s,i,e.id))}else if(e.messageType===Ut.MessageType.Binary){const n=e.binaryContent;let i={},s=null;if(!n||n.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const o=new DataView(n),a=o.getInt16(0);if(n.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let c="";for(let l=0;l<a;l++)c+=String.fromCharCode(o.getInt8(l+2));i=this.parseHeaders(c),n.byteLength>a+2&&(s=n.slice(2+a)),r.resolve(new Ut.ConnectionMessage(e.messageType,s,i,e.id))}}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(e){const r=new Ut.Deferred;try{if(e.messageType===Ut.MessageType.Text){const n=`${this.makeHeaders(e)}${XS}${e.textBody?e.textBody:""}`;r.resolve(new Ut.RawWebsocketMessage(Ut.MessageType.Text,n,e.id))}else if(e.messageType===Ut.MessageType.Binary){const n=this.makeHeaders(e),i=e.binaryBody,s=this.stringToArrayBuffer(n),o=new Int8Array(s),a=o.byteLength,c=new Int8Array(2+a+(i?i.byteLength:0));if(c[0]=a>>8&255,c[1]=a&255,c.set(o,2),i){const u=new Int8Array(i);c.set(u,2+a)}const l=c.buffer;r.resolve(new Ut.RawWebsocketMessage(Ut.MessageType.Binary,l,e.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}makeHeaders(e){let r="";if(e.headers)for(const n in e.headers)n&&(r+=`${n}: ${e.headers[n]}${XS}`);return r}parseHeaders(e){const r={};if(e){const n=e.match(/[^\r\n]+/g);if(r){for(const i of n)if(i){const s=i.indexOf(":"),o=s>0?i.substr(0,s).trim().toLowerCase():i,a=s>0&&i.length>s+1?i.substr(s+1).trim():"";r[o]=a}}}return r}stringToArrayBuffer(e){const r=new ArrayBuffer(e.length),n=new DataView(r);for(let i=0;i<e.length;i++)n.setUint8(i,e.charCodeAt(i));return r}}np.WebsocketMessageFormatter=LU;var Ca={},YS;function jU(){if(YS)return Ca;YS=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.SpeechConnectionFactory=void 0;const t=Ve(),e=j(),r=N(),n=ur(),i=j(),s=Ke,o=lr;let a=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(l,u,d){let p=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),h=n.ConnectionFactoryBase.getHostSuffix(m),v=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+m+".stt.speech"+h),y={},f=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(f?(!p||p.search(o.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(y[o.QueryParameterNames.CustomSpeechDeploymentId]=f):g&&(!p||p.search(o.QueryParameterNames.Language)===-1)&&(y[o.QueryParameterNames.Language]=g),(!p||p.search(o.QueryParameterNames.Format)===-1)&&(y[o.QueryParameterNames.Format]=l.parameters.getProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),l.autoDetectSourceLanguages!==void 0&&(y[o.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(l,y,p),!p)switch(l.recognitionMode){case i.RecognitionMode.Conversation:l.parameters.getProperty(e.ForceDictationPropertyName,"false")==="true"?p=v+this.dictationRelativeUri:l.recognitionEndpointVersion!==void 0&&parseInt(l.recognitionEndpointVersion,10)>1?p=`${v}${this.universalUri}${l.recognitionEndpointVersion}`:p=v+this.conversationRelativeUri;break;case i.RecognitionMode.Dictation:p=v+this.dictationRelativeUri;break;default:l.recognitionEndpointVersion!==void 0&&parseInt(l.recognitionEndpointVersion,10)>1?p=`${v}${this.universalUri}${l.recognitionEndpointVersion}`:p=v+this.interactiveRelativeUri;break}const C={};u.token!==void 0&&u.token!==""&&(C[u.headerName]=u.token),C[s.HeaderNames.ConnectionId]=d;const S=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",P=new t.WebsocketConnection(p,y,C,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),S,d),R=P.uri;return l.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,R),P}};return Ca.SpeechConnectionFactory=a,Ca}var Sa={},ZS;function qU(){if(ZS)return Sa;ZS=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.ConversationTranscriberConnectionFactory=void 0;const t=Ve(),e=N(),r=j(),n=ur(),i=j(),s=Ke,o=lr;let a=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(l,u,d){let p=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,void 0),h=n.ConnectionFactoryBase.getHostSuffix(m),v=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+m+".stt.speech"+h),y={},f=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);f?(!p||p.search(o.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(y[o.QueryParameterNames.CustomSpeechDeploymentId]=f):g&&(!p||p.search(o.QueryParameterNames.Language)===-1)&&(y[o.QueryParameterNames.Language]=g),l.autoDetectSourceLanguages!==void 0&&(y[o.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(l,y,p),p||(p=`${v}${this.universalUri}`);const C={};u.token!==void 0&&u.token!==""&&(C[u.headerName]=u.token),C[s.HeaderNames.ConnectionId]=d;const S=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",P=new t.WebsocketConnection(p,y,C,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),S,d),R=P.uri;return l.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,R),P}setV2UrlParams(l,u,d){new Map([[e.PropertyId.Speech_SegmentationSilenceTimeoutMs,o.QueryParameterNames.SegmentationSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_EnableAudioLogging,o.QueryParameterNames.EnableAudioLogging],[e.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,o.QueryParameterNames.EndSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,o.QueryParameterNames.InitialSilenceTimeoutMs],[e.PropertyId.SpeechServiceResponse_PostProcessingOption,o.QueryParameterNames.Postprocessing],[e.PropertyId.SpeechServiceResponse_ProfanityOption,o.QueryParameterNames.Profanity],[e.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,o.QueryParameterNames.StableIntermediateThreshold]]).forEach((h,v)=>{this.setUrlParameter(v,h,l,u,d)});const m=JSON.parse(l.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(m).forEach(h=>{u[h]=m[h]})}};return Sa.ConversationTranscriberConnectionFactory=a,Sa}var Pa={},eP;function HU(){if(eP)return Pa;eP=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.TranscriberConnectionFactory=void 0;const t=Ve(),e=N(),r=ur(),n=j(),i=Ke,s=lr;let o=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(c,l,u){let d=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const p=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,"centralus"),m=r.ConnectionFactoryBase.getHostSuffix(p),h="wss://transcribe."+p+".cts.speech"+m+this.multiaudioRelativeUri,v=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,h),y={};this.setQueryParams(y,c,d),d||(d=v);const f={};l.token!==void 0&&l.token!==""&&(f[l.headerName]=l.token),f[i.HeaderNames.ConnectionId]=u,c.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,d);const g=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(d,y,f,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(c),g,u)}setQueryParams(c,l,u){const d=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),p=l.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);d&&!(s.QueryParameterNames.CustomSpeechDeploymentId in c)&&(c[s.QueryParameterNames.CustomSpeechDeploymentId]=d),p&&!(s.QueryParameterNames.Language in c)&&(c[s.QueryParameterNames.Language]=p);const m=l.parameters.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",h=l.parameters.getProperty(n.OutputFormatPropertyName,e.OutputFormat[e.OutputFormat.Simple])!==e.OutputFormat[e.OutputFormat.Simple];(m||h)&&(c[s.QueryParameterNames.Format]=e.OutputFormat[e.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(l,c,u)}};return Pa.TranscriberConnectionFactory=o,Pa}var Ra={},tP;function UU(){if(tP)return Ra;tP=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.TranslationConnectionFactory=void 0;const t=Ve(),e=sl,r=N(),n=ur(),i=j(),s=Ke,o=lr;let a=class extends n.ConnectionFactoryBase{create(l,u,d){const p=this.getEndpointUrl(l),m={};l.autoDetectSourceLanguages!==void 0&&(m[o.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(m,l,p);const h={};u.token!==void 0&&u.token!==""&&(h[u.headerName]=u.token),h[s.HeaderNames.ConnectionId]=d,l.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,p);const v=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(p,m,h,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),v,d)}getEndpointUrl(l,u){const d=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),p=n.ConnectionFactoryBase.getHostSuffix(d);let m=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return m||(l.autoDetectSourceLanguages!==void 0?m=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+p)+"/speech/universal/v2":m=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+p)+"/speech/translation/cognitiveservices/v1"),u===!0?m:e.StringUtils.formatString(m,{region:d})}setQueryParams(l,u,d){l.from=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),l.to=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),l.scenario=u.recognitionMode===i.RecognitionMode.Interactive?"interactive":u.recognitionMode===i.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(u,l,d),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,o.QueryParameterNames.StableTranslation,u,l,d);const p=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);p!==void 0&&(l.voice=p,l.features="texttospeech")}};return Ra.TranslationConnectionFactory=a,Ra}var xa={},rP;function FU(){if(rP)return xa;rP=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.EnumTranslation=void 0;const t=N(),e=j();let r=class{static implTranslateRecognitionResult(i,s=!1){let o=t.ResultReason.Canceled;switch(i){case e.RecognitionStatus.Success:o=t.ResultReason.RecognizedSpeech;break;case e.RecognitionStatus.EndOfDictation:o=s?t.ResultReason.RecognizedSpeech:t.ResultReason.NoMatch;break;case e.RecognitionStatus.NoMatch:case e.RecognitionStatus.InitialSilenceTimeout:case e.RecognitionStatus.BabbleTimeout:o=t.ResultReason.NoMatch;break;case e.RecognitionStatus.Error:case e.RecognitionStatus.BadRequest:case e.RecognitionStatus.Forbidden:default:o=t.ResultReason.Canceled;break}return o}static implTranslateCancelResult(i){let s=t.CancellationReason.EndOfStream;switch(i){case e.RecognitionStatus.Success:case e.RecognitionStatus.EndOfDictation:case e.RecognitionStatus.NoMatch:s=t.CancellationReason.EndOfStream;break;case e.RecognitionStatus.InitialSilenceTimeout:case e.RecognitionStatus.BabbleTimeout:case e.RecognitionStatus.Error:case e.RecognitionStatus.BadRequest:case e.RecognitionStatus.Forbidden:default:s=t.CancellationReason.Error;break}return s}static implTranslateCancelErrorCode(i){let s=t.CancellationErrorCode.NoError;switch(i){case e.RecognitionStatus.Error:s=t.CancellationErrorCode.ServiceError;break;case e.RecognitionStatus.TooManyRequests:s=t.CancellationErrorCode.TooManyRequests;break;case e.RecognitionStatus.BadRequest:s=t.CancellationErrorCode.BadRequestParameters;break;case e.RecognitionStatus.Forbidden:s=t.CancellationErrorCode.Forbidden;break;default:s=t.CancellationErrorCode.NoError;break}return s}static implTranslateErrorDetails(i){let s="The speech service encountered an internal error and could not continue.";switch(i){case t.CancellationErrorCode.Forbidden:s="The recognizer is using a free subscription that ran out of quota.";break;case t.CancellationErrorCode.BadRequestParameters:s="Invalid parameter or unsupported audio format in the request.";break;case t.CancellationErrorCode.TooManyRequests:s="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return s}};return xa.EnumTranslation=r,xa}var QT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionStatus=t.SynthesisStatus=void 0,function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(t.SynthesisStatus||(t.SynthesisStatus={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests",e[e.BadRequest=7]="BadRequest",e[e.Forbidden=8]="Forbidden"}(t.RecognitionStatus||(t.RecognitionStatus={}))})(QT);var Na={},nP;function $U(){if(nP)return Na;nP=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.TranslationSynthesisEnd=void 0;const t=j();let e=class JT{constructor(n){this.privSynthesisEnd=JSON.parse(n),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=t.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=t.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(n){return new JT(n)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return Na.TranslationSynthesisEnd=e,Na}var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.TranslationHypothesis=void 0;const WU=F,KU=wd;class Du{constructor(e){this.privTranslationHypothesis=e,this.privTranslationHypothesis.Translation.TranslationStatus=KU.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}static fromJSON(e){return new Du(JSON.parse(e))}static fromTranslationResponse(e){WU.Contracts.throwIfNullOrUndefined(e,"translationHypothesis");const r=e.SpeechHypothesis;return e.SpeechHypothesis=void 0,r.Translation=e,new Du(r)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var e;return(e=this.privTranslationHypothesis.PrimaryLanguage)==null?void 0:e.Language}}ip.TranslationHypothesis=Du;var Ea={},iP;function VU(){if(iP)return Ea;iP=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.TranslationPhrase=void 0;const t=F,e=j(),r=wd;let n=class Xh{constructor(s){this.privTranslationPhrase=s,this.privTranslationPhrase.RecognitionStatus=e.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=r.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}static fromJSON(s){return new Xh(JSON.parse(s))}static fromTranslationResponse(s){t.Contracts.throwIfNullOrUndefined(s,"translationResponse");const o=s.SpeechPhrase;return s.SpeechPhrase=void 0,o.Translation=s,o.Text=o.DisplayText,new Xh(o)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var s;return(s=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:s.Language}get Confidence(){var s;return(s=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:s.Confidence}get Translation(){return this.privTranslationPhrase.Translation}};return Ea.TranslationPhrase=n,Ea}var wa={},sP;function GU(){if(sP)return wa;sP=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.TranslationServiceRecognizer=void 0;const t=U(),e=N(),r=j();let n=class extends r.ConversationServiceRecognizer{constructor(s,o,a,c,l){super(s,o,a,c,l),this.privTranslationRecognizer=l,this.connectionEvents.attach(u=>{u.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(s){const o=new e.PropertyCollection;let a=await this.processSpeechMessages(s);if(a)return!0;const c=async u=>{if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+u.Offset+u.Duration),u.RecognitionStatus===r.RecognitionStatus.Success){const d=this.fireEventForResult(u,o);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,d)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(d.result)}catch(p){this.privErrorCallback&&this.privErrorCallback(p)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const d=r.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus),p=new e.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,d,u.Text,u.Duration,this.privRequestSession.currentTurnAudioOffset+u.Offset,u.Language,u.Confidence,void 0,s.textBody,o);if(d===e.ResultReason.Canceled){const m=r.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus),h=r.EnumTranslation.implTranslateCancelErrorCode(u.RecognitionStatus);await this.cancelRecognitionLocal(m,h,r.EnumTranslation.implTranslateErrorDetails(h))}else{if(!(this.privRequestSession.isSpeechEnded&&d===e.ResultReason.NoMatch&&u.RecognitionStatus!==r.RecognitionStatus.InitialSilenceTimeout)){const m=new e.TranslationRecognitionEventArgs(p,p.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,m)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(p)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0}},l=(u,d)=>{const p=this.fireEventForResult(u,d);if(this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+p.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,p)}catch{}a=!0};switch(s.messageType===t.MessageType.Text&&o.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"translation.hypothesis":l(r.TranslationHypothesis.fromJSON(s.textBody),o);break;case"translation.response":const u=JSON.parse(s.textBody);if(u.SpeechPhrase)await c(r.TranslationPhrase.fromTranslationResponse(u));else{const p=JSON.parse(s.textBody);p.SpeechHypothesis&&l(r.TranslationHypothesis.fromTranslationResponse(p),o)}break;case"translation.phrase":await c(r.TranslationPhrase.fromJSON(s.textBody));break;case"translation.synthesis":this.sendSynthesisAudio(s.binaryBody,this.privRequestSession.sessionId),a=!0;break;case"audio.end":case"translation.synthesis.end":const d=r.TranslationSynthesisEnd.fromJSON(s.textBody);switch(d.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const p=new e.TranslationSynthesisResult(e.ResultReason.Canceled,void 0),m=new e.TranslationSynthesisEventArgs(p,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,m)}catch{}}if(this.privTranslationRecognizer.canceled){const p=new e.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,e.CancellationReason.Error,d.FailureReason,e.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,p)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}a=!0;break}return a}cancelRecognition(s,o,a,c,l){const u=new e.PropertyCollection;if(u.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]),this.privTranslationRecognizer.canceled){const d=new e.TranslationRecognitionCanceledEventArgs(s,a,l,c,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,d)}catch{}}if(this.privSuccessCallback){const d=new e.TranslationRecognitionResult(void 0,o,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,l,void 0,u);try{this.privSuccessCallback(d),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(s,o,a){try{const c=new e.TranslationRecognitionEventArgs(e.TranslationRecognitionResult.fromSpeechRecognitionResult(s),o,a);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,c)}catch{}}handleRecognizedCallback(s,o,a){try{const c=new e.TranslationRecognitionEventArgs(e.TranslationRecognitionResult.fromSpeechRecognitionResult(s),o,a);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,c)}catch{}}fireEventForResult(s,o){let a;if(s.Translation.Translations!==void 0){a=new e.Translations;for(const h of s.Translation.Translations)a.set(h.Language,h.Text||h.DisplayText)}let c,l;s instanceof r.TranslationPhrase?(s.Translation&&s.Translation.TranslationStatus===t.TranslationStatus.Success?c=e.ResultReason.TranslatedSpeech:c=e.ResultReason.RecognizedSpeech,l=s.Confidence):c=e.ResultReason.TranslatingSpeech;const u=s.Language,d=s.Offset+this.privRequestSession.currentTurnAudioOffset,p=new e.TranslationRecognitionResult(a,this.privRequestSession.requestId,c,s.Text,s.Duration,d,u,l,s.Translation.FailureReason,JSON.stringify(s),o);return new e.TranslationRecognitionEventArgs(p,d,this.privRequestSession.sessionId)}sendSynthesisAudio(s,o){const a=s===void 0?e.ResultReason.SynthesizingAudioCompleted:e.ResultReason.SynthesizingAudio,c=new e.TranslationSynthesisResult(a,s),l=new e.TranslationSynthesisEventArgs(c,o);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,l)}catch{}}};return wa.TranslationServiceRecognizer=n,wa}var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.SpeechDetected=void 0;class Qv{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new Qv(e)}get Offset(){return this.privSpeechStartDetected.Offset}}sp.SpeechDetected=Qv;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.SpeechHypothesis=void 0;class Jv{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new Jv(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}op.SpeechHypothesis=Jv;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.SpeechKeyword=void 0;class Xv{constructor(e){this.privSpeechKeyword=JSON.parse(e)}static fromJSON(e){return new Xv(e)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}}ap.SpeechKeyword=Xv;var ba={},oP;function QU(){if(oP)return ba;oP=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.SpeechServiceRecognizer=void 0;const t=N(),e=j();let r=class extends e.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.privSpeechRecognizer=c}async processTypeSpecificMessages(i){let s;const o=new t.PropertyCollection;o.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let a=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=e.SpeechHypothesis.fromJSON(i.textBody),l=c.Offset+this.privRequestSession.currentTurnAudioOffset;s=new t.SpeechRecognitionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,c.Text,c.Duration,l,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,o),this.privRequestSession.onHypothesis(l);const u=new t.SpeechRecognitionEventArgs(s,c.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,u)}catch{}a=!0;break;case"speech.phrase":const d=e.SimpleSpeechPhrase.fromJSON(i.textBody),p=e.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+d.Offset+d.Duration),t.ResultReason.Canceled===p){const m=e.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus),h=e.EnumTranslation.implTranslateCancelErrorCode(d.RecognitionStatus);await this.cancelRecognitionLocal(m,h,e.EnumTranslation.implTranslateErrorDetails(h))}else{if(!(this.privRequestSession.isSpeechEnded&&p===t.ResultReason.NoMatch&&d.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])s=new t.SpeechRecognitionResult(this.privRequestSession.requestId,p,d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,void 0,i.textBody,o);else{const h=e.DetailedSpeechPhrase.fromJSON(i.textBody),v=h.Offset+this.privRequestSession.currentTurnAudioOffset,y=h.getJsonWithCorrectedOffsets(v);s=new t.SpeechRecognitionResult(this.privRequestSession.requestId,p,h.RecognitionStatus===e.RecognitionStatus.Success?h.NBest[0].Display:void 0,h.Duration,v,h.Language,h.LanguageDetectionConfidence,void 0,void 0,y,o)}const m=new t.SpeechRecognitionEventArgs(s,s.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,m)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(s)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0;break}return a}cancelRecognition(i,s,o,a,c){const l=new t.PropertyCollection;if(l.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[a]),this.privSpeechRecognizer.canceled){const u=new t.SpeechRecognitionCanceledEventArgs(o,c,a,void 0,i);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,u)}catch{}}if(this.privSuccessCallback){const u=new t.SpeechRecognitionResult(s,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,l);try{this.privSuccessCallback(u),this.privSuccessCallback=void 0}catch{}}}};return ba.SpeechServiceRecognizer=r,ba}var Ta={},aP;function JU(){if(aP)return Ta;aP=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.ConversationTranscriptionServiceRecognizer=void 0;const t=N(),e=j();let r=class extends e.ServiceRecognizerBase{constructor(i,s,o,a,c){super(i,s,o,a,c),this.privConversationTranscriber=c,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const i=this.privSpeechContext.getSection("phraseDetection");i.mode="Conversation";const s={};s.mode="Anonymous",s.audioSessionId=this.privDiarizationSessionId,s.audioOffsetMs=0,i.speakerDiarization=s,this.privSpeechContext.setSection("phraseDetection",i)}}async processTypeSpecificMessages(i){let s;const o=new t.PropertyCollection;o.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let a=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=e.SpeechHypothesis.fromJSON(i.textBody),l=c.Offset+this.privRequestSession.currentTurnAudioOffset;s=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,c.Text,c.Duration,l,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,o),this.privRequestSession.onHypothesis(l);const u=new t.ConversationTranscriptionEventArgs(s,c.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,u)}catch{}a=!0;break;case"speech.phrase":const d=e.SimpleSpeechPhrase.fromJSON(i.textBody),p=e.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+d.Offset+d.Duration),t.ResultReason.Canceled===p){const m=e.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus),h=e.EnumTranslation.implTranslateCancelErrorCode(d.RecognitionStatus);await this.cancelRecognitionLocal(m,h,e.EnumTranslation.implTranslateErrorDetails(h))}else if(!(this.privRequestSession.isSpeechEnded&&p===t.ResultReason.NoMatch&&d.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])s=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,p,d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,d.SpeakerId,void 0,i.textBody,o);else{const h=e.DetailedSpeechPhrase.fromJSON(i.textBody),v=h.Offset+this.privRequestSession.currentTurnAudioOffset,y=h.getJsonWithCorrectedOffsets(v);s=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,p,h.RecognitionStatus===e.RecognitionStatus.Success?h.NBest[0].Display:void 0,h.Duration,v,h.Language,h.LanguageDetectionConfidence,d.SpeakerId,void 0,y,o)}const m=new t.ConversationTranscriptionEventArgs(s,s.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,m)}catch{}}a=!0;break}return a}cancelRecognition(i,s,o,a,c){if(new t.PropertyCollection().setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[a]),this.privConversationTranscriber.canceled){const u=new t.ConversationTranscriptionCanceledEventArgs(o,c,a,void 0,i);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,u)}catch{}}}};return Ta.ConversationTranscriptionServiceRecognizer=r,Ta}var Ia={},cP;function XU(){if(cP)return Ia;cP=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.TranscriptionServiceRecognizer=void 0;const t=U(),e=N(),r=j(),n=Xr;let i=class extends r.ConversationServiceRecognizer{constructor(o,a,c,l,u){super(o,a,c,l,u),this.privTranscriberRecognizer=u,this.sendPrePayloadJSONOverride=d=>this.sendTranscriptionStartJSON(d),this.privRecognizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(o,a){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createSpeechEventPayload(o,a))}}async sendMeetingSpeechEventAsync(o,a){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createMeetingSpeechEventPayload(o,a))}}processTypeSpecificMessages(o){return this.processSpeechMessages(o)}handleRecognizedCallback(o,a,c){try{const l=new e.SpeechRecognitionEventArgs(o,a,c);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,l),this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(u){this.privErrorCallback&&this.privErrorCallback(u)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(o,a,c){try{const l=new e.SpeechRecognitionEventArgs(o,a,c);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,l)}catch{}}cancelRecognition(o,a,c,l,u){const d=new e.PropertyCollection;if(d.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[l]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const p=new e.MeetingTranscriptionCanceledEventArgs(c,u,l,void 0,o);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,p)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const p=new e.ConversationTranscriptionCanceledEventArgs(c,u,l,void 0,o);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new e.SpeechRecognitionResult(a,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,u,void 0,d);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(o){if(await this.sendSpeechContext(o,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const a=this.privTranscriberRecognizer.getMeetingInfo(),c=this.createMeetingSpeechEventPayload(a,"start");await this.sendSpeechEvent(o,c)}else{const a=this.privTranscriberRecognizer.getConversationInfo(),c=this.createSpeechEventPayload(a,"start");await this.sendSpeechEvent(o,c)}await this.sendWaveHeader(o)}sendSpeechEvent(o,a){const c=JSON.stringify(a);if(c)return o.send(new n.SpeechConnectionMessage(t.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",c))}createSpeechEventPayload(o,a){const c={id:"meeting",name:a,meeting:o.conversationProperties};return c.meeting.id=o.id,c.meeting.attendees=o.participants,c}createMeetingSpeechEventPayload(o,a){const c={id:"meeting",name:a,meeting:o.meetingProperties};return c.meeting.id=o.id,c.meeting.attendees=o.participants,c}};return Ia.TranscriptionServiceRecognizer=i,Ia}var _a={},lP;function YU(){if(lP)return _a;lP=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.DetailedSpeechPhrase=void 0;const t=j();let e=class XT{constructor(n){this.privDetailedSpeechPhrase=JSON.parse(n),this.privDetailedSpeechPhrase.RecognitionStatus=t.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new XT(n)}getJsonWithCorrectedOffsets(n){if(this.privDetailedSpeechPhrase.NBest){let i;for(const s of this.privDetailedSpeechPhrase.NBest)if(s.Words&&s.Words[0]){i=s.Words[0].Offset;break}if(i&&i<n){const s=n-i;for(const o of this.privDetailedSpeechPhrase.NBest){if(o.Words)for(const a of o.Words)a.Offset+=s;if(o.DisplayWords)for(const a of o.DisplayWords)a.Offset+=s}}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}};return _a.DetailedSpeechPhrase=e,_a}var Aa={},uP;function ZU(){if(uP)return Aa;uP=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.SimpleSpeechPhrase=void 0;const t=j();let e=class YT{constructor(n){this.privSimpleSpeechPhrase=JSON.parse(n),this.privSimpleSpeechPhrase.RecognitionStatus=t.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new YT(n)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}};return Aa.SimpleSpeechPhrase=e,Aa}var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.AddedLmIntent=void 0;class eF{constructor(e,r){this.modelImpl=e,this.intentName=r}}cp.AddedLmIntent=eF;var za={},dP;function tF(){if(dP)return za;dP=1,Object.defineProperty(za,"__esModule",{value:!0}),za.IntentServiceRecognizer=void 0;const t=U(),e=N(),r=j();let n=class extends r.ServiceRecognizerBase{constructor(s,o,a,c,l){super(s,o,a,c,l),this.privIntentRecognizer=l,this.privIntentDataSent=!1}setIntents(s,o){this.privAddedLmIntents=s,this.privUmbrellaIntent=o,this.privIntentDataSent=!0}processTypeSpecificMessages(s){let o,a,c=!1;const l=new e.PropertyCollection;switch(s.messageType===t.MessageType.Text&&l.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"speech.hypothesis":const d=r.SpeechHypothesis.fromJSON(s.textBody);if(o=new e.IntentRecognitionResult(void 0,this.privRequestSession.requestId,e.ResultReason.RecognizingIntent,d.Text,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,s.textBody,l),this.privRequestSession.onHypothesis(o.offset),a=new e.IntentRecognitionEventArgs(o,d.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,a)}catch{}c=!0;break;case"speech.phrase":const p=r.SimpleSpeechPhrase.fromJSON(s.textBody);o=new e.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus),p.DisplayText,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,void 0,s.textBody,l),a=new e.IntentRecognitionEventArgs(o,o.offset,this.privRequestSession.sessionId);const m=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||e.ResultReason.NoMatch===a.result.reason?(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),m()):this.privPendingIntentArgs=a,c=!0;break;case"response":if(a=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,a===void 0){if(s.textBody==="")return;a=new e.IntentRecognitionEventArgs(new e.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const h=r.IntentResponse.fromJSON(s.textBody);if(h!==null&&h.topScoringIntent&&h.topScoringIntent.intent){let v=this.privAddedLmIntents[h.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(v=this.privUmbrellaIntent),v){const y=v===void 0||v.intentName===void 0?h.topScoringIntent.intent:v.intentName;let f=a.result.reason;y!==void 0&&(f=e.ResultReason.RecognizedIntent);const g=a.result.properties!==void 0?a.result.properties:new e.PropertyCollection;g.setProperty(e.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,s.textBody),a=new e.IntentRecognitionEventArgs(new e.IntentRecognitionResult(y,a.result.resultId,f,a.result.text,a.result.duration,a.result.offset,void 0,void 0,a.result.errorDetails,a.result.json,g),a.offset,a.sessionId)}}if(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}c=!0;break}const u=new t.Deferred;return u.resolve(c),u.promise}cancelRecognition(s,o,a,c,l){const u=new e.PropertyCollection;if(u.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]),this.privIntentRecognizer.canceled){const d=new e.IntentRecognitionCanceledEventArgs(a,l,c,void 0,void 0,s);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,d)}catch{}}if(this.privSuccessCallback){const d=new e.IntentRecognitionResult(void 0,o,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,l,void 0,u);try{this.privSuccessCallback(d),this.privSuccessCallback=void 0}catch{}}}};return za.IntentServiceRecognizer=n,za}var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.IntentResponse=void 0;class Yv{constructor(e){e===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(e)}static fromJSON(e){return new Yv(e)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}}lp.IntentResponse=Yv;var ZT={};Object.defineProperty(ZT,"__esModule",{value:!0});var up={},dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.ServiceTelemetryListener=void 0;const _r=U(),pP=rp;class rF{constructor(e,r,n){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=r,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){this.privIsDisposed||(e instanceof pP.RecognitionTriggeredEvent&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof _r.AudioStreamNodeAttachingEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof _r.AudioStreamNodeAttachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof _r.AudioSourceErrorEvent&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof _r.AudioStreamNodeErrorEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof _r.AudioStreamNodeDetachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof pP.ConnectingToServiceEvent&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof _r.ConnectionStartEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof _r.ConnectionEstablishedEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof _r.ConnectionEstablishErrorEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof _r.ConnectionMessageReceivedEvent&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array),this.privReceivedMessages[e.message.headers.path].length<50&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const r={Metrics:e,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(r);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}dp.ServiceTelemetryListener=rF;Object.defineProperty(up,"__esModule",{value:!0});up.RequestSession=void 0;const Li=U(),Ol=rp,nF=dp;class iF{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=Li.createNoDashGuid(),this.privAudioNodeId=Li.createNoDashGuid(),this.privTurnDeferral=new Li.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new nF.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new Ol.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(e,r){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,r?await this.onComplete():this.onEvent(new Ol.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(e,r){this.privAuthFetchEventId=e,this.privSessionId=r,this.onEvent(new Ol.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(e){e&&await this.onComplete()}async onConnectionEstablishCompleted(e,r){if(e===200){this.onEvent(new Ol.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else e===403&&await this.onComplete()}async onServiceTurnEndResponse(e){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=Li.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new Li.Deferred}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e,this.privRecognitionBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),Li.Events.instance.onEvent(e)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}}up.RequestSession=iF;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.SpeechContext=void 0;class sF{constructor(e){this.privContext={},this.privDynamicGrammar=e}getSection(e){return this.privContext[e]||{}}setSection(e,r){this.privContext[e]=r}setPronunciationAssessmentParams(e,r,n=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),n&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR"),r&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:r},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(e){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=e}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",e),JSON.stringify(this.privContext)}}pp.SpeechContext=sF;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.DynamicGrammarBuilder=void 0;class oF{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const e={};if(e.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const r=[];this.privPhrases.forEach(n=>{r.push({Text:n})}),e.Groups=[{Type:"Generic",Items:r}]}return e}}mp.DynamicGrammarBuilder=oF;var eI={};Object.defineProperty(eI,"__esModule",{value:!0});var Oa={},hp={},fp={},Zv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;class e{constructor(n){this.privActivityResponse=JSON.parse(n)}static fromJSON(n){return new e(n)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}t.ActivityPayloadResponse=e,function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"}(t.MessageDataStreamType||(t.MessageDataStreamType={}))})(Zv);Object.defineProperty(fp,"__esModule",{value:!0});fp.DialogServiceTurnState=void 0;const aF=Bn,cF=Xe,lF=Zv;class uF{constructor(e,r){this.privRequestId=r,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=e,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(e,r){return e.messageDataStreamType===lF.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=cF.AudioOutputStream.createPullStream(),this.privAudioStream.format=r!==void 0?r:aF.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}}fp.DialogServiceTurnState=uF;Object.defineProperty(hp,"__esModule",{value:!0});hp.DialogServiceTurnStateManager=void 0;const mP=Ze,dF=fp;class pF{constructor(){this.privTurnMap=new Map}StartTurn(e){if(this.privTurnMap.has(e))throw new mP.InvalidOperationError("Service error: There is already a turn with id:"+e);const r=new dF.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,r),this.privTurnMap.get(e)}GetTurn(e){return this.privTurnMap.get(e)}CompleteTurn(e){if(!this.privTurnMap.has(e))throw new mP.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);const r=this.privTurnMap.get(e);return r.complete(),this.privTurnMap.delete(e),r}}hp.DialogServiceTurnStateManager=pF;var hP;function mF(){if(hP)return Oa;hP=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.DialogServiceAdapter=void 0;const t=Ve(),e=Pi,r=U(),n=Bn,i=N(),s=hp,o=j(),a=Zv,c=Xr;let l=class extends o.ServiceRecognizerBase{constructor(d,p,m,h,v){super(d,p,m,h,v),this.privEvents=new r.EventSource,this.privDialogServiceConnector=v,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new s.DialogServiceTurnStateManager,this.recognizeOverride=(y,f,g)=>this.listenOnce(y,f,g),this.postConnectImplOverride=y=>this.dialogConnectImpl(y),this.configConnectionOverride=y=>this.configConnection(y),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=m,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(y=>{y.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(d){const p=r.createGuid(),m=r.createNoDashGuid(),h={context:{interactionId:p},messagePayload:JSON.parse(d),version:.5},v=JSON.stringify(h);await(await this.fetchConnection()).send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent",m,"application/json",v))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(d){const p=new i.PropertyCollection;d.messageType===r.MessageType.Text&&p.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,d.textBody);let m,h;switch(d.path.toLowerCase()){case"speech.phrase":const y=o.SimpleSpeechPhrase.fromJSON(d.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+y.Offset+y.Duration),y.RecognitionStatus!==o.RecognitionStatus.TooManyRequests&&y.RecognitionStatus!==o.RecognitionStatus.Error){const R=this.fireEventForResult(y,p);if(this.privLastResult=R.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,R)}catch{}}h=!0;break;case"speech.hypothesis":const f=o.SpeechHypothesis.fromJSON(d.textBody),g=f.Offset+this.privRequestSession.currentTurnAudioOffset;m=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,f.Text,f.Duration,g,f.Language,f.LanguageDetectionConfidence,void 0,void 0,d.textBody,p),this.privRequestSession.onHypothesis(g);const C=new i.SpeechRecognitionEventArgs(m,f.Duration,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,C)}catch{}h=!0;break;case"speech.keyword":const S=o.SpeechKeyword.fromJSON(d.textBody);m=new i.SpeechRecognitionResult(this.privRequestSession.requestId,S.Status==="Accepted"?i.ResultReason.RecognizedKeyword:i.ResultReason.NoMatch,S.Text,S.Duration,S.Offset,void 0,void 0,void 0,void 0,d.textBody,p),S.Status!=="Accepted"&&(this.privLastResult=m);const P=new i.SpeechRecognitionEventArgs(m,m.duration,m.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,P)}catch{}h=!0;break;case"audio":{const R=d.requestId.toUpperCase(),b=this.privTurnStateManager.GetTurn(R);try{d.binaryBody?b.audioStream.write(d.binaryBody):b.endAudioStream()}catch{}}h=!0;break;case"response":this.handleResponseMessage(d),h=!0;break}const v=new r.Deferred;return v.resolve(h),v.promise}async cancelRecognition(d,p,m,h,v){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const y=new i.PropertyCollection;y.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[h]);const f=new i.SpeechRecognitionCanceledEventArgs(m,v,h,void 0,d);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,f)}catch{}if(this.privSuccessCallback){const g=new i.SpeechRecognitionResult(void 0,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,v,void 0,y);try{this.privSuccessCallback(g),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(d,p,m){this.privRecognizerConfig.recognitionMode=d,this.privSuccessCallback=p,this.privErrorCallback=m,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(i.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const h=this.connectImpl(),v=this.sendPreAudioMessages(),y=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),f=await this.privDialogAudioSource.format,g=await this.privDialogAudioSource.deviceInfo,C=new t.ReplayableAudioNode(y,f.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(C,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:g};try{await h,await v}catch(R){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.ConnectionFailure,R),Promise.resolve()}const S=new i.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,S),this.sendAudio(C).then(()=>{},async R=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,R)})}dialogConnectImpl(d){return this.privConnectionLoop=this.startMessageLoop(),d}receiveDialogMessageOverride(){const d=new r.Deferred,p=async()=>{try{const m=this.isDisposed(),h=!this.isDisposed()&&this.terminateMessageLoop;if(m||h){d.resolve(void 0);return}const y=await(await this.fetchConnection()).read();if(!y)return p();const f=c.SpeechConnectionMessage.fromConnectionMessage(y);switch(f.path.toLowerCase()){case"turn.start":{const x=f.requestId.toUpperCase(),X=this.privRequestSession.requestId.toUpperCase();x!==X?this.privTurnStateManager.StartTurn(x):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const C=o.SpeechDetected.fromJSON(f.textBody),S=new i.RecognitionEventArgs(C.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,S);break;case"speech.enddetected":let P;f.textBody.length>0?P=f.textBody:P="{ Offset: 0 }";const R=o.SpeechDetected.fromJSON(P);this.privRequestSession.onServiceRecognized(R.Offset+this.privRequestSession.currentTurnAudioOffset);const b=new i.RecognitionEventArgs(R.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,b);break;case"turn.end":{const x=f.requestId.toUpperCase(),X=this.privRequestSession.requestId.toUpperCase();if(x!==X)this.privTurnStateManager.CompleteTurn(x);else{const K=new i.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,K),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(it){this.privErrorCallback&&this.privErrorCallback(it)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(f)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(f.path.toLowerCase(),f.textBody))}catch{}}return p()}catch{this.terminateMessageLoop=!0,d.resolve()}};return p().catch(m=>{r.Events.instance.onEvent(new r.BackgroundEvent(m))}),d.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(d){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,d)}return Promise.resolve()}async configConnection(d){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(d,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(d),d)}async sendPreAudioMessages(){const d=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(d,!0),await this.sendAgentContext(d),await this.sendWaveHeader(d)}sendAgentConfig(d){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(i.PropertyId.Conversation_DialogType)===i.DialogServiceConfig.DialogTypes.CustomCommands){const m=this.agentConfig.get();m.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(m)}this.onEvent(new e.SendingAgentContextMessageEvent(this.agentConfig));const p=this.agentConfig.toJsonString();return this.agentConfigSent=!0,d.send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",p))}}sendAgentContext(d){const p=r.createGuid(),m=this.privDialogServiceConnector.properties.getProperty(i.PropertyId.Conversation_Speech_Activity_Template),v=JSON.stringify({channelData:"",context:{interactionId:p},messagePayload:typeof m===void 0?void 0:m,version:.5});return d.send(new c.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",v))}fireEventForResult(d,p){const m=o.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus),h=d.Offset+this.privRequestSession.currentTurnAudioOffset,v=new i.SpeechRecognitionResult(this.privRequestSession.requestId,m,d.DisplayText,d.Duration,h,d.Language,d.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(d),p);return new i.SpeechRecognitionEventArgs(v,h,this.privRequestSession.sessionId)}handleResponseMessage(d){const p=JSON.parse(d.textBody);switch(p.messageType.toLowerCase()){case"message":const m=d.requestId.toUpperCase(),h=a.ActivityPayloadResponse.fromJSON(d.textBody),v=this.privTurnStateManager.GetTurn(m);if(h.conversationId){const g=this.agentConfig.get();g.botInfo.conversationId=h.conversationId,this.agentConfig.set(g)}const y=v.processActivityPayload(h,n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),f=new i.ActivityReceivedEventArgs(h.messagePayload,y);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,f)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new i.TurnStatusReceivedEventArgs(d.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${p.messageType}. Ignoring.`));break}}onEvent(d){this.privEvents.onEvent(d),r.Events.instance.onEvent(d)}addKeywordContextData(){const d=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(d===void 0)return;const p=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),m=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),h=d.split(";"),v=p===void 0?[]:p.split(";"),y=m===void 0?[]:m.split(";"),f=[];for(let g=0;g<h.length;g++){const C={};C.text=h[g],g<v.length&&(C.offset=Number(v[g])),g<y.length&&(C.duration=Number(y[g])),f.push(C)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:f,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}};return Oa.DialogServiceAdapter=l,Oa}var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.AgentConfig=void 0;class hF{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}vp.AgentConfig=hF;var _m={},Ma={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ConversationConnectionConfig=void 0;const fF=ol;class mt extends fF.RestConfigBase{static get host(){return mt.privHost}static get apiVersion(){return mt.privApiVersion}static get clientAppId(){return mt.privClientAppId}static get defaultLanguageCode(){return mt.privDefaultLanguageCode}static get restPath(){return mt.privRestPath}static get webSocketPath(){return mt.privWebSocketPath}static get transcriptionEventKeys(){return mt.privTranscriptionEventKeys}}Ks.ConversationConnectionConfig=mt;mt.privHost="dev.microsofttranslator.com";mt.privRestPath="/capito/room";mt.privApiVersion="2.0";mt.privDefaultLanguageCode="en-US";mt.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15";mt.privWebSocketPath="/capito/translate";mt.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"];var fP;function vF(){if(fP)return Ma;fP=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ConversationManager=void 0;const t=Ve(),e=F,r=N(),n=Ks;let i=class{constructor(){this.privRequestParams=n.ConversationConnectionConfig.configParams,this.privErrors=n.ConversationConnectionConfig.restErrors,this.privHost=n.ConversationConnectionConfig.host,this.privApiVersion=n.ConversationConnectionConfig.apiVersion,this.privRestPath=n.ConversationConnectionConfig.restPath,this.privRestAdapter=new t.RestMessageAdapter({})}createOrJoin(o,a,c,l){try{e.Contracts.throwIfNullOrUndefined(o,"args");const u=o.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,n.ConversationConnectionConfig.defaultLanguageCode),d=o.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),p=o.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),m=o.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),h=o.getProperty(r.PropertyId.SpeechServiceConnection_Key),v=o.getProperty(r.PropertyId.SpeechServiceConnection_Region),y=o.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);e.Contracts.throwIfNullOrWhitespace(u,"languageCode"),e.Contracts.throwIfNullOrWhitespace(d,"nickname"),e.Contracts.throwIfNullOrWhitespace(p,"endpointHost");const f={};f[this.privRequestParams.apiVersion]=this.privApiVersion,f[this.privRequestParams.languageCode]=u,f[this.privRequestParams.nickname]=d;const g={};m&&(g[this.privRequestParams.correlationId]=m),g[this.privRequestParams.clientAppId]=n.ConversationConnectionConfig.clientAppId,a!==void 0?f[this.privRequestParams.roomId]=a:(e.Contracts.throwIfNullOrUndefined(v,this.privErrors.authInvalidSubscriptionRegion),g[this.privRequestParams.subscriptionRegion]=v,h?g[this.privRequestParams.subscriptionKey]=h:y?g[this.privRequestParams.authorization]=`Bearer ${y}`:e.Contracts.throwIfNullOrUndefined(h,this.privErrors.authInvalidSubscriptionKey));const C={};C.headers=g,this.privRestAdapter.options=C;const S=`https://${p}${this.privRestPath}`;this.privRestAdapter.request(t.RestRequestType.Post,S,f,null).then(P=>{const R=t.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,P.headers);if(!P.ok){if(l){let x=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",P.status.toString()),X;try{X=JSON.parse(P.data),x+=` [${X.error.code}: ${X.error.message}]`}catch{x+=` [${P.data}]`}R&&(x+=` ${R}`),l(x)}return}const b=JSON.parse(P.data);if(b&&(b.requestId=R),c){try{c(b)}catch(x){l&&l(x)}c=void 0}}).catch(()=>{})}catch(u){if(l)if(u instanceof Error){const d=u;l(d.name+": "+d.message)}else l(u)}}leave(o,a){return new Promise((c,l)=>{try{e.Contracts.throwIfNullOrUndefined(o,this.privErrors.invalidArgs.replace("{arg}","config")),e.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","token"));const u=o.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),d=o.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),p={};p[this.privRequestParams.apiVersion]=this.privApiVersion,p[this.privRequestParams.sessionToken]=a;const m={};d&&(m[this.privRequestParams.correlationId]=d);const h={};h.headers=m,this.privRestAdapter.options=h;const v=`https://${u}${this.privRestPath}`;this.privRestAdapter.request(t.RestRequestType.Delete,v,p,null).then(y=>{y.ok,c()}).catch(()=>{})}catch(u){if(u instanceof Error){const d=u;l(d.name+": "+d.message)}else l(u)}})}};return Ma.ConversationManager=i,Ma}var Yn={},ka={},gp={},al={};Object.defineProperty(al,"__esModule",{value:!0});al.ConversationConnectionMessage=void 0;const gF=U();class yF extends gF.ConnectionMessage{constructor(e,r,n,i){super(e,r,n,i);const s=JSON.parse(this.textBody);s.type!==void 0&&(this.privConversationMessageType=s.type)}get conversationMessageType(){return this.privConversationMessageType}}al.ConversationConnectionMessage=yF;Object.defineProperty(gp,"__esModule",{value:!0});gp.ConversationWebsocketMessageFormatter=void 0;const Zn=U(),vP=al;class CF{toConnectionMessage(e){const r=new Zn.Deferred;try{if(e.messageType===Zn.MessageType.Text){const n=new vP.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);r.resolve(n)}else e.messageType===Zn.MessageType.Binary&&r.resolve(new vP.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(e){const r=new Zn.Deferred;try{if(e.messageType===Zn.MessageType.Text){const n=`${e.textBody?e.textBody:""}`;r.resolve(new Zn.RawWebsocketMessage(Zn.MessageType.Text,n,e.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}}gp.ConversationWebsocketMessageFormatter=CF;var gP;function SF(){if(gP)return ka;gP=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.ConversationConnectionFactory=void 0;const t=Ve(),e=U(),r=F,n=N(),i=ur(),s=Ks,o=gp;let a=class extends i.ConnectionFactoryBase{create(l,u,d){const p=l.parameters.getProperty(n.PropertyId.ConversationTranslator_Host,s.ConversationConnectionConfig.host),m=l.parameters.getProperty(n.PropertyId.ConversationTranslator_CorrelationId,e.createGuid()),h=`wss://${p}${s.ConversationConnectionConfig.webSocketPath}`,v=l.parameters.getProperty(n.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(v,"token");const y={};y[s.ConversationConnectionConfig.configParams.apiVersion]=s.ConversationConnectionConfig.apiVersion,y[s.ConversationConnectionConfig.configParams.token]=v,y[s.ConversationConnectionConfig.configParams.correlationId]=m;const f=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(h,y,{},new o.ConversationWebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),f,d)}};return ka.ConversationConnectionFactory=a,ka}var Da={},yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.ConversationRequestSession=void 0;const Am=U();class PF{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=e,this.privRequestId=Am.createNoDashGuid(),this.privRequestCompletionDeferral=new Am.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(e,r){this.privSessionId=r}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){e!==200&&e===403&&this.onComplete()}onServiceTurnEndResponse(e){e?this.privRequestId=Am.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach()}}onComplete(){}}yp.ConversationRequestSession=PF;var gt={},yP;function tI(){if(yP)return gt;yP=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.ConversationReceivedTranslationEventArgs=gt.ParticipantsListEventArgs=gt.ParticipantAttributeEventArgs=gt.ParticipantEventArgs=gt.LockRoomEventArgs=gt.MuteAllEventArgs=void 0;const t=N();class e extends t.SessionEventArgs{constructor(c,l){super(l),this.privIsMuted=c}get isMuted(){return this.privIsMuted}}gt.MuteAllEventArgs=e;class r extends t.SessionEventArgs{constructor(c,l){super(l),this.privIsLocked=c}get isMuted(){return this.privIsLocked}}gt.LockRoomEventArgs=r;class n extends t.SessionEventArgs{constructor(c,l){super(l),this.privParticipant=c}get participant(){return this.privParticipant}}gt.ParticipantEventArgs=n;class i extends t.SessionEventArgs{constructor(c,l,u,d){super(d),this.privKey=l,this.privValue=u,this.privParticipantId=c}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}gt.ParticipantAttributeEventArgs=i;class s extends t.SessionEventArgs{constructor(c,l,u,d,p,m,h,v,y){super(y),this.privRoomId=c,this.privSessionToken=l,this.privTranslateTo=u,this.privProfanityFilter=d,this.privRoomProfanityFilter=p,this.privIsRoomLocked=m,this.privIsRoomLocked=h,this.privParticipants=v}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}gt.ParticipantsListEventArgs=s;class o{constructor(c,l,u){this.privPayload=l,this.privCommand=c,this.privSessionId=u}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return gt.ConversationReceivedTranslationEventArgs=o,gt}var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.ConversationTranslatorCommandTypes=qr.ConversationTranslatorMessageTypes=qr.InternalParticipants=void 0;class RF{constructor(e=[],r){this.participants=e,this.meId=r}addOrUpdateParticipant(e){if(e===void 0)return;const r=this.getParticipantIndex(e.id);return r>-1?this.participants.splice(r,1,e):this.participants.push(e),this.getParticipant(e.id)}getParticipantIndex(e){return this.participants.findIndex(r=>r.id===e)}getParticipant(e){return this.participants.find(r=>r.id===e)}deleteParticipant(e){this.participants=this.participants.filter(r=>r.id!==e)}get host(){return this.participants.find(e=>e.isHost===!0)}get me(){return this.getParticipant(this.meId)}}qr.InternalParticipants=RF;qr.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"};qr.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"};var rI={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.CommandResponsePayload=void 0;const xF=t=>JSON.parse(t);class eg{constructor(e){this.privCommandResponse=xF(e)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(e){return new eg(e)}}Cp.CommandResponsePayload=eg;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.ParticipantPayloadResponse=Ss.ParticipantsListPayloadResponse=void 0;const NF=t=>JSON.parse(t),EF=t=>JSON.parse(t);class tg{constructor(e){this.privParticipantsPayloadResponse=NF(e)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(e){return new tg(e)}}Ss.ParticipantsListPayloadResponse=tg;class rg{constructor(e){this.privParticipantPayloadResponse=EF(e)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(e){return new rg(e)}}Ss.ParticipantPayloadResponse=rg;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.TextResponsePayload=Ps.SpeechResponsePayload=void 0;const wF=t=>JSON.parse(t),bF=t=>JSON.parse(t);class ng{constructor(e){this.privSpeechResponse=wF(e)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(e){return new ng(e)}}Ps.SpeechResponsePayload=ng;class ig{constructor(e){this.privTextResponse=bF(e)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(e){return new ig(e)}}Ps.TextResponsePayload=ig;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Cp;Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return e.CommandResponsePayload}});var r=Ss;Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var n=Ps;Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return n.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return n.TextResponsePayload}})})(rI);var CP;function TF(){if(CP)return Da;CP=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.ConversationServiceAdapter=void 0;const t=U(),e=N(),r=j(),n=al,i=yp,s=tI(),o=qr,a=rI;let c=class extends r.ServiceRecognizerBase{constructor(u,d,p,m,h){super(u,d,p,m,h),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=h,this.privConversationAuthentication=u,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=v=>this.conversationConnectImpl(v),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new i.ConversationRequestSession(t.createNoDashGuid()),this.privConversationConnectionFactory=d,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(u){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(u),await super.dispose(u)}async sendMessage(u){return(await this.fetchConnection()).send(new n.ConversationConnectionMessage(t.MessageType.Text,u))}async sendMessageAsync(u){await(await this.fetchConnection()).send(new n.ConversationConnectionMessage(t.MessageType.Text,u))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,e.CancellationReason.Error,e.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(u,d,p,m,h){this.terminateMessageLoop=!0;const v=new e.ConversationTranslationCanceledEventArgs(p,h,m,void 0,u);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,v)}catch{}}async conversationConnectImpl(u){return this.privConnectionLoop=this.startMessageLoop(),u}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const u=new t.Deferred;try{const p=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return u.resolve(),Promise.resolve();if(!p)return this.receiveConversationMessageOverride();const m=this.privConversationRequestSession.sessionId,h=p.conversationMessageType.toLowerCase();let v=!1;try{switch(h){case"info":case"participant_command":case"command":const y=a.CommandResponsePayload.fromJSON(p.textBody);switch(y.command.toLowerCase()){case"participantlist":const R=a.ParticipantsListPayloadResponse.fromJSON(p.textBody),b=R.participants.map(Me=>({avatar:Me.avatar,displayName:Me.nickname,id:Me.participantId,isHost:Me.ishost,isMuted:Me.ismuted,isUsingTts:Me.usetts,preferredLanguage:Me.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new s.ParticipantsListEventArgs(R.roomid,R.token,R.translateTo,R.profanityFilter,R.roomProfanityFilter,R.roomLocked,R.muteAll,b,m));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(y.participantId,o.ConversationTranslatorCommandTypes.setTranslateToLanguages,y.value,m));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(y.participantId,o.ConversationTranslatorCommandTypes.setProfanityFiltering,y.value,m));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(y.participantId,o.ConversationTranslatorCommandTypes.setMute,y.value,m));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new s.MuteAllEventArgs(y.value,m));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new e.ConversationExpirationEventArgs(y.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(y.participantId,o.ConversationTranslatorCommandTypes.setUseTTS,y.value,m));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new s.LockRoomEventArgs(y.value,m));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new s.ParticipantAttributeEventArgs(y.participantId,o.ConversationTranslatorCommandTypes.changeNickname,y.value,m));break;case"joinsession":const x=a.ParticipantPayloadResponse.fromJSON(p.textBody),X={avatar:x.avatar,displayName:x.nickname,id:x.participantId,isHost:x.ishost,isMuted:x.ismuted,isUsingTts:x.usetts,preferredLanguage:x.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new s.ParticipantEventArgs(X,m));break;case"leavesession":const K={id:y.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new s.ParticipantEventArgs(K,m));break;case"disconnectsession":const it={id:y.participantId};break;case"token":const dr=new r.CognitiveTokenAuthentication(()=>{const Me=y.token;return Promise.resolve(Me)},()=>{const Me=y.token;return Promise.resolve(Me)});this.authentication=dr,this.privConversationServiceConnector.onToken(dr);break;default:break}break;case"partial":case"final":const f=a.SpeechResponsePayload.fromJSON(p.textBody),g=h==="final"?e.ResultReason.TranslatedParticipantSpeech:e.ResultReason.TranslatingParticipantSpeech,C=new e.ConversationTranslationResult(f.participantId,this.getTranslations(f.translations),f.language,f.id,g,f.recognition,void 0,void 0,p.textBody,void 0);f.isFinal?((C.text!==void 0&&C.text.length>0||f.id===this.privLastPartialUtteranceId)&&(v=!0),v&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.final,C,m))):C.text!==void 0&&(this.privLastPartialUtteranceId=f.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.partial,C,m)));break;case"translated_message":const S=a.TextResponsePayload.fromJSON(p.textBody),P=new e.ConversationTranslationResult(S.participantId,this.getTranslations(S.translations),S.language,void 0,void 0,S.originalText,void 0,void 0,void 0,p.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new s.ConversationReceivedTranslationEventArgs(o.ConversationTranslatorMessageTypes.instantMessage,P,m));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return u.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const u=this.receiveConversationMessageOverride();try{return await u}catch(d){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",e.CancellationReason.Error,e.CancellationErrorCode.RuntimeError,d),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(u=>u.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(u=>u),this.privConnectionConfigPromise)}getTranslations(u){let d;if(u!==void 0){d=new e.Translations;for(const p of u)d.set(p.lang,p.translation)}return d}};return Da.ConversationServiceAdapter=c,Da}var SP;function IF(){if(SP)return Yn;SP=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.ConversationTranslatorRecognizer=Yn.ConversationRecognizerFactory=void 0;const t=j(),e=U(),r=F,n=N(),i=SF(),s=TF();class o{static fromConfig(l,u,d){return new a(l,u,d)}}Yn.ConversationRecognizerFactory=o;let a=class extends n.Recognizer{constructor(l,u,d){const p=u;r.Contracts.throwIfNull(p,"speechConfig");const m=l;r.Contracts.throwIfNull(m,"conversationImpl"),super(d,p.properties,new i.ConversationConnectionFactory),this.privConversation=m,this.privIsDisposed=!1,this.privProperties=p.properties.clone(),this.privConnection=n.Connection.fromRecognizer(this),this.privProperties.getProperty(n.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=e.Timeout.setTimeout,this.privClearTimeout=e.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(l){this.privConnection.connected=l}set disconnected(l){this.privConnection.disconnected=l}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(l,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(l,"token"),this.privReco.conversationTranslatorToken=l,this.resetConversationTimeout(),this.privReco.connectAsync(u,d)}catch(p){if(d)if(p instanceof Error){const m=p;d(m.name+": "+m.message)}else d(p)}}disconnect(l,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{l&&l()},d=>{u&&u(d)})}catch(d){if(u)if(d instanceof Error){const p=d;u(p.name+": "+p.message)}else u(d);this.dispose(!0).catch(p=>{e.Events.instance.onEvent(new e.BackgroundEvent(p))})}}sendRequest(l,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(l,u,d)}catch(p){if(d)if(p instanceof Error){const m=p;d(m.name+": "+m.message)}else d(p);this.dispose(!0).catch(m=>{e.Events.instance.onEvent(new e.BackgroundEvent(m))})}}onToken(l){this.privConversation.onToken(l)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(l){this.privIsDisposed||l&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(l))}createRecognizerConfig(l){return new t.RecognizerConfig(l,this.privProperties)}createServiceRecognizer(l,u,d,p){const m=d;return new s.ConversationServiceAdapter(l,u,m,p,this)}sendMessage(l,u,d){const p=this.privReco;((h,v,y)=>{h!==void 0?h.then(()=>{try{v&&v()}catch(f){y&&y(`'Unhandled error on promise callback: ${f}'`)}},f=>{try{y&&y(f)}catch{}}):y&&y("Null promise")})(p.sendMessageAsync(l),u,d),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return Yn.ConversationTranslatorRecognizer=a,Yn}var Ba={},PP;function _F(){if(PP)return Ba;PP=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.TranscriberRecognizer=void 0;const t=U(),e=F,r=N(),n=j();let i=class extends r.Recognizer{constructor(o,a){const c=o;e.Contracts.throwIfNull(c,"speechTranslationConfig");const l=a;e.Contracts.throwIfNull(l,"audioConfigImpl"),e.Contracts.throwIfNullOrWhitespace(c.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,c.properties,new n.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return e.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){e.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}set conversation(o){e.Contracts.throwIfNullOrUndefined(o,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=o}getConversationInfo(){return e.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(o){e.Contracts.throwIfNullOrUndefined(o,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=o}getMeetingInfo(){return e.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(o,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),o,a)}stopContinuousRecognitionAsync(o,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),o,a)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(o,a){const c=this.privReco;e.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendSpeechEventAsync(o,a)}async pushMeetingEvent(o,a){const c=this.privReco;e.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendMeetingSpeechEventAsync(o,a)}async enforceAudioGating(){const c=(await this.audioConfig.format).channels;if(c===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(c!==8)throw new Error(`Unsupported audio configuration: Detected ${c}-channel audio`)}connectMeetingCallbacks(o){this.isMeetingRecognizer=!0,this.canceled=(a,c)=>{o.canceled&&o.canceled(o,c)},this.recognizing=(a,c)=>{o.transcribing&&o.transcribing(o,c)},this.recognized=(a,c)=>{o.transcribed&&o.transcribed(o,c)},this.sessionStarted=(a,c)=>{o.sessionStarted&&o.sessionStarted(o,c)},this.sessionStopped=(a,c)=>{o.sessionStopped&&o.sessionStopped(o,c)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(o){this.privDisposedRecognizer||(o&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(o))}createRecognizerConfig(o){return new n.RecognizerConfig(o,this.properties)}createServiceRecognizer(o,a,c,l){const u=c;return new n.TranscriptionServiceRecognizer(o,a,u,l,this)}};return Ba.TranscriberRecognizer=i,Ba}var RP;function AF(){return RP||(RP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=vF();Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return e.ConversationManager}});var r=Ks;Object.defineProperty(t,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var n=IF();Object.defineProperty(t,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return n.ConversationRecognizerFactory}});var i=_F();Object.defineProperty(t,"TranscriberRecognizer",{enumerable:!0,get:function(){return i.TranscriberRecognizer}});var s=tI();Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return s.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return s.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return s.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return s.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return s.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return s.ParticipantsListEventArgs}});var o=qr;Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return o.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return o.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return o.InternalParticipants}})}(_m)),_m}var sg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=t.MetadataType=void 0,function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"}(t.MetadataType||(t.MetadataType={}));class e{constructor(n){this.privSynthesisAudioMetadata=JSON.parse(n)}static fromJSON(n){return new e(n)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}t.SynthesisAudioMetadata=e})(sg);var La={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.SynthesisStartedEvent=Cr.ConnectingToSynthesisServiceEvent=Cr.SynthesisTriggeredEvent=Cr.SpeechSynthesisEvent=void 0;const xP=U();class Sp extends xP.PlatformEvent{constructor(e,r,n=xP.EventType.Info){super(e,n),this.privRequestId=r}get requestId(){return this.privRequestId}}Cr.SpeechSynthesisEvent=Sp;class zF extends Sp{constructor(e,r,n){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=r,this.privTurnAudioDestinationId=n}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}Cr.SynthesisTriggeredEvent=zF;class OF extends Sp{constructor(e,r){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Cr.ConnectingToSynthesisServiceEvent=OF;class MF extends Sp{constructor(e,r){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Cr.SynthesisStartedEvent=MF;var NP;function kF(){if(NP)return La;NP=1,Object.defineProperty(La,"__esModule",{value:!0}),La.SynthesisTurn=void 0;const t=U(),e=Xe,r=N(),n=sg,i=Cr;let s=class Yh{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=t.createNoDashGuid(),this.privTurnDeferral=new t.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(a){this.privStreamId=a}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(a){this.privAudioOutputFormat=a}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const a=new r.PropertyCollection;return a.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),a}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const a=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(a),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(a,c,l,u){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=a,this.privRawText=c,this.privIsSSML=l,this.privAudioOutputStream=new e.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",u!==void 0&&(this.privTurnAudioDestination=u,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new i.SynthesisTriggeredEvent(this.requestId,void 0,u===void 0?void 0:u.id()))}onPreConnectionStart(a){this.privAuthFetchEventId=a,this.onEvent(new i.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(a){a&&this.onComplete()}onConnectionEstablishCompleted(a){if(a===200){this.onEvent(new i.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else a===403&&this.onComplete()}onServiceResponseMessage(a){const c=JSON.parse(a);this.streamId=c.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(a){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new t.Deferred;const c=JSON.parse(a);c.webrtc&&(this.privWebRTCSDP=c.webrtc.connectionString)}onAudioChunkReceived(a){this.isSynthesizing&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(a))}onTextBoundaryEvent(a){this.updateTextOffset(a.Data.text.Text,a.Type)}onVisemeMetadataReceived(a){a.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=a.Data.AnimationChunk)}onSessionEnd(a){this.privAudioDuration=a.Data.Offset}async constructSynthesisResult(){const a=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,a,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const a=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",a}onEvent(a){t.Events.instance.onEvent(a)}static isXmlTag(a){return a.length>=2&&a[0]==="<"&&a[a.length-1]===">"}updateTextOffset(a,c){c===n.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(a,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!Yh.isXmlTag(a)&&this.updateTextOffset(a,c))):(this.privSentenceOffset=this.privRawText.indexOf(a,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!Yh.isXmlTag(a)&&this.updateTextOffset(a,c)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(a){return this.privRawText.indexOf("<",a+1)>this.privRawText.indexOf(">",a+1)}};return La.SynthesisTurn=s,La}var ja={},EP;function DF(){if(EP)return ja;EP=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.SynthesisAdapterBase=void 0;const t=U(),e=N(),r=j(),n=Xr;let i=class{constructor(o,a,c,l){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!o)throw new t.ArgumentNullError("authentication");if(!a)throw new t.ArgumentNullError("connectionFactory");if(!c)throw new t.ArgumentNullError("synthesizerConfig");this.privAuthentication=o,this.privConnectionFactory=a,this.privSynthesizerConfig=c,this.privIsDisposed=!1,this.privSessionAudioDestination=l,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(u=>{if(u.name==="ConnectionClosedEvent"){const d=u;d.statusCode!==1e3&&this.cancelSynthesisLocal(e.CancellationReason.Error,d.statusCode===1007?e.CancellationErrorCode.BadRequestParameters:e.CancellationErrorCode.ConnectionFailure,`${d.reason} websocket error code: ${d.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(o){this.privActivityTemplate=o}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(o){this.privAudioOutputFormat=o,this.privSynthesisTurn.audioOutputFormat=o,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=o),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=o)}isDisposed(){return this.privIsDisposed}async dispose(o){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(o)}async connect(){await this.connectImpl()}async sendNetworkMessage(o,a){const c=typeof a=="string"?t.MessageType.Text:t.MessageType.Binary,l=typeof a=="string"?"application/json":"";return(await this.fetchConnection()).send(new n.SpeechConnectionMessage(c,o,this.privSynthesisTurn.requestId,l,a))}async Speak(o,a,c,l,u,d){let p;if(a?p=o:p=this.privSynthesizer.buildSsml(o),this.speakOverride!==void 0)return this.speakOverride(p,c,l,u);this.privSuccessCallback=l,this.privErrorCallback=u,this.privSynthesisTurn.startNewSynthesis(c,o,a,d);try{await this.connectImpl();const m=await this.fetchConnection();await this.sendSynthesisContext(m),await this.sendSsmlMessage(m,p,c),this.onSynthesisStarted(c),this.receiveMessage()}catch(m){return this.cancelSynthesisLocal(e.CancellationReason.Error,e.CancellationErrorCode.ConnectionFailure,m),Promise.reject(m)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new n.SpeechConnectionMessage(t.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(o,a,c,l){const u=new e.PropertyCollection;u.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]);const d=new e.SpeechSynthesisResult(o,e.ResultReason.Canceled,void 0,l,u);if(this.onSynthesisCancelled(d),this.privSuccessCallback)try{this.privSuccessCallback(d)}catch{}}cancelSynthesisLocal(o,a,c){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,o,a,c))}processTypeSpecificMessages(o){return!0}async receiveMessage(){try{const a=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!a)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const c=n.SpeechConnectionMessage.fromConnectionMessage(a);if(c.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(c.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(c.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(c.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===c.streamId.toLowerCase()&&c.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(c.binaryBody),this.onSynthesizing(c.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(c.binaryBody));break;case"audio.metadata":const l=r.SynthesisAudioMetadata.fromJSON(c.textBody).Metadata;for(const d of l)switch(d.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(d);const p=new e.SpeechSynthesisWordBoundaryEventArgs(d.Data.Offset,d.Data.Duration,d.Data.text.Text,d.Data.text.Length,d.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,d.Data.text.BoundaryType);this.onWordBoundary(p);break;case r.MetadataType.Bookmark:const m=new e.SpeechSynthesisBookmarkEventArgs(d.Data.Offset,d.Data.Bookmark);this.onBookmarkReached(m);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(d),d.Data.IsLastAnimation){const h=new e.SpeechSynthesisVisemeEventArgs(d.Data.Offset,d.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(h)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(d);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(d);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let u;try{u=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(u)}catch(d){this.privErrorCallback&&this.privErrorCallback(d)}this.onSynthesisCompleted(u);break;default:this.processTypeSpecificMessages(c)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(c.path.toLowerCase(),c.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(o){this.setSynthesisContextSynthesisSection();const a=this.synthesisContext.toJSON();if(a)return o.send(new n.SpeechConnectionMessage(t.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",a))}setSpeechConfigSynthesisSection(){}connectImpl(o=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(c=>c.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=t.createNoDashGuid(),this.privConnectionId=t.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const a=o?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=a.then(async c=>{this.privSynthesisTurn.onAuthCompleted(!1);const l=this.privConnectionFactory.create(this.privSynthesizerConfig,c,this.privConnectionId);l.events.attach(d=>{this.connectionEvents.onEvent(d)});const u=await l.open();return u.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(u.statusCode),Promise.resolve(l)):u.statusCode===403&&!o?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(u.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${u.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Url)} Reason: ${u.reason}`))},c=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(c)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(o,a){if(a)return o.send(new n.SpeechConnectionMessage(t.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",a))}sendSsmlMessage(o,a,c){return o.send(new n.SpeechConnectionMessage(t.MessageType.Text,"ssml",c,"application/ssml+xml",a))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(o=>o.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const o=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(o):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(o,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),o)}onAvatarEvent(o){}onSynthesisStarted(o){}onSynthesizing(o){}onSynthesisCancelled(o){}onSynthesisCompleted(o){}onWordBoundary(o){}onVisemeReceived(o){}onBookmarkReached(o){}};return ja.SynthesisAdapterBase=i,i.telemetryDataEnabled=!0,ja}var qa={},wP;function BF(){if(wP)return qa;wP=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.AvatarSynthesisAdapter=void 0;const t=N(),e=j();let r=class extends e.SynthesisAdapterBase{constructor(i,s,o,a,c){super(i,s,o,void 0),this.privAvatarSynthesizer=a,this.privSynthesizer=a,this.privAvatarConfig=c}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var i,s,o,a,c,l,u,d,p,m,h,v,y,f,g,C;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:(i=this.privAvatarConfig.videoFormat)==null?void 0:i.bitrate,codec:(s=this.privAvatarConfig.videoFormat)==null?void 0:s.codec,crop:{bottomRight:{x:(c=(a=(o=this.privAvatarConfig.videoFormat)==null?void 0:o.cropRange)==null?void 0:a.bottomRight)==null?void 0:c.x,y:(d=(u=(l=this.privAvatarConfig.videoFormat)==null?void 0:l.cropRange)==null?void 0:u.bottomRight)==null?void 0:d.y},topLeft:{x:(h=(m=(p=this.privAvatarConfig.videoFormat)==null?void 0:p.cropRange)==null?void 0:m.topLeft)==null?void 0:h.x,y:(f=(y=(v=this.privAvatarConfig.videoFormat)==null?void 0:v.cropRange)==null?void 0:y.topLeft)==null?void 0:f.y}},resolution:{height:(g=this.privAvatarConfig.videoFormat)==null?void 0:g.height,width:(C=this.privAvatarConfig.videoFormat)==null?void 0:C.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(i){if(this.privAvatarSynthesizer.avatarEventReceived){const s=new t.AvatarEventArgs(i.Data.Offset,i.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,s)}catch{}}}};return qa.AvatarSynthesisAdapter=r,qa}var Ha={},bP;function LF(){if(bP)return Ha;bP=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.SpeechSynthesisAdapter=void 0;const t=N(),e=j();let r=class extends e.SynthesisAdapterBase{constructor(i,s,o,a,c){super(i,s,o,c),this.privSpeechSynthesizer=a,this.privSynthesizer=a}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(i){const s=new t.SpeechSynthesisEventArgs(new t.SpeechSynthesisResult(i,t.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,s)}onSynthesizing(i){if(this.privSpeechSynthesizer.synthesizing)try{const s=this.privSynthesisTurn.audioOutputFormat.addHeader(i),o=new t.SpeechSynthesisEventArgs(new t.SpeechSynthesisResult(this.privSynthesisTurn.requestId,t.ResultReason.SynthesizingAudio,s));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,o)}catch{}}onSynthesisCancelled(i){if(this.privSpeechSynthesizer.SynthesisCanceled){const s=new t.SpeechSynthesisEventArgs(i);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,s)}catch{}}}onSynthesisCompleted(i){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new t.SpeechSynthesisEventArgs(i))}catch{}}onWordBoundary(i){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,i)}catch{}}onVisemeReceived(i){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,i)}catch{}}onBookmarkReached(i){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,i)}catch{}}};return Ha.SpeechSynthesisAdapter=r,Ha}var Ua={},TP;function jF(){if(TP)return Ua;TP=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.SynthesisRestAdapter=void 0;const t=Ve(),e=N(),r=ur(),n=Ke;let i=class{constructor(o,a){let c=o.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!c){const u=o.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,"westus"),d=r.ConnectionFactoryBase.getHostSuffix(u);c=o.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,`https://${u}.tts.speech${d}`)}this.privUri=`${c}/cognitiveservices/voices/list`;const l=t.RestConfigBase.requestOptions;this.privRestAdapter=new t.RestMessageAdapter(l),this.privAuthentication=a}getVoicesList(o){return this.privRestAdapter.setHeaders(n.HeaderNames.ConnectionId,o),this.privAuthentication.fetch(o).then(a=>(this.privRestAdapter.setHeaders(a.headerName,a.token),this.privRestAdapter.request(t.RestRequestType.Get,this.privUri)))}};return Ua.SynthesisRestAdapter=i,Ua}var zm={},IP;function qF(){return IP||(IP=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;const e=j();var r;(function(i){i[i.Standard=0]="Standard",i[i.Custom=1]="Custom"})(r=t.SynthesisServiceType||(t.SynthesisServiceType={}));class n{constructor(s,o){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=s||new e.SpeechServiceConfig(new e.Context(null)),this.privParameters=o}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(s){this.privSynthesisServiceType=s}set synthesisVideoSection(s){this.privSpeechServiceConfig.Context.synthesis={video:s}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}t.SynthesizerConfig=n}(zm)),zm}var Fa={},_P;function HF(){if(_P)return Fa;_P=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.SynthesisContext=void 0;const t=N();let e=class{constructor(){this.privContext={}}setSection(n,i){this.privContext[n]=i}set audioOutputFormat(n){this.privAudioOutputFormat=n}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(n){const i=this.buildSynthesisContext(n);this.setSection("synthesis",i)}buildSynthesisContext(n){return{audio:{metadataOptions:{bookmarkEnabled:!!(n!=null&&n.bookmarkReached),punctuationBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!(n!=null&&n.wordBoundary)),sentenceBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!(n!=null&&n.visemeReceived),wordBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!(n!=null&&n.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:n==null?void 0:n.autoDetectSourceLanguage}}}};return Fa.SynthesisContext=e,Fa}var $a={},AP;function UF(){if(AP)return $a;AP=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.SpeakerRecognitionConfig=void 0;const t=j();let e=class{constructor(n,i){this.privContext=n||new t.Context(null),this.privParameters=i}get parameters(){return this.privParameters}get Context(){return this.privContext}};return $a.SpeakerRecognitionConfig=e,$a}var Wa={},zP;function FF(){if(zP)return Wa;zP=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.SpeakerServiceRecognizer=void 0;const t=Ve(),e=U(),r=N(),n=j(),i=Xr;let s=class extends n.ServiceRecognizerBase{constructor(a,c,l,u,d){super(a,c,l,u,d),this.privSpeakerRecognizer=d,this.privSpeakerAudioSource=l,this.recognizeSpeaker=p=>this.recognizeSpeakerOnce(p),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(a){let c=!1;const l=new r.PropertyCollection;switch(a.messageType===e.MessageType.Text&&l.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.response":const d=JSON.parse(a.textBody);let p;d.status.statusCode.toLowerCase()!=="success"?p=new r.SpeakerRecognitionResult(d,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,d.status.reason):p=new r.SpeakerRecognitionResult(d,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(p),c=!0;break}const u=new e.Deferred;return u.resolve(c),u.promise}cancelRecognition(a,c,l,u,d){if(new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[u]),this.privResultDeferral){const m=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:d,reason:d}},r.ResultReason.Canceled,u,d);try{this.privResultDeferral.resolve(m)}catch(h){this.privResultDeferral.reject(h)}}}async recognizeSpeakerOnce(a){this.privSpeakerModel=a,this.voiceProfileType=a.scenario,this.privResultDeferral||(this.privResultDeferral=new e.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const c=this.connectImpl(),l=this.sendPreAudioMessages(this.extractSpeakerContext(a)),u=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),d=await this.privSpeakerAudioSource.format,p=await this.privSpeakerAudioSource.deviceInfo,m=new t.ReplayableAudioNode(u,d.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(m,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:p};try{await c,await l}catch(y){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,y)}const h=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,h),this.receiveMessage(),this.sendAudio(m).then(()=>{},y=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,y)}),this.privResultDeferral.promise}async sendPreAudioMessages(a){const c=await this.fetchConnection();await this.sendSpeakerRecognition(c,a)}async sendSpeakerRecognition(a,c){const l=JSON.stringify(c);return a.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",l))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}};return Wa.SpeakerServiceRecognizer=s,Wa}var Ka={},OP;function $F(){if(OP)return Ka;OP=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.VoiceServiceRecognizer=void 0;const t=Ve(),e=U(),r=N(),n=j(),i=Xr;let s=class extends n.ServiceRecognizerBase{constructor(a,c,l,u,d){super(a,c,l,u,d),this.privDeferralMap=new e.DeferralMap,this.privSpeakerAudioSource=l,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(a){this.privSpeakerAudioSource=a}processTypeSpecificMessages(a){let c=!1;const l=new r.PropertyCollection;switch(a.messageType===e.MessageType.Text&&l.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.profiles":const d=JSON.parse(a.textBody);switch(d.operation.toLowerCase()){case"create":this.handleCreateResponse(d,a.requestId);break;case"delete":case"reset":this.handleResultResponse(d,a.requestId);break;case"fetch":const v=JSON.parse(a.textBody);this.handleFetchResponse(v,a.requestId);break}c=!0;break;case"speaker.phrases":const p=JSON.parse(a.textBody);this.handlePhrasesResponse(p,a.requestId),c=!0;break;case"speaker.profile.enrollment":const m=JSON.parse(a.textBody),h=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(m.enrollment?m.enrollment.enrollmentStatus:m.status.statusCode),m.enrollment?JSON.stringify(m.enrollment):void 0,m.status.reason);this.privDeferralMap.getId(a.requestId)&&this.privDeferralMap.complete(a.requestId,h),this.privRequestSession.onSpeechEnded(),c=!0;break}const u=new e.Deferred;return u.resolve(c),u.promise}cancelRecognition(a,c,l,u,d){new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[u]);const m=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,d,d);this.privDeferralMap.getId(c)&&this.privDeferralMap.complete(c,m)}async createProfile(a,c){this.voiceProfileType=a.toString();const l=this.connectImpl();try{const u=new e.Deferred;return await l,await this.sendCreateProfile(u,a,c),this.receiveMessage(),u.promise}catch(u){throw u}}async resetProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("reset",a.profileType,a)}async deleteProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("delete",a.profileType,a)}async retrieveEnrollmentResult(a){return this.voiceProfileType=a.profileType.toString(),this.privExpectedProfileId=a.profileId,this.sendCommonRequest("fetch",a.profileType,a)}async getAllProfiles(a){return this.voiceProfileType=a.toString(),this.sendCommonRequest("fetch",a)}async getActivationPhrases(a,c){this.voiceProfileType=a.toString();const l=this.connectImpl();try{const u=new e.Deferred;return await l,await this.sendPhrasesRequest(u,a,c),this.receiveMessage(),u.promise}catch(u){throw u}}async enrollProfile(a){this.voiceProfileType=a.profileType.toString();const c=new e.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const l=this.connectImpl(),u=this.sendPreAudioMessages(a,c),d=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),p=await this.privSpeakerAudioSource.format,m=await this.privSpeakerAudioSource.deviceInfo,h=new t.ReplayableAudioNode(d,p.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(h,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:m};try{await l,await u}catch(f){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,f)}const v=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,v),this.receiveMessage(),this.sendAudio(h).then(()=>{},f=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,f)}),c.promise}async sendPreAudioMessages(a,c){const l=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,c),await this.sendBaseRequest(l,"enroll",this.scenarioFrom(a.profileType),a)}async sendPhrasesRequest(a,c,l){const u=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const d=this.scenarioFrom(c),p={locale:l,scenario:d};return u.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(p)))}async sendCreateProfile(a,c,l){const u=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const d=c===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":c===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",p={locale:l,number:"1",scenario:d};return u.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(p)))}async sendCommonRequest(a,c,l=void 0){const u=this.connectImpl();try{const d=new e.Deferred;this.privRequestSession.onSpeechContext(),await u;const p=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,d),await this.sendBaseRequest(p,a,this.scenarioFrom(c),l),this.receiveMessage(),d.promise}catch(d){throw d}}async sendBaseRequest(a,c,l,u){const d={scenario:l};return u?d.profileIds=[u.profileId]:d.maxPageSize=-1,a.send(new i.SpeechConnectionMessage(e.MessageType.Text,`speaker.profile.${c}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(d)))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}handlePhrasesResponse(a,c){if(this.privDeferralMap.getId(c))if(a.status.statusCode.toLowerCase()!=="success"){const l=r.ResultReason.Canceled,u=new r.VoiceProfilePhraseResult(l,a.status.statusCode,a.passPhraseType,[]);this.privDeferralMap.complete(c,u)}else if(a.phrases&&a.phrases.length>0){const l=r.ResultReason.EnrollingVoiceProfile,u=new r.VoiceProfilePhraseResult(l,a.status.statusCode,a.passPhraseType,a.phrases);this.privDeferralMap.complete(c,u)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${c} not found`)}handleCreateResponse(a,c){if(a.profiles&&a.profiles.length>0)if(this.privDeferralMap.getId(c)){const l=a.profiles.map(u=>u.profileId);this.privDeferralMap.complete(c,l)}else throw new Error(`Voice Profile create request for requestID ${c} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(a,c){if(this.privDeferralMap.getId(c)){const l=a.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,u=a.status.statusCode.toLowerCase()==="success"?l:r.ResultReason.Canceled,d=new r.VoiceProfileResult(u,`statusCode: ${a.status.statusCode}, errorDetails: ${a.status.reason}`);this.privDeferralMap.complete(c,d)}else throw new Error(`Voice Profile create request for requestID ${c} not found`)}handleFetchResponse(a,c){if(this.privDeferralMap.getId(c)&&a.profiles[0]){if(this.privExpectedProfileId&&a.profiles.length===1&&a.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const l=a.profiles[0],u=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(l.enrollmentStatus),JSON.stringify(l),a.status.reason);this.privDeferralMap.complete(c,u)}else if(a.profiles.length>0){const l=a.profiles,u=[];for(const d of l)u.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(d.enrollmentStatus),JSON.stringify(d),a.status.reason));this.privDeferralMap.complete(c,u)}}else throw new Error(`Voice Profile fetch request for requestID ${c} not found`)}enrollmentReasonFrom(a){switch(a.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(a){return a===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":a===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return Ka.VoiceServiceRecognizer=s,Ka}var nI={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.Device=t.OS=t.System=t.Context=t.SpeechServiceConfig=void 0;class e{constructor(a){this.context=a}serialize(){return JSON.stringify(this,(a,c)=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const l={};for(const u in c)Object.hasOwnProperty.call(c,u)&&(l[u&&u.charAt(0).toLowerCase()+u.substring(1)]=c[u]);return l}return c})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(a){this.recognition=a.toLowerCase()}}t.SpeechServiceConfig=e;class r{constructor(a){this.system=new n,this.os=a}}t.Context=r;class n{constructor(){const a="1.36.0";this.name="SpeechSDK",this.version=a,this.build="JavaScript",this.lang="JavaScript"}}t.System=n;class i{constructor(a,c,l){this.platform=a,this.name=c,this.version=l}}t.OS=i;class s{constructor(a,c,l){this.manufacturer=a,this.model=c,this.version=l}}t.Device=s,function(o){o.Bluetooth="Bluetooth",o.Wired="Wired",o.WiFi="WiFi",o.Cellular="Cellular",o.InBuilt="InBuilt",o.Unknown="Unknown"}(t.connectivity||(t.connectivity={})),function(o){o.Phone="Phone",o.Speaker="Speaker",o.Car="Car",o.Headset="Headset",o.Thermostat="Thermostat",o.Microphones="Microphones",o.Deskphone="Deskphone",o.RemoteControl="RemoteControl",o.Unknown="Unknown",o.File="File",o.Stream="Stream"}(t.type||(t.type={}))})(nI);var MP;function j(){return MP||(MP=1,function(t){var e=Y&&Y.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a),Object.defineProperty(s,c,{enumerable:!0,get:function(){return o[a]}})}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),r=Y&&Y.__exportStar||function(s,o){for(var a in s)a!=="default"&&!o.hasOwnProperty(a)&&e(o,s,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguagesOpenRangeOptionName=t.ForceDictationPropertyName=t.ServicePropertiesPropertyName=t.CancellationErrorCodePropertyName=t.OutputFormatPropertyName=void 0,r(Cd,t),r(Td,t),r(Ws,t),r(eT,t),r(tT,t),r(OU(),t),r(MU(),t),r(rp,t),r(kU(),t),r(DU(),t),r(BU(),t),r(GT,t),r(np,t),r(jU(),t),r(qU(),t),r(HU(),t),r(UU(),t),r(WT(),t),r(FU(),t),r(QT,t),r($U(),t),r(ip,t),r(VU(),t),r(GU(),t),r(sp,t),r(op,t),r(ap,t),r(QU(),t),r(JU(),t),r(XU(),t),r(YU(),t),r(ZU(),t),r(cp,t),r(tF(),t),r(lp,t),r(ZT,t),r(up,t),r(pp,t),r(mp,t),r(eI,t),r(mF(),t),r(vp,t),r(AF(),t),r(sg,t),r(kF(),t),r(DF(),t);var n=BF();Object.defineProperty(t,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return n.AvatarSynthesisAdapter}});var i=LF();Object.defineProperty(t,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return i.SpeechSynthesisAdapter}}),r(jF(),t),r(qF(),t),r(HF(),t),r(UF(),t),r(FF(),t),r($F(),t),r(nI,t),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode",t.ServicePropertiesPropertyName="ServiceProperties",t.ForceDictationPropertyName="ForceDictation",t.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"}(vm)),vm}(function(t){var e=Y&&Y.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o),Object.defineProperty(i,a,{enumerable:!0,get:function(){return s[o]}})}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=Y&&Y.__exportStar||function(i,s){for(var o in i)o!=="default"&&!s.hasOwnProperty(o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0});const n=j();new n.AgentConfig,r(N(),t)})(ri);class WF{constructor(){this.speechConfig=ri.SpeechConfig.fromSubscription(Vj,Gj),this.audioConfig=ri.AudioConfig.fromDefaultMicrophoneInput(),this.speechRecognizer=new ri.SpeechRecognizer(this.speechConfig,this.audioConfig),this.speechSynthesizer=new ri.SpeechSynthesizer(this.speechConfig),this.speakStartTime=null,this.speakStopTime=null}startSpeechRecognition(e){this.speechRecognizer.recognizing=(r,n)=>{console.log(r,n)},this.speechRecognizer.recognized=(r,n)=>{n.result.reason===ri.ResultReason.RecognizedSpeech&&e(n.result.text)},this.speechRecognizer.startContinuousRecognitionAsync()}speak(e){return new Promise(r=>{this.speakStartTime=Date.now(),this.speechSynthesizer.speakTextAsync(e,n=>{if(n.reason===ri.ResultReason.SynthesizingAudioCompleted){this.speakStopTime=Date.now();const i=this.speakStopTime-this.speakStartTime;r(i)}})})}stopSpeechRecognition(){this.speechRecognizer.stopContinuousRecognitionAsync()}close(){this.speechRecognizer.close()}}const KF=({loading:t,handleApiCall:e,addOnChat:r})=>{const[n,i]=q.useState(!1),[s,o]=q.useState(null),[a,c]=q.useState(""),l=()=>{const d=new WF;n?(s.stopSpeechRecognition(),s.close(),i(!1)):(i(!0),o(d),d.startSpeechRecognition(p=>{if(!p.length)return;const m={id:Ru(),userMessage:p};r(m),setTimeout(()=>{e(p)},0),d.stopSpeechRecognition(),i(!1)}))},u=d=>{if(d.preventDefault(),!a.length)return;const p={id:Ru(),userMessage:a};r(p),setTimeout(()=>{e(a)},0),c("")};return O.jsxs("form",{onSubmit:u,className:"flex border-t-2 border-[#a1ffbf] bg-gray-100",children:[O.jsx("button",{className:"w-12 flex justify-center items-center h-10 hover:bg-slate-300",onClick:l,type:"button",children:n?O.jsx(gq,{color:"red"}):O.jsx(vq,{color:"#767676"})}),O.jsx("input",{type:"text",placeholder:"Write your message here",className:"px-6 flex-1 bg-gray-100",disabled:t||n,value:a,onChange:d=>c(d.target.value)}),O.jsx("button",{type:"submit",className:"w-12 flex justify-center items-center h-10 hover:bg-slate-300",children:O.jsx(fq,{color:"#767676"})})]})},VF=[{id:"1",botMessage:"Hello!"},{id:"2",botMessage:"How can I assist you today?"}],GF=()=>{const[t,e]=q.useState([...VF]),[r,n]=q.useState(!1),[i,s]=q.useState({url:"",pageNo:1}),[o,a]=q.useState(!1),c=async p=>{n(!0);try{const h=await(await fetch(`/api/chat?query=${p}`)).json(),v=h==null?void 0:h.Result,y=h==null?void 0:h.Source.split(`
`).filter(g=>g!==""),f={id:Ru(),botMessage:v,urlsArray:y};d(f)}catch(m){console.log(m)}finally{n(!1)}},l=(p,m)=>{a(!1),s({url:"",pageNo:1}),setTimeout(()=>{s({url:p,pageNo:m}),a(!0)},0)},u=()=>a(!1),d=p=>{e(m=>[...m,p])};return O.jsxs("div",{className:`lg:w-[1000px] h-[100dvh] lg:h-[90dvh] grid grid-cols-1 ${o?"md:grid-cols-2":"md:grid-cols-1"} gap-2  mx-auto overflow-hidden rounded-lg`,children:[O.jsxs("div",{className:" lg:min-w-[500px] bg-white flex flex-col shadow-lg shadow-slate-700 flex-grow",children:[O.jsx(eq,{}),O.jsx(L0,{chats:t,loading:r,handleClick:l}),O.jsx(KF,{loading:r,addOnChat:d,handleApiCall:c})]}),o?O.jsx(aq,{pdfDetails:i,hidePdf:u}):null]})};function QF(){return O.jsx("div",{className:"bg-[url(./assets/bg.jpg)] bg-fixed bg-cover h-[100dvh] lg:p-8",children:O.jsx(oz,{children:O.jsx(iN,{path:"/",element:O.jsx(GF,{})})})})}Om.createRoot(document.getElementById("root")).render(O.jsx(Lr.StrictMode,{children:O.jsx(lz,{children:O.jsx(QF,{})})}));
